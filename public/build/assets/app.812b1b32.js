function cy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Gi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Og(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",o=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",p="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",b=500,y="__lodash_placeholder__",S=1,O=2,L=4,D=1,V=2,z=1,H=2,G=4,$=8,Q=16,tt=32,Z=64,at=128,J=256,dt=512,yt=30,ut="...",gt=800,Rt=16,et=1,Et=2,pt=3,Ze=1/0,ye=9007199254740991,dn=17976931348623157e292,Ln=0/0,ne=4294967295,gn=ne-1,ve=ne>>>1,qi=[["ary",at],["bind",z],["bindKey",H],["curry",$],["curryRight",Q],["flip",dt],["partial",tt],["partialRight",Z],["rearg",J]],bt="[object Arguments]",ti="[object Array]",Ve="[object AsyncFunction]",xi="[object Boolean]",mi="[object Date]",pn="[object DOMException]",Qi="[object Error]",Ht="[object Function]",Ji="[object GeneratorFunction]",Re="[object Map]",wi="[object Number]",Ke="[object Null]",Vt="[object Object]",jt="[object Promise]",Os="[object Proxy]",_t="[object RegExp]",xn="[object Set]",Tr="[object String]",Pn="[object Symbol]",ho="[object Undefined]",cn="[object WeakMap]",Ra="[object WeakSet]",Bn="[object ArrayBuffer]",De="[object DataView]",Ns="[object Float32Array]",vr="[object Float64Array]",fo="[object Int8Array]",Ce="[object Int16Array]",ht="[object Int32Array]",Me="[object Uint8Array]",ie="[object Uint8ClampedArray]",xe="[object Uint16Array]",$i="[object Uint32Array]",go=/\b__p \+= '';/g,Da=/\b(__p \+=) '' \+/g,qt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Li=/&(?:amp|lt|gt|quot|#39);/g,po=/[&<>"']/g,Lc=RegExp(Li.source),Yn=RegExp(po.source),xo=/<%-([\s\S]+?)%>/g,en=/<%([\s\S]+?)%>/g,tr=/<%=([\s\S]+?)%>/g,Rs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ei=/^\w*$/,Pc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_i=/[\\^$.*+?()[\]{}|]/g,mo=RegExp(_i.source),nn=/^\s+/,er=/\s/,kn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mt=/\{\n\/\* \[wrapped with (.+)\] \*/,Mr=/,? & /,La=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mn=/[()=,{}\[\]\/\s]/,Or=/\\(\\)?/g,Ds=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,es=/\w*$/,ni=/^[-+]0x[0-9a-f]+$/i,Bc=/^0b[01]+$/i,kc=/^\[object .+?Constructor\]$/,ii=/^0o[0-7]+$/i,un=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ls=/($^)/,Pi=/['\n\r\u2028\u2029\\]/g,Nr="\\ud800-\\udfff",lt="\\u0300-\\u036f",Fc="\\ufe20-\\ufe2f",Se="\\u20d0-\\u20ff",nr=lt+Fc+Se,Pa="\\u2700-\\u27bf",Qt="a-z\\xdf-\\xf6\\xf8-\\xff",Jt="\\xac\\xb1\\xd7\\xf7",zt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wo="\\u2000-\\u206f",_o=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ps="A-Z\\xc0-\\xd6\\xd8-\\xde",Le="\\ufe0e\\ufe0f",bi=Jt+zt+wo+_o,bo="['\u2019]",Oe="["+Nr+"]",Ai="["+bi+"]",Bs="["+nr+"]",ir="\\d+",he="["+Pa+"]",qe="["+Qt+"]",K="[^"+Nr+bi+ir+Pa+Qt+Ps+"]",B="\\ud83c[\\udffb-\\udfff]",Ct="(?:"+Bs+"|"+B+")",Fe="[^"+Nr+"]",wn="(?:\\ud83c[\\udde6-\\uddff]){2}",Ao="[\\ud800-\\udbff][\\udc00-\\udfff]",Bi="["+Ps+"]",vn="\\u200d",St="(?:"+qe+"|"+K+")",Ee="(?:"+Bi+"|"+K+")",yo="(?:"+bo+"(?:d|ll|m|re|s|t|ve))?",Ba="(?:"+bo+"(?:D|LL|M|RE|S|T|VE))?",ks=Ct+"?",ns="["+Le+"]?",Eo="(?:"+vn+"(?:"+[Fe,wn,Ao].join("|")+")"+ns+ks+")*",Uc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rr=ns+ks+Eo,ki="(?:"+[he,wn,Ao].join("|")+")"+Rr,vt="(?:"+[Fe+Bs+"?",Bs,wn,Ao,Oe].join("|")+")",zc=RegExp(bo,"g"),Lt=RegExp(Bs,"g"),Ue=RegExp(B+"(?="+B+")|"+vt+Rr,"g"),Wc=RegExp([Bi+"?"+qe+"+"+yo+"(?="+[Ai,Bi,"$"].join("|")+")",Ee+"+"+Ba+"(?="+[Ai,Bi+St,"$"].join("|")+")",Bi+"?"+St+"+"+yo,Bi+"+"+Ba,je,Uc,ir,ki].join("|"),"g"),Co=RegExp("["+vn+Nr+nr+Le+"]"),ka=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Hc=-1,re={};re[Ns]=re[vr]=re[fo]=re[Ce]=re[ht]=re[Me]=re[ie]=re[xe]=re[$i]=!0,re[bt]=re[ti]=re[Bn]=re[xi]=re[De]=re[mi]=re[Qi]=re[Ht]=re[Re]=re[wi]=re[Vt]=re[_t]=re[xn]=re[Tr]=re[cn]=!1;var $t={};$t[bt]=$t[ti]=$t[Bn]=$t[De]=$t[xi]=$t[mi]=$t[Ns]=$t[vr]=$t[fo]=$t[Ce]=$t[ht]=$t[Re]=$t[wi]=$t[Vt]=$t[_t]=$t[xn]=$t[Tr]=$t[Pn]=$t[Me]=$t[ie]=$t[xe]=$t[$i]=!0,$t[Qi]=$t[Ht]=$t[cn]=!1;var is={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Fa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ss={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_n=parseFloat,Ua=parseInt,So=typeof Gi=="object"&&Gi&&Gi.Object===Object&&Gi,za=typeof self=="object"&&self&&self.Object===Object&&self,Qe=So||za||Function("return this")(),Io=t&&!t.nodeType&&t,sr=Io&&!0&&e&&!e.nodeType&&e,se=sr&&sr.exports===Io,Fs=se&&So.process,hn=function(){try{var M=sr&&sr.require&&sr.require("util").types;return M||Fs&&Fs.binding&&Fs.binding("util")}catch{}}(),yi=hn&&hn.isArrayBuffer,Wa=hn&&hn.isDate,nt=hn&&hn.isMap,Pt=hn&&hn.isRegExp,Ye=hn&&hn.isSet,os=hn&&hn.isTypedArray;function bn(M,k,F){switch(F.length){case 0:return M.call(k);case 1:return M.call(k,F[0]);case 2:return M.call(k,F[0],F[1]);case 3:return M.call(k,F[0],F[1],F[2])}return M.apply(k,F)}function Vc(M,k,F,q){for(var it=-1,rt=M==null?0:M.length;++it<rt;){var It=M[it];k(q,It,F(It),M)}return q}function Fn(M,k){for(var F=-1,q=M==null?0:M.length;++F<q&&k(M[F],F,M)!==!1;);return M}function jc(M,k){for(var F=M==null?0:M.length;F--&&k(M[F],F,M)!==!1;);return M}function Us(M,k){for(var F=-1,q=M==null?0:M.length;++F<q;)if(!k(M[F],F,M))return!1;return!0}function fe(M,k){for(var F=-1,q=M==null?0:M.length,it=0,rt=[];++F<q;){var It=M[F];k(It,F,M)&&(rt[it++]=It)}return rt}function Dr(M,k){var F=M==null?0:M.length;return!!F&&Fi(M,k,0)>-1}function we(M,k,F){for(var q=-1,it=M==null?0:M.length;++q<it;)if(F(k,M[q]))return!0;return!1}function ce(M,k){for(var F=-1,q=M==null?0:M.length,it=Array(q);++F<q;)it[F]=k(M[F],F,M);return it}function An(M,k){for(var F=-1,q=k.length,it=M.length;++F<q;)M[it+F]=k[F];return M}function oe(M,k,F,q){var it=-1,rt=M==null?0:M.length;for(q&&rt&&(F=M[++it]);++it<rt;)F=k(F,M[it],it,M);return F}function Tt(M,k,F,q){var it=M==null?0:M.length;for(q&&it&&(F=M[--it]);it--;)F=k(F,M[it],it,M);return F}function To(M,k){for(var F=-1,q=M==null?0:M.length;++F<q;)if(k(M[F],F,M))return!0;return!1}var ge=Ws("length");function or(M){return M.split("")}function Lr(M){return M.match(La)||[]}function Ha(M,k,F){var q;return F(M,function(it,rt,It){if(k(it,rt,It))return q=rt,!1}),q}function Mn(M,k,F,q){for(var it=M.length,rt=F+(q?1:-1);q?rt--:++rt<it;)if(k(M[rt],rt,M))return rt;return-1}function Fi(M,k,F){return k===k?u(M,k,F):Mn(M,zs,F)}function Va(M,k,F,q){for(var it=F-1,rt=M.length;++it<rt;)if(q(M[it],k))return it;return-1}function zs(M){return M!==M}function vo(M,k){var F=M==null?0:M.length;return F?No(M,k)/F:Ln}function Ws(M){return function(k){return k==null?n:k[M]}}function Mo(M){return function(k){return M==null?n:M[k]}}function ar(M,k,F,q,it){return it(M,function(rt,It,xt){F=q?(q=!1,rt):k(F,rt,It,xt)}),F}function Oo(M,k){var F=M.length;for(M.sort(k);F--;)M[F]=M[F].value;return M}function No(M,k){for(var F,q=-1,it=M.length;++q<it;){var rt=k(M[q]);rt!==n&&(F=F===n?rt:F+rt)}return F}function lr(M,k){for(var F=-1,q=Array(M);++F<M;)q[F]=k(F);return q}function Yc(M,k){return ce(k,function(F){return[F,M[F]]})}function Ei(M){return M&&M.slice(0,_(M)+1).replace(nn,"")}function rn(M){return function(k){return M(k)}}function yn(M,k){return ce(k,function(F){return M[F]})}function Pr(M,k){return M.has(k)}function Gn(M,k){for(var F=-1,q=M.length;++F<q&&Fi(k,M[F],0)>-1;);return F}function ja(M,k){for(var F=M.length;F--&&Fi(k,M[F],0)>-1;);return F}function Ro(M,k){for(var F=M.length,q=0;F--;)M[F]===k&&++q;return q}var Gc=Mo(is),Ya=Mo(Fa);function ri(M){return"\\"+ss[M]}function Xc(M,k){return M==null?n:M[k]}function Ui(M){return Co.test(M)}function as(M){return ka.test(M)}function Xt(M){for(var k,F=[];!(k=M.next()).done;)F.push(k.value);return F}function Br(M){var k=-1,F=Array(M.size);return M.forEach(function(q,it){F[++k]=[it,q]}),F}function I(M,k){return function(F){return M(k(F))}}function i(M,k){for(var F=-1,q=M.length,it=0,rt=[];++F<q;){var It=M[F];(It===k||It===y)&&(M[F]=y,rt[it++]=F)}return rt}function s(M){var k=-1,F=Array(M.size);return M.forEach(function(q){F[++k]=q}),F}function a(M){var k=-1,F=Array(M.size);return M.forEach(function(q){F[++k]=[q,q]}),F}function u(M,k,F){for(var q=F-1,it=M.length;++q<it;)if(M[q]===k)return q;return-1}function h(M,k,F){for(var q=F+1;q--;)if(M[q]===k)return q;return q}function g(M){return Ui(M)?C(M):ge(M)}function x(M){return Ui(M)?T(M):or(M)}function _(M){for(var k=M.length;k--&&er.test(M.charAt(k)););return k}var A=Mo(rs);function C(M){for(var k=Ue.lastIndex=0;Ue.test(M);)++k;return k}function T(M){return M.match(Ue)||[]}function N(M){return M.match(Wc)||[]}var U=function M(k){k=k==null?Qe:j.defaults(Qe.Object(),k,j.pick(Qe,rr));var F=k.Array,q=k.Date,it=k.Error,rt=k.Function,It=k.Math,xt=k.Object,sn=k.RegExp,Xn=k.String,pe=k.TypeError,te=F.prototype,Je=rt.prototype,Ge=xt.prototype,Ci=k["__core-js_shared__"],Si=Je.toString,ae=Ge.hasOwnProperty,Zc=0,Hf=function(){var l=/[^.]+$/.exec(Ci&&Ci.keys&&Ci.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Ga=Ge.toString,s2=Si.call(xt),o2=Qe._,a2=sn("^"+Si.call(ae).replace(_i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xa=se?k.Buffer:n,kr=k.Symbol,Za=k.Uint8Array,Vf=Xa?Xa.allocUnsafe:n,Ka=I(xt.getPrototypeOf,xt),jf=xt.create,Yf=Ge.propertyIsEnumerable,qa=te.splice,Gf=kr?kr.isConcatSpreadable:n,Do=kr?kr.iterator:n,ls=kr?kr.toStringTag:n,Qa=function(){try{var l=ds(xt,"defineProperty");return l({},"",{}),l}catch{}}(),l2=k.clearTimeout!==Qe.clearTimeout&&k.clearTimeout,c2=q&&q.now!==Qe.Date.now&&q.now,u2=k.setTimeout!==Qe.setTimeout&&k.setTimeout,Ja=It.ceil,$a=It.floor,Kc=xt.getOwnPropertySymbols,h2=Xa?Xa.isBuffer:n,Xf=k.isFinite,f2=te.join,d2=I(xt.keys,xt),$e=It.max,En=It.min,g2=q.now,p2=k.parseInt,Zf=It.random,x2=te.reverse,qc=ds(k,"DataView"),Lo=ds(k,"Map"),Qc=ds(k,"Promise"),Hs=ds(k,"Set"),Po=ds(k,"WeakMap"),Bo=ds(xt,"create"),tl=Po&&new Po,Vs={},m2=gs(qc),w2=gs(Lo),_2=gs(Qc),b2=gs(Hs),A2=gs(Po),el=kr?kr.prototype:n,ko=el?el.valueOf:n,Kf=el?el.toString:n;function R(l){if(Pe(l)&&!Dt(l)&&!(l instanceof Yt)){if(l instanceof si)return l;if(ae.call(l,"__wrapped__"))return qd(l)}return new si(l)}var js=function(){function l(){}return function(d){if(!Ne(d))return{};if(jf)return jf(d);l.prototype=d;var w=new l;return l.prototype=n,w}}();function nl(){}function si(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}R.templateSettings={escape:xo,evaluate:en,interpolate:tr,variable:"",imports:{_:R}},R.prototype=nl.prototype,R.prototype.constructor=R,si.prototype=js(nl.prototype),si.prototype.constructor=si;function Yt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ne,this.__views__=[]}function y2(){var l=new Yt(this.__wrapped__);return l.__actions__=Un(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Un(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Un(this.__views__),l}function E2(){if(this.__filtered__){var l=new Yt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function C2(){var l=this.__wrapped__.value(),d=this.__dir__,w=Dt(l),E=d<0,v=w?l.length:0,P=Bm(0,v,this.__views__),W=P.start,Y=P.end,X=Y-W,st=E?Y:W-1,ot=this.__iteratees__,ct=ot.length,ft=0,At=En(X,this.__takeCount__);if(!w||!E&&v==X&&At==X)return _d(l,this.__actions__);var Ot=[];t:for(;X--&&ft<At;){st+=d;for(var Ft=-1,Nt=l[st];++Ft<ct;){var Wt=ot[Ft],Zt=Wt.iteratee,qn=Wt.type,Rn=Zt(Nt);if(qn==Et)Nt=Rn;else if(!Rn){if(qn==et)continue t;break t}}Ot[ft++]=Nt}return Ot}Yt.prototype=js(nl.prototype),Yt.prototype.constructor=Yt;function cs(l){var d=-1,w=l==null?0:l.length;for(this.clear();++d<w;){var E=l[d];this.set(E[0],E[1])}}function S2(){this.__data__=Bo?Bo(null):{},this.size=0}function I2(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function T2(l){var d=this.__data__;if(Bo){var w=d[l];return w===m?n:w}return ae.call(d,l)?d[l]:n}function v2(l){var d=this.__data__;return Bo?d[l]!==n:ae.call(d,l)}function M2(l,d){var w=this.__data__;return this.size+=this.has(l)?0:1,w[l]=Bo&&d===n?m:d,this}cs.prototype.clear=S2,cs.prototype.delete=I2,cs.prototype.get=T2,cs.prototype.has=v2,cs.prototype.set=M2;function cr(l){var d=-1,w=l==null?0:l.length;for(this.clear();++d<w;){var E=l[d];this.set(E[0],E[1])}}function O2(){this.__data__=[],this.size=0}function N2(l){var d=this.__data__,w=il(d,l);if(w<0)return!1;var E=d.length-1;return w==E?d.pop():qa.call(d,w,1),--this.size,!0}function R2(l){var d=this.__data__,w=il(d,l);return w<0?n:d[w][1]}function D2(l){return il(this.__data__,l)>-1}function L2(l,d){var w=this.__data__,E=il(w,l);return E<0?(++this.size,w.push([l,d])):w[E][1]=d,this}cr.prototype.clear=O2,cr.prototype.delete=N2,cr.prototype.get=R2,cr.prototype.has=D2,cr.prototype.set=L2;function ur(l){var d=-1,w=l==null?0:l.length;for(this.clear();++d<w;){var E=l[d];this.set(E[0],E[1])}}function P2(){this.size=0,this.__data__={hash:new cs,map:new(Lo||cr),string:new cs}}function B2(l){var d=pl(this,l).delete(l);return this.size-=d?1:0,d}function k2(l){return pl(this,l).get(l)}function F2(l){return pl(this,l).has(l)}function U2(l,d){var w=pl(this,l),E=w.size;return w.set(l,d),this.size+=w.size==E?0:1,this}ur.prototype.clear=P2,ur.prototype.delete=B2,ur.prototype.get=k2,ur.prototype.has=F2,ur.prototype.set=U2;function us(l){var d=-1,w=l==null?0:l.length;for(this.__data__=new ur;++d<w;)this.add(l[d])}function z2(l){return this.__data__.set(l,m),this}function W2(l){return this.__data__.has(l)}us.prototype.add=us.prototype.push=z2,us.prototype.has=W2;function Ii(l){var d=this.__data__=new cr(l);this.size=d.size}function H2(){this.__data__=new cr,this.size=0}function V2(l){var d=this.__data__,w=d.delete(l);return this.size=d.size,w}function j2(l){return this.__data__.get(l)}function Y2(l){return this.__data__.has(l)}function G2(l,d){var w=this.__data__;if(w instanceof cr){var E=w.__data__;if(!Lo||E.length<o-1)return E.push([l,d]),this.size=++w.size,this;w=this.__data__=new ur(E)}return w.set(l,d),this.size=w.size,this}Ii.prototype.clear=H2,Ii.prototype.delete=V2,Ii.prototype.get=j2,Ii.prototype.has=Y2,Ii.prototype.set=G2;function qf(l,d){var w=Dt(l),E=!w&&ps(l),v=!w&&!E&&Hr(l),P=!w&&!E&&!v&&Zs(l),W=w||E||v||P,Y=W?lr(l.length,Xn):[],X=Y.length;for(var st in l)(d||ae.call(l,st))&&!(W&&(st=="length"||v&&(st=="offset"||st=="parent")||P&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||gr(st,X)))&&Y.push(st);return Y}function Qf(l){var d=l.length;return d?l[lu(0,d-1)]:n}function X2(l,d){return xl(Un(l),hs(d,0,l.length))}function Z2(l){return xl(Un(l))}function Jc(l,d,w){(w!==n&&!Ti(l[d],w)||w===n&&!(d in l))&&hr(l,d,w)}function Fo(l,d,w){var E=l[d];(!(ae.call(l,d)&&Ti(E,w))||w===n&&!(d in l))&&hr(l,d,w)}function il(l,d){for(var w=l.length;w--;)if(Ti(l[w][0],d))return w;return-1}function K2(l,d,w,E){return Fr(l,function(v,P,W){d(E,v,w(v),W)}),E}function Jf(l,d){return l&&Wi(d,on(d),l)}function q2(l,d){return l&&Wi(d,Wn(d),l)}function hr(l,d,w){d=="__proto__"&&Qa?Qa(l,d,{configurable:!0,enumerable:!0,value:w,writable:!0}):l[d]=w}function $c(l,d){for(var w=-1,E=d.length,v=F(E),P=l==null;++w<E;)v[w]=P?n:Du(l,d[w]);return v}function hs(l,d,w){return l===l&&(w!==n&&(l=l<=w?l:w),d!==n&&(l=l>=d?l:d)),l}function oi(l,d,w,E,v,P){var W,Y=d&S,X=d&O,st=d&L;if(w&&(W=v?w(l,E,v,P):w(l)),W!==n)return W;if(!Ne(l))return l;var ot=Dt(l);if(ot){if(W=Fm(l),!Y)return Un(l,W)}else{var ct=Cn(l),ft=ct==Ht||ct==Ji;if(Hr(l))return yd(l,Y);if(ct==Vt||ct==bt||ft&&!v){if(W=X||ft?{}:Wd(l),!Y)return X?Tm(l,q2(W,l)):Im(l,Jf(W,l))}else{if(!$t[ct])return v?l:{};W=Um(l,ct,Y)}}P||(P=new Ii);var At=P.get(l);if(At)return At;P.set(l,W),x0(l)?l.forEach(function(Nt){W.add(oi(Nt,d,w,Nt,l,P))}):g0(l)&&l.forEach(function(Nt,Wt){W.set(Wt,oi(Nt,d,w,Wt,l,P))});var Ot=st?X?_u:wu:X?Wn:on,Ft=ot?n:Ot(l);return Fn(Ft||l,function(Nt,Wt){Ft&&(Wt=Nt,Nt=l[Wt]),Fo(W,Wt,oi(Nt,d,w,Wt,l,P))}),W}function Q2(l){var d=on(l);return function(w){return $f(w,l,d)}}function $f(l,d,w){var E=w.length;if(l==null)return!E;for(l=xt(l);E--;){var v=w[E],P=d[v],W=l[v];if(W===n&&!(v in l)||!P(W))return!1}return!0}function td(l,d,w){if(typeof l!="function")throw new pe(f);return Yo(function(){l.apply(n,w)},d)}function Uo(l,d,w,E){var v=-1,P=Dr,W=!0,Y=l.length,X=[],st=d.length;if(!Y)return X;w&&(d=ce(d,rn(w))),E?(P=we,W=!1):d.length>=o&&(P=Pr,W=!1,d=new us(d));t:for(;++v<Y;){var ot=l[v],ct=w==null?ot:w(ot);if(ot=E||ot!==0?ot:0,W&&ct===ct){for(var ft=st;ft--;)if(d[ft]===ct)continue t;X.push(ot)}else P(d,ct,E)||X.push(ot)}return X}var Fr=Td(zi),ed=Td(eu,!0);function J2(l,d){var w=!0;return Fr(l,function(E,v,P){return w=!!d(E,v,P),w}),w}function rl(l,d,w){for(var E=-1,v=l.length;++E<v;){var P=l[E],W=d(P);if(W!=null&&(Y===n?W===W&&!Kn(W):w(W,Y)))var Y=W,X=P}return X}function $2(l,d,w,E){var v=l.length;for(w=Bt(w),w<0&&(w=-w>v?0:v+w),E=E===n||E>v?v:Bt(E),E<0&&(E+=v),E=w>E?0:w0(E);w<E;)l[w++]=d;return l}function nd(l,d){var w=[];return Fr(l,function(E,v,P){d(E,v,P)&&w.push(E)}),w}function fn(l,d,w,E,v){var P=-1,W=l.length;for(w||(w=Wm),v||(v=[]);++P<W;){var Y=l[P];d>0&&w(Y)?d>1?fn(Y,d-1,w,E,v):An(v,Y):E||(v[v.length]=Y)}return v}var tu=vd(),id=vd(!0);function zi(l,d){return l&&tu(l,d,on)}function eu(l,d){return l&&id(l,d,on)}function sl(l,d){return fe(d,function(w){return pr(l[w])})}function fs(l,d){d=zr(d,l);for(var w=0,E=d.length;l!=null&&w<E;)l=l[Hi(d[w++])];return w&&w==E?l:n}function rd(l,d,w){var E=d(l);return Dt(l)?E:An(E,w(l))}function On(l){return l==null?l===n?ho:Ke:ls&&ls in xt(l)?Pm(l):Zm(l)}function nu(l,d){return l>d}function tm(l,d){return l!=null&&ae.call(l,d)}function em(l,d){return l!=null&&d in xt(l)}function nm(l,d,w){return l>=En(d,w)&&l<$e(d,w)}function iu(l,d,w){for(var E=w?we:Dr,v=l[0].length,P=l.length,W=P,Y=F(P),X=1/0,st=[];W--;){var ot=l[W];W&&d&&(ot=ce(ot,rn(d))),X=En(ot.length,X),Y[W]=!w&&(d||v>=120&&ot.length>=120)?new us(W&&ot):n}ot=l[0];var ct=-1,ft=Y[0];t:for(;++ct<v&&st.length<X;){var At=ot[ct],Ot=d?d(At):At;if(At=w||At!==0?At:0,!(ft?Pr(ft,Ot):E(st,Ot,w))){for(W=P;--W;){var Ft=Y[W];if(!(Ft?Pr(Ft,Ot):E(l[W],Ot,w)))continue t}ft&&ft.push(Ot),st.push(At)}}return st}function im(l,d,w,E){return zi(l,function(v,P,W){d(E,w(v),P,W)}),E}function zo(l,d,w){d=zr(d,l),l=Yd(l,d);var E=l==null?l:l[Hi(li(d))];return E==null?n:bn(E,l,w)}function sd(l){return Pe(l)&&On(l)==bt}function rm(l){return Pe(l)&&On(l)==Bn}function sm(l){return Pe(l)&&On(l)==mi}function Wo(l,d,w,E,v){return l===d?!0:l==null||d==null||!Pe(l)&&!Pe(d)?l!==l&&d!==d:om(l,d,w,E,Wo,v)}function om(l,d,w,E,v,P){var W=Dt(l),Y=Dt(d),X=W?ti:Cn(l),st=Y?ti:Cn(d);X=X==bt?Vt:X,st=st==bt?Vt:st;var ot=X==Vt,ct=st==Vt,ft=X==st;if(ft&&Hr(l)){if(!Hr(d))return!1;W=!0,ot=!1}if(ft&&!ot)return P||(P=new Ii),W||Zs(l)?Fd(l,d,w,E,v,P):Dm(l,d,X,w,E,v,P);if(!(w&D)){var At=ot&&ae.call(l,"__wrapped__"),Ot=ct&&ae.call(d,"__wrapped__");if(At||Ot){var Ft=At?l.value():l,Nt=Ot?d.value():d;return P||(P=new Ii),v(Ft,Nt,w,E,P)}}return ft?(P||(P=new Ii),Lm(l,d,w,E,v,P)):!1}function am(l){return Pe(l)&&Cn(l)==Re}function ru(l,d,w,E){var v=w.length,P=v,W=!E;if(l==null)return!P;for(l=xt(l);v--;){var Y=w[v];if(W&&Y[2]?Y[1]!==l[Y[0]]:!(Y[0]in l))return!1}for(;++v<P;){Y=w[v];var X=Y[0],st=l[X],ot=Y[1];if(W&&Y[2]){if(st===n&&!(X in l))return!1}else{var ct=new Ii;if(E)var ft=E(st,ot,X,l,d,ct);if(!(ft===n?Wo(ot,st,D|V,E,ct):ft))return!1}}return!0}function od(l){if(!Ne(l)||Vm(l))return!1;var d=pr(l)?a2:kc;return d.test(gs(l))}function lm(l){return Pe(l)&&On(l)==_t}function cm(l){return Pe(l)&&Cn(l)==xn}function um(l){return Pe(l)&&yl(l.length)&&!!re[On(l)]}function ad(l){return typeof l=="function"?l:l==null?Hn:typeof l=="object"?Dt(l)?ud(l[0],l[1]):cd(l):M0(l)}function su(l){if(!jo(l))return d2(l);var d=[];for(var w in xt(l))ae.call(l,w)&&w!="constructor"&&d.push(w);return d}function hm(l){if(!Ne(l))return Xm(l);var d=jo(l),w=[];for(var E in l)E=="constructor"&&(d||!ae.call(l,E))||w.push(E);return w}function ou(l,d){return l<d}function ld(l,d){var w=-1,E=zn(l)?F(l.length):[];return Fr(l,function(v,P,W){E[++w]=d(v,P,W)}),E}function cd(l){var d=Au(l);return d.length==1&&d[0][2]?Vd(d[0][0],d[0][1]):function(w){return w===l||ru(w,l,d)}}function ud(l,d){return Eu(l)&&Hd(d)?Vd(Hi(l),d):function(w){var E=Du(w,l);return E===n&&E===d?Lu(w,l):Wo(d,E,D|V)}}function ol(l,d,w,E,v){l!==d&&tu(d,function(P,W){if(v||(v=new Ii),Ne(P))fm(l,d,W,w,ol,E,v);else{var Y=E?E(Su(l,W),P,W+"",l,d,v):n;Y===n&&(Y=P),Jc(l,W,Y)}},Wn)}function fm(l,d,w,E,v,P,W){var Y=Su(l,w),X=Su(d,w),st=W.get(X);if(st){Jc(l,w,st);return}var ot=P?P(Y,X,w+"",l,d,W):n,ct=ot===n;if(ct){var ft=Dt(X),At=!ft&&Hr(X),Ot=!ft&&!At&&Zs(X);ot=X,ft||At||Ot?Dt(Y)?ot=Y:ze(Y)?ot=Un(Y):At?(ct=!1,ot=yd(X,!0)):Ot?(ct=!1,ot=Ed(X,!0)):ot=[]:Go(X)||ps(X)?(ot=Y,ps(Y)?ot=_0(Y):(!Ne(Y)||pr(Y))&&(ot=Wd(X))):ct=!1}ct&&(W.set(X,ot),v(ot,X,E,P,W),W.delete(X)),Jc(l,w,ot)}function hd(l,d){var w=l.length;if(!!w)return d+=d<0?w:0,gr(d,w)?l[d]:n}function fd(l,d,w){d.length?d=ce(d,function(P){return Dt(P)?function(W){return fs(W,P.length===1?P[0]:P)}:P}):d=[Hn];var E=-1;d=ce(d,rn(Mt()));var v=ld(l,function(P,W,Y){var X=ce(d,function(st){return st(P)});return{criteria:X,index:++E,value:P}});return Oo(v,function(P,W){return Sm(P,W,w)})}function dm(l,d){return dd(l,d,function(w,E){return Lu(l,E)})}function dd(l,d,w){for(var E=-1,v=d.length,P={};++E<v;){var W=d[E],Y=fs(l,W);w(Y,W)&&Ho(P,zr(W,l),Y)}return P}function gm(l){return function(d){return fs(d,l)}}function au(l,d,w,E){var v=E?Va:Fi,P=-1,W=d.length,Y=l;for(l===d&&(d=Un(d)),w&&(Y=ce(l,rn(w)));++P<W;)for(var X=0,st=d[P],ot=w?w(st):st;(X=v(Y,ot,X,E))>-1;)Y!==l&&qa.call(Y,X,1),qa.call(l,X,1);return l}function gd(l,d){for(var w=l?d.length:0,E=w-1;w--;){var v=d[w];if(w==E||v!==P){var P=v;gr(v)?qa.call(l,v,1):hu(l,v)}}return l}function lu(l,d){return l+$a(Zf()*(d-l+1))}function pm(l,d,w,E){for(var v=-1,P=$e(Ja((d-l)/(w||1)),0),W=F(P);P--;)W[E?P:++v]=l,l+=w;return W}function cu(l,d){var w="";if(!l||d<1||d>ye)return w;do d%2&&(w+=l),d=$a(d/2),d&&(l+=l);while(d);return w}function Ut(l,d){return Iu(jd(l,d,Hn),l+"")}function xm(l){return Qf(Ks(l))}function mm(l,d){var w=Ks(l);return xl(w,hs(d,0,w.length))}function Ho(l,d,w,E){if(!Ne(l))return l;d=zr(d,l);for(var v=-1,P=d.length,W=P-1,Y=l;Y!=null&&++v<P;){var X=Hi(d[v]),st=w;if(X==="__proto__"||X==="constructor"||X==="prototype")return l;if(v!=W){var ot=Y[X];st=E?E(ot,X,Y):n,st===n&&(st=Ne(ot)?ot:gr(d[v+1])?[]:{})}Fo(Y,X,st),Y=Y[X]}return l}var pd=tl?function(l,d){return tl.set(l,d),l}:Hn,wm=Qa?function(l,d){return Qa(l,"toString",{configurable:!0,enumerable:!1,value:Bu(d),writable:!0})}:Hn;function _m(l){return xl(Ks(l))}function ai(l,d,w){var E=-1,v=l.length;d<0&&(d=-d>v?0:v+d),w=w>v?v:w,w<0&&(w+=v),v=d>w?0:w-d>>>0,d>>>=0;for(var P=F(v);++E<v;)P[E]=l[E+d];return P}function bm(l,d){var w;return Fr(l,function(E,v,P){return w=d(E,v,P),!w}),!!w}function al(l,d,w){var E=0,v=l==null?E:l.length;if(typeof d=="number"&&d===d&&v<=ve){for(;E<v;){var P=E+v>>>1,W=l[P];W!==null&&!Kn(W)&&(w?W<=d:W<d)?E=P+1:v=P}return v}return uu(l,d,Hn,w)}function uu(l,d,w,E){var v=0,P=l==null?0:l.length;if(P===0)return 0;d=w(d);for(var W=d!==d,Y=d===null,X=Kn(d),st=d===n;v<P;){var ot=$a((v+P)/2),ct=w(l[ot]),ft=ct!==n,At=ct===null,Ot=ct===ct,Ft=Kn(ct);if(W)var Nt=E||Ot;else st?Nt=Ot&&(E||ft):Y?Nt=Ot&&ft&&(E||!At):X?Nt=Ot&&ft&&!At&&(E||!Ft):At||Ft?Nt=!1:Nt=E?ct<=d:ct<d;Nt?v=ot+1:P=ot}return En(P,gn)}function xd(l,d){for(var w=-1,E=l.length,v=0,P=[];++w<E;){var W=l[w],Y=d?d(W):W;if(!w||!Ti(Y,X)){var X=Y;P[v++]=W===0?0:W}}return P}function md(l){return typeof l=="number"?l:Kn(l)?Ln:+l}function Zn(l){if(typeof l=="string")return l;if(Dt(l))return ce(l,Zn)+"";if(Kn(l))return Kf?Kf.call(l):"";var d=l+"";return d=="0"&&1/l==-Ze?"-0":d}function Ur(l,d,w){var E=-1,v=Dr,P=l.length,W=!0,Y=[],X=Y;if(w)W=!1,v=we;else if(P>=o){var st=d?null:Nm(l);if(st)return s(st);W=!1,v=Pr,X=new us}else X=d?[]:Y;t:for(;++E<P;){var ot=l[E],ct=d?d(ot):ot;if(ot=w||ot!==0?ot:0,W&&ct===ct){for(var ft=X.length;ft--;)if(X[ft]===ct)continue t;d&&X.push(ct),Y.push(ot)}else v(X,ct,w)||(X!==Y&&X.push(ct),Y.push(ot))}return Y}function hu(l,d){return d=zr(d,l),l=Yd(l,d),l==null||delete l[Hi(li(d))]}function wd(l,d,w,E){return Ho(l,d,w(fs(l,d)),E)}function ll(l,d,w,E){for(var v=l.length,P=E?v:-1;(E?P--:++P<v)&&d(l[P],P,l););return w?ai(l,E?0:P,E?P+1:v):ai(l,E?P+1:0,E?v:P)}function _d(l,d){var w=l;return w instanceof Yt&&(w=w.value()),oe(d,function(E,v){return v.func.apply(v.thisArg,An([E],v.args))},w)}function fu(l,d,w){var E=l.length;if(E<2)return E?Ur(l[0]):[];for(var v=-1,P=F(E);++v<E;)for(var W=l[v],Y=-1;++Y<E;)Y!=v&&(P[v]=Uo(P[v]||W,l[Y],d,w));return Ur(fn(P,1),d,w)}function bd(l,d,w){for(var E=-1,v=l.length,P=d.length,W={};++E<v;){var Y=E<P?d[E]:n;w(W,l[E],Y)}return W}function du(l){return ze(l)?l:[]}function gu(l){return typeof l=="function"?l:Hn}function zr(l,d){return Dt(l)?l:Eu(l,d)?[l]:Kd(le(l))}var Am=Ut;function Wr(l,d,w){var E=l.length;return w=w===n?E:w,!d&&w>=E?l:ai(l,d,w)}var Ad=l2||function(l){return Qe.clearTimeout(l)};function yd(l,d){if(d)return l.slice();var w=l.length,E=Vf?Vf(w):new l.constructor(w);return l.copy(E),E}function pu(l){var d=new l.constructor(l.byteLength);return new Za(d).set(new Za(l)),d}function ym(l,d){var w=d?pu(l.buffer):l.buffer;return new l.constructor(w,l.byteOffset,l.byteLength)}function Em(l){var d=new l.constructor(l.source,es.exec(l));return d.lastIndex=l.lastIndex,d}function Cm(l){return ko?xt(ko.call(l)):{}}function Ed(l,d){var w=d?pu(l.buffer):l.buffer;return new l.constructor(w,l.byteOffset,l.length)}function Cd(l,d){if(l!==d){var w=l!==n,E=l===null,v=l===l,P=Kn(l),W=d!==n,Y=d===null,X=d===d,st=Kn(d);if(!Y&&!st&&!P&&l>d||P&&W&&X&&!Y&&!st||E&&W&&X||!w&&X||!v)return 1;if(!E&&!P&&!st&&l<d||st&&w&&v&&!E&&!P||Y&&w&&v||!W&&v||!X)return-1}return 0}function Sm(l,d,w){for(var E=-1,v=l.criteria,P=d.criteria,W=v.length,Y=w.length;++E<W;){var X=Cd(v[E],P[E]);if(X){if(E>=Y)return X;var st=w[E];return X*(st=="desc"?-1:1)}}return l.index-d.index}function Sd(l,d,w,E){for(var v=-1,P=l.length,W=w.length,Y=-1,X=d.length,st=$e(P-W,0),ot=F(X+st),ct=!E;++Y<X;)ot[Y]=d[Y];for(;++v<W;)(ct||v<P)&&(ot[w[v]]=l[v]);for(;st--;)ot[Y++]=l[v++];return ot}function Id(l,d,w,E){for(var v=-1,P=l.length,W=-1,Y=w.length,X=-1,st=d.length,ot=$e(P-Y,0),ct=F(ot+st),ft=!E;++v<ot;)ct[v]=l[v];for(var At=v;++X<st;)ct[At+X]=d[X];for(;++W<Y;)(ft||v<P)&&(ct[At+w[W]]=l[v++]);return ct}function Un(l,d){var w=-1,E=l.length;for(d||(d=F(E));++w<E;)d[w]=l[w];return d}function Wi(l,d,w,E){var v=!w;w||(w={});for(var P=-1,W=d.length;++P<W;){var Y=d[P],X=E?E(w[Y],l[Y],Y,w,l):n;X===n&&(X=l[Y]),v?hr(w,Y,X):Fo(w,Y,X)}return w}function Im(l,d){return Wi(l,yu(l),d)}function Tm(l,d){return Wi(l,Ud(l),d)}function cl(l,d){return function(w,E){var v=Dt(w)?Vc:K2,P=d?d():{};return v(w,l,Mt(E,2),P)}}function Ys(l){return Ut(function(d,w){var E=-1,v=w.length,P=v>1?w[v-1]:n,W=v>2?w[2]:n;for(P=l.length>3&&typeof P=="function"?(v--,P):n,W&&Nn(w[0],w[1],W)&&(P=v<3?n:P,v=1),d=xt(d);++E<v;){var Y=w[E];Y&&l(d,Y,E,P)}return d})}function Td(l,d){return function(w,E){if(w==null)return w;if(!zn(w))return l(w,E);for(var v=w.length,P=d?v:-1,W=xt(w);(d?P--:++P<v)&&E(W[P],P,W)!==!1;);return w}}function vd(l){return function(d,w,E){for(var v=-1,P=xt(d),W=E(d),Y=W.length;Y--;){var X=W[l?Y:++v];if(w(P[X],X,P)===!1)break}return d}}function vm(l,d,w){var E=d&z,v=Vo(l);function P(){var W=this&&this!==Qe&&this instanceof P?v:l;return W.apply(E?w:this,arguments)}return P}function Md(l){return function(d){d=le(d);var w=Ui(d)?x(d):n,E=w?w[0]:d.charAt(0),v=w?Wr(w,1).join(""):d.slice(1);return E[l]()+v}}function Gs(l){return function(d){return oe(T0(I0(d).replace(zc,"")),l,"")}}function Vo(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var w=js(l.prototype),E=l.apply(w,d);return Ne(E)?E:w}}function Mm(l,d,w){var E=Vo(l);function v(){for(var P=arguments.length,W=F(P),Y=P,X=Xs(v);Y--;)W[Y]=arguments[Y];var st=P<3&&W[0]!==X&&W[P-1]!==X?[]:i(W,X);if(P-=st.length,P<w)return Ld(l,d,ul,v.placeholder,n,W,st,n,n,w-P);var ot=this&&this!==Qe&&this instanceof v?E:l;return bn(ot,this,W)}return v}function Od(l){return function(d,w,E){var v=xt(d);if(!zn(d)){var P=Mt(w,3);d=on(d),w=function(Y){return P(v[Y],Y,v)}}var W=l(d,w,E);return W>-1?v[P?d[W]:W]:n}}function Nd(l){return dr(function(d){var w=d.length,E=w,v=si.prototype.thru;for(l&&d.reverse();E--;){var P=d[E];if(typeof P!="function")throw new pe(f);if(v&&!W&&gl(P)=="wrapper")var W=new si([],!0)}for(E=W?E:w;++E<w;){P=d[E];var Y=gl(P),X=Y=="wrapper"?bu(P):n;X&&Cu(X[0])&&X[1]==(at|$|tt|J)&&!X[4].length&&X[9]==1?W=W[gl(X[0])].apply(W,X[3]):W=P.length==1&&Cu(P)?W[Y]():W.thru(P)}return function(){var st=arguments,ot=st[0];if(W&&st.length==1&&Dt(ot))return W.plant(ot).value();for(var ct=0,ft=w?d[ct].apply(this,st):ot;++ct<w;)ft=d[ct].call(this,ft);return ft}})}function ul(l,d,w,E,v,P,W,Y,X,st){var ot=d&at,ct=d&z,ft=d&H,At=d&($|Q),Ot=d&dt,Ft=ft?n:Vo(l);function Nt(){for(var Wt=arguments.length,Zt=F(Wt),qn=Wt;qn--;)Zt[qn]=arguments[qn];if(At)var Rn=Xs(Nt),Qn=Ro(Zt,Rn);if(E&&(Zt=Sd(Zt,E,v,At)),P&&(Zt=Id(Zt,P,W,At)),Wt-=Qn,At&&Wt<st){var We=i(Zt,Rn);return Ld(l,d,ul,Nt.placeholder,w,Zt,We,Y,X,st-Wt)}var vi=ct?w:this,mr=ft?vi[l]:l;return Wt=Zt.length,Y?Zt=Km(Zt,Y):Ot&&Wt>1&&Zt.reverse(),ot&&X<Wt&&(Zt.length=X),this&&this!==Qe&&this instanceof Nt&&(mr=Ft||Vo(mr)),mr.apply(vi,Zt)}return Nt}function Rd(l,d){return function(w,E){return im(w,l,d(E),{})}}function hl(l,d){return function(w,E){var v;if(w===n&&E===n)return d;if(w!==n&&(v=w),E!==n){if(v===n)return E;typeof w=="string"||typeof E=="string"?(w=Zn(w),E=Zn(E)):(w=md(w),E=md(E)),v=l(w,E)}return v}}function xu(l){return dr(function(d){return d=ce(d,rn(Mt())),Ut(function(w){var E=this;return l(d,function(v){return bn(v,E,w)})})})}function fl(l,d){d=d===n?" ":Zn(d);var w=d.length;if(w<2)return w?cu(d,l):d;var E=cu(d,Ja(l/g(d)));return Ui(d)?Wr(x(E),0,l).join(""):E.slice(0,l)}function Om(l,d,w,E){var v=d&z,P=Vo(l);function W(){for(var Y=-1,X=arguments.length,st=-1,ot=E.length,ct=F(ot+X),ft=this&&this!==Qe&&this instanceof W?P:l;++st<ot;)ct[st]=E[st];for(;X--;)ct[st++]=arguments[++Y];return bn(ft,v?w:this,ct)}return W}function Dd(l){return function(d,w,E){return E&&typeof E!="number"&&Nn(d,w,E)&&(w=E=n),d=xr(d),w===n?(w=d,d=0):w=xr(w),E=E===n?d<w?1:-1:xr(E),pm(d,w,E,l)}}function dl(l){return function(d,w){return typeof d=="string"&&typeof w=="string"||(d=ci(d),w=ci(w)),l(d,w)}}function Ld(l,d,w,E,v,P,W,Y,X,st){var ot=d&$,ct=ot?W:n,ft=ot?n:W,At=ot?P:n,Ot=ot?n:P;d|=ot?tt:Z,d&=~(ot?Z:tt),d&G||(d&=~(z|H));var Ft=[l,d,v,At,ct,Ot,ft,Y,X,st],Nt=w.apply(n,Ft);return Cu(l)&&Gd(Nt,Ft),Nt.placeholder=E,Xd(Nt,l,d)}function mu(l){var d=It[l];return function(w,E){if(w=ci(w),E=E==null?0:En(Bt(E),292),E&&Xf(w)){var v=(le(w)+"e").split("e"),P=d(v[0]+"e"+(+v[1]+E));return v=(le(P)+"e").split("e"),+(v[0]+"e"+(+v[1]-E))}return d(w)}}var Nm=Hs&&1/s(new Hs([,-0]))[1]==Ze?function(l){return new Hs(l)}:Uu;function Pd(l){return function(d){var w=Cn(d);return w==Re?Br(d):w==xn?a(d):Yc(d,l(d))}}function fr(l,d,w,E,v,P,W,Y){var X=d&H;if(!X&&typeof l!="function")throw new pe(f);var st=E?E.length:0;if(st||(d&=~(tt|Z),E=v=n),W=W===n?W:$e(Bt(W),0),Y=Y===n?Y:Bt(Y),st-=v?v.length:0,d&Z){var ot=E,ct=v;E=v=n}var ft=X?n:bu(l),At=[l,d,w,E,v,ot,ct,P,W,Y];if(ft&&Gm(At,ft),l=At[0],d=At[1],w=At[2],E=At[3],v=At[4],Y=At[9]=At[9]===n?X?0:l.length:$e(At[9]-st,0),!Y&&d&($|Q)&&(d&=~($|Q)),!d||d==z)var Ot=vm(l,d,w);else d==$||d==Q?Ot=Mm(l,d,Y):(d==tt||d==(z|tt))&&!v.length?Ot=Om(l,d,w,E):Ot=ul.apply(n,At);var Ft=ft?pd:Gd;return Xd(Ft(Ot,At),l,d)}function Bd(l,d,w,E){return l===n||Ti(l,Ge[w])&&!ae.call(E,w)?d:l}function kd(l,d,w,E,v,P){return Ne(l)&&Ne(d)&&(P.set(d,l),ol(l,d,n,kd,P),P.delete(d)),l}function Rm(l){return Go(l)?n:l}function Fd(l,d,w,E,v,P){var W=w&D,Y=l.length,X=d.length;if(Y!=X&&!(W&&X>Y))return!1;var st=P.get(l),ot=P.get(d);if(st&&ot)return st==d&&ot==l;var ct=-1,ft=!0,At=w&V?new us:n;for(P.set(l,d),P.set(d,l);++ct<Y;){var Ot=l[ct],Ft=d[ct];if(E)var Nt=W?E(Ft,Ot,ct,d,l,P):E(Ot,Ft,ct,l,d,P);if(Nt!==n){if(Nt)continue;ft=!1;break}if(At){if(!To(d,function(Wt,Zt){if(!Pr(At,Zt)&&(Ot===Wt||v(Ot,Wt,w,E,P)))return At.push(Zt)})){ft=!1;break}}else if(!(Ot===Ft||v(Ot,Ft,w,E,P))){ft=!1;break}}return P.delete(l),P.delete(d),ft}function Dm(l,d,w,E,v,P,W){switch(w){case De:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case Bn:return!(l.byteLength!=d.byteLength||!P(new Za(l),new Za(d)));case xi:case mi:case wi:return Ti(+l,+d);case Qi:return l.name==d.name&&l.message==d.message;case _t:case Tr:return l==d+"";case Re:var Y=Br;case xn:var X=E&D;if(Y||(Y=s),l.size!=d.size&&!X)return!1;var st=W.get(l);if(st)return st==d;E|=V,W.set(l,d);var ot=Fd(Y(l),Y(d),E,v,P,W);return W.delete(l),ot;case Pn:if(ko)return ko.call(l)==ko.call(d)}return!1}function Lm(l,d,w,E,v,P){var W=w&D,Y=wu(l),X=Y.length,st=wu(d),ot=st.length;if(X!=ot&&!W)return!1;for(var ct=X;ct--;){var ft=Y[ct];if(!(W?ft in d:ae.call(d,ft)))return!1}var At=P.get(l),Ot=P.get(d);if(At&&Ot)return At==d&&Ot==l;var Ft=!0;P.set(l,d),P.set(d,l);for(var Nt=W;++ct<X;){ft=Y[ct];var Wt=l[ft],Zt=d[ft];if(E)var qn=W?E(Zt,Wt,ft,d,l,P):E(Wt,Zt,ft,l,d,P);if(!(qn===n?Wt===Zt||v(Wt,Zt,w,E,P):qn)){Ft=!1;break}Nt||(Nt=ft=="constructor")}if(Ft&&!Nt){var Rn=l.constructor,Qn=d.constructor;Rn!=Qn&&"constructor"in l&&"constructor"in d&&!(typeof Rn=="function"&&Rn instanceof Rn&&typeof Qn=="function"&&Qn instanceof Qn)&&(Ft=!1)}return P.delete(l),P.delete(d),Ft}function dr(l){return Iu(jd(l,n,$d),l+"")}function wu(l){return rd(l,on,yu)}function _u(l){return rd(l,Wn,Ud)}var bu=tl?function(l){return tl.get(l)}:Uu;function gl(l){for(var d=l.name+"",w=Vs[d],E=ae.call(Vs,d)?w.length:0;E--;){var v=w[E],P=v.func;if(P==null||P==l)return v.name}return d}function Xs(l){var d=ae.call(R,"placeholder")?R:l;return d.placeholder}function Mt(){var l=R.iteratee||ku;return l=l===ku?ad:l,arguments.length?l(arguments[0],arguments[1]):l}function pl(l,d){var w=l.__data__;return Hm(d)?w[typeof d=="string"?"string":"hash"]:w.map}function Au(l){for(var d=on(l),w=d.length;w--;){var E=d[w],v=l[E];d[w]=[E,v,Hd(v)]}return d}function ds(l,d){var w=Xc(l,d);return od(w)?w:n}function Pm(l){var d=ae.call(l,ls),w=l[ls];try{l[ls]=n;var E=!0}catch{}var v=Ga.call(l);return E&&(d?l[ls]=w:delete l[ls]),v}var yu=Kc?function(l){return l==null?[]:(l=xt(l),fe(Kc(l),function(d){return Yf.call(l,d)}))}:zu,Ud=Kc?function(l){for(var d=[];l;)An(d,yu(l)),l=Ka(l);return d}:zu,Cn=On;(qc&&Cn(new qc(new ArrayBuffer(1)))!=De||Lo&&Cn(new Lo)!=Re||Qc&&Cn(Qc.resolve())!=jt||Hs&&Cn(new Hs)!=xn||Po&&Cn(new Po)!=cn)&&(Cn=function(l){var d=On(l),w=d==Vt?l.constructor:n,E=w?gs(w):"";if(E)switch(E){case m2:return De;case w2:return Re;case _2:return jt;case b2:return xn;case A2:return cn}return d});function Bm(l,d,w){for(var E=-1,v=w.length;++E<v;){var P=w[E],W=P.size;switch(P.type){case"drop":l+=W;break;case"dropRight":d-=W;break;case"take":d=En(d,l+W);break;case"takeRight":l=$e(l,d-W);break}}return{start:l,end:d}}function km(l){var d=l.match(mt);return d?d[1].split(Mr):[]}function zd(l,d,w){d=zr(d,l);for(var E=-1,v=d.length,P=!1;++E<v;){var W=Hi(d[E]);if(!(P=l!=null&&w(l,W)))break;l=l[W]}return P||++E!=v?P:(v=l==null?0:l.length,!!v&&yl(v)&&gr(W,v)&&(Dt(l)||ps(l)))}function Fm(l){var d=l.length,w=new l.constructor(d);return d&&typeof l[0]=="string"&&ae.call(l,"index")&&(w.index=l.index,w.input=l.input),w}function Wd(l){return typeof l.constructor=="function"&&!jo(l)?js(Ka(l)):{}}function Um(l,d,w){var E=l.constructor;switch(d){case Bn:return pu(l);case xi:case mi:return new E(+l);case De:return ym(l,w);case Ns:case vr:case fo:case Ce:case ht:case Me:case ie:case xe:case $i:return Ed(l,w);case Re:return new E;case wi:case Tr:return new E(l);case _t:return Em(l);case xn:return new E;case Pn:return Cm(l)}}function zm(l,d){var w=d.length;if(!w)return l;var E=w-1;return d[E]=(w>1?"& ":"")+d[E],d=d.join(w>2?", ":" "),l.replace(kn,`{
/* [wrapped with `+d+`] */
`)}function Wm(l){return Dt(l)||ps(l)||!!(Gf&&l&&l[Gf])}function gr(l,d){var w=typeof l;return d=d==null?ye:d,!!d&&(w=="number"||w!="symbol"&&un.test(l))&&l>-1&&l%1==0&&l<d}function Nn(l,d,w){if(!Ne(w))return!1;var E=typeof d;return(E=="number"?zn(w)&&gr(d,w.length):E=="string"&&d in w)?Ti(w[d],l):!1}function Eu(l,d){if(Dt(l))return!1;var w=typeof l;return w=="number"||w=="symbol"||w=="boolean"||l==null||Kn(l)?!0:ei.test(l)||!Rs.test(l)||d!=null&&l in xt(d)}function Hm(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Cu(l){var d=gl(l),w=R[d];if(typeof w!="function"||!(d in Yt.prototype))return!1;if(l===w)return!0;var E=bu(w);return!!E&&l===E[0]}function Vm(l){return!!Hf&&Hf in l}var jm=Ci?pr:Wu;function jo(l){var d=l&&l.constructor,w=typeof d=="function"&&d.prototype||Ge;return l===w}function Hd(l){return l===l&&!Ne(l)}function Vd(l,d){return function(w){return w==null?!1:w[l]===d&&(d!==n||l in xt(w))}}function Ym(l){var d=bl(l,function(E){return w.size===b&&w.clear(),E}),w=d.cache;return d}function Gm(l,d){var w=l[1],E=d[1],v=w|E,P=v<(z|H|at),W=E==at&&w==$||E==at&&w==J&&l[7].length<=d[8]||E==(at|J)&&d[7].length<=d[8]&&w==$;if(!(P||W))return l;E&z&&(l[2]=d[2],v|=w&z?0:G);var Y=d[3];if(Y){var X=l[3];l[3]=X?Sd(X,Y,d[4]):Y,l[4]=X?i(l[3],y):d[4]}return Y=d[5],Y&&(X=l[5],l[5]=X?Id(X,Y,d[6]):Y,l[6]=X?i(l[5],y):d[6]),Y=d[7],Y&&(l[7]=Y),E&at&&(l[8]=l[8]==null?d[8]:En(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=v,l}function Xm(l){var d=[];if(l!=null)for(var w in xt(l))d.push(w);return d}function Zm(l){return Ga.call(l)}function jd(l,d,w){return d=$e(d===n?l.length-1:d,0),function(){for(var E=arguments,v=-1,P=$e(E.length-d,0),W=F(P);++v<P;)W[v]=E[d+v];v=-1;for(var Y=F(d+1);++v<d;)Y[v]=E[v];return Y[d]=w(W),bn(l,this,Y)}}function Yd(l,d){return d.length<2?l:fs(l,ai(d,0,-1))}function Km(l,d){for(var w=l.length,E=En(d.length,w),v=Un(l);E--;){var P=d[E];l[E]=gr(P,w)?v[P]:n}return l}function Su(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var Gd=Zd(pd),Yo=u2||function(l,d){return Qe.setTimeout(l,d)},Iu=Zd(wm);function Xd(l,d,w){var E=d+"";return Iu(l,zm(E,qm(km(E),w)))}function Zd(l){var d=0,w=0;return function(){var E=g2(),v=Rt-(E-w);if(w=E,v>0){if(++d>=gt)return arguments[0]}else d=0;return l.apply(n,arguments)}}function xl(l,d){var w=-1,E=l.length,v=E-1;for(d=d===n?E:d;++w<d;){var P=lu(w,v),W=l[P];l[P]=l[w],l[w]=W}return l.length=d,l}var Kd=Ym(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(Pc,function(w,E,v,P){d.push(v?P.replace(Or,"$1"):E||w)}),d});function Hi(l){if(typeof l=="string"||Kn(l))return l;var d=l+"";return d=="0"&&1/l==-Ze?"-0":d}function gs(l){if(l!=null){try{return Si.call(l)}catch{}try{return l+""}catch{}}return""}function qm(l,d){return Fn(qi,function(w){var E="_."+w[0];d&w[1]&&!Dr(l,E)&&l.push(E)}),l.sort()}function qd(l){if(l instanceof Yt)return l.clone();var d=new si(l.__wrapped__,l.__chain__);return d.__actions__=Un(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function Qm(l,d,w){(w?Nn(l,d,w):d===n)?d=1:d=$e(Bt(d),0);var E=l==null?0:l.length;if(!E||d<1)return[];for(var v=0,P=0,W=F(Ja(E/d));v<E;)W[P++]=ai(l,v,v+=d);return W}function Jm(l){for(var d=-1,w=l==null?0:l.length,E=0,v=[];++d<w;){var P=l[d];P&&(v[E++]=P)}return v}function $m(){var l=arguments.length;if(!l)return[];for(var d=F(l-1),w=arguments[0],E=l;E--;)d[E-1]=arguments[E];return An(Dt(w)?Un(w):[w],fn(d,1))}var tw=Ut(function(l,d){return ze(l)?Uo(l,fn(d,1,ze,!0)):[]}),ew=Ut(function(l,d){var w=li(d);return ze(w)&&(w=n),ze(l)?Uo(l,fn(d,1,ze,!0),Mt(w,2)):[]}),nw=Ut(function(l,d){var w=li(d);return ze(w)&&(w=n),ze(l)?Uo(l,fn(d,1,ze,!0),n,w):[]});function iw(l,d,w){var E=l==null?0:l.length;return E?(d=w||d===n?1:Bt(d),ai(l,d<0?0:d,E)):[]}function rw(l,d,w){var E=l==null?0:l.length;return E?(d=w||d===n?1:Bt(d),d=E-d,ai(l,0,d<0?0:d)):[]}function sw(l,d){return l&&l.length?ll(l,Mt(d,3),!0,!0):[]}function ow(l,d){return l&&l.length?ll(l,Mt(d,3),!0):[]}function aw(l,d,w,E){var v=l==null?0:l.length;return v?(w&&typeof w!="number"&&Nn(l,d,w)&&(w=0,E=v),$2(l,d,w,E)):[]}function Qd(l,d,w){var E=l==null?0:l.length;if(!E)return-1;var v=w==null?0:Bt(w);return v<0&&(v=$e(E+v,0)),Mn(l,Mt(d,3),v)}function Jd(l,d,w){var E=l==null?0:l.length;if(!E)return-1;var v=E-1;return w!==n&&(v=Bt(w),v=w<0?$e(E+v,0):En(v,E-1)),Mn(l,Mt(d,3),v,!0)}function $d(l){var d=l==null?0:l.length;return d?fn(l,1):[]}function lw(l){var d=l==null?0:l.length;return d?fn(l,Ze):[]}function cw(l,d){var w=l==null?0:l.length;return w?(d=d===n?1:Bt(d),fn(l,d)):[]}function uw(l){for(var d=-1,w=l==null?0:l.length,E={};++d<w;){var v=l[d];E[v[0]]=v[1]}return E}function t0(l){return l&&l.length?l[0]:n}function hw(l,d,w){var E=l==null?0:l.length;if(!E)return-1;var v=w==null?0:Bt(w);return v<0&&(v=$e(E+v,0)),Fi(l,d,v)}function fw(l){var d=l==null?0:l.length;return d?ai(l,0,-1):[]}var dw=Ut(function(l){var d=ce(l,du);return d.length&&d[0]===l[0]?iu(d):[]}),gw=Ut(function(l){var d=li(l),w=ce(l,du);return d===li(w)?d=n:w.pop(),w.length&&w[0]===l[0]?iu(w,Mt(d,2)):[]}),pw=Ut(function(l){var d=li(l),w=ce(l,du);return d=typeof d=="function"?d:n,d&&w.pop(),w.length&&w[0]===l[0]?iu(w,n,d):[]});function xw(l,d){return l==null?"":f2.call(l,d)}function li(l){var d=l==null?0:l.length;return d?l[d-1]:n}function mw(l,d,w){var E=l==null?0:l.length;if(!E)return-1;var v=E;return w!==n&&(v=Bt(w),v=v<0?$e(E+v,0):En(v,E-1)),d===d?h(l,d,v):Mn(l,zs,v,!0)}function ww(l,d){return l&&l.length?hd(l,Bt(d)):n}var _w=Ut(e0);function e0(l,d){return l&&l.length&&d&&d.length?au(l,d):l}function bw(l,d,w){return l&&l.length&&d&&d.length?au(l,d,Mt(w,2)):l}function Aw(l,d,w){return l&&l.length&&d&&d.length?au(l,d,n,w):l}var yw=dr(function(l,d){var w=l==null?0:l.length,E=$c(l,d);return gd(l,ce(d,function(v){return gr(v,w)?+v:v}).sort(Cd)),E});function Ew(l,d){var w=[];if(!(l&&l.length))return w;var E=-1,v=[],P=l.length;for(d=Mt(d,3);++E<P;){var W=l[E];d(W,E,l)&&(w.push(W),v.push(E))}return gd(l,v),w}function Tu(l){return l==null?l:x2.call(l)}function Cw(l,d,w){var E=l==null?0:l.length;return E?(w&&typeof w!="number"&&Nn(l,d,w)?(d=0,w=E):(d=d==null?0:Bt(d),w=w===n?E:Bt(w)),ai(l,d,w)):[]}function Sw(l,d){return al(l,d)}function Iw(l,d,w){return uu(l,d,Mt(w,2))}function Tw(l,d){var w=l==null?0:l.length;if(w){var E=al(l,d);if(E<w&&Ti(l[E],d))return E}return-1}function vw(l,d){return al(l,d,!0)}function Mw(l,d,w){return uu(l,d,Mt(w,2),!0)}function Ow(l,d){var w=l==null?0:l.length;if(w){var E=al(l,d,!0)-1;if(Ti(l[E],d))return E}return-1}function Nw(l){return l&&l.length?xd(l):[]}function Rw(l,d){return l&&l.length?xd(l,Mt(d,2)):[]}function Dw(l){var d=l==null?0:l.length;return d?ai(l,1,d):[]}function Lw(l,d,w){return l&&l.length?(d=w||d===n?1:Bt(d),ai(l,0,d<0?0:d)):[]}function Pw(l,d,w){var E=l==null?0:l.length;return E?(d=w||d===n?1:Bt(d),d=E-d,ai(l,d<0?0:d,E)):[]}function Bw(l,d){return l&&l.length?ll(l,Mt(d,3),!1,!0):[]}function kw(l,d){return l&&l.length?ll(l,Mt(d,3)):[]}var Fw=Ut(function(l){return Ur(fn(l,1,ze,!0))}),Uw=Ut(function(l){var d=li(l);return ze(d)&&(d=n),Ur(fn(l,1,ze,!0),Mt(d,2))}),zw=Ut(function(l){var d=li(l);return d=typeof d=="function"?d:n,Ur(fn(l,1,ze,!0),n,d)});function Ww(l){return l&&l.length?Ur(l):[]}function Hw(l,d){return l&&l.length?Ur(l,Mt(d,2)):[]}function Vw(l,d){return d=typeof d=="function"?d:n,l&&l.length?Ur(l,n,d):[]}function vu(l){if(!(l&&l.length))return[];var d=0;return l=fe(l,function(w){if(ze(w))return d=$e(w.length,d),!0}),lr(d,function(w){return ce(l,Ws(w))})}function n0(l,d){if(!(l&&l.length))return[];var w=vu(l);return d==null?w:ce(w,function(E){return bn(d,n,E)})}var jw=Ut(function(l,d){return ze(l)?Uo(l,d):[]}),Yw=Ut(function(l){return fu(fe(l,ze))}),Gw=Ut(function(l){var d=li(l);return ze(d)&&(d=n),fu(fe(l,ze),Mt(d,2))}),Xw=Ut(function(l){var d=li(l);return d=typeof d=="function"?d:n,fu(fe(l,ze),n,d)}),Zw=Ut(vu);function Kw(l,d){return bd(l||[],d||[],Fo)}function qw(l,d){return bd(l||[],d||[],Ho)}var Qw=Ut(function(l){var d=l.length,w=d>1?l[d-1]:n;return w=typeof w=="function"?(l.pop(),w):n,n0(l,w)});function i0(l){var d=R(l);return d.__chain__=!0,d}function Jw(l,d){return d(l),l}function ml(l,d){return d(l)}var $w=dr(function(l){var d=l.length,w=d?l[0]:0,E=this.__wrapped__,v=function(P){return $c(P,l)};return d>1||this.__actions__.length||!(E instanceof Yt)||!gr(w)?this.thru(v):(E=E.slice(w,+w+(d?1:0)),E.__actions__.push({func:ml,args:[v],thisArg:n}),new si(E,this.__chain__).thru(function(P){return d&&!P.length&&P.push(n),P}))});function t_(){return i0(this)}function e_(){return new si(this.value(),this.__chain__)}function n_(){this.__values__===n&&(this.__values__=m0(this.value()));var l=this.__index__>=this.__values__.length,d=l?n:this.__values__[this.__index__++];return{done:l,value:d}}function i_(){return this}function r_(l){for(var d,w=this;w instanceof nl;){var E=qd(w);E.__index__=0,E.__values__=n,d?v.__wrapped__=E:d=E;var v=E;w=w.__wrapped__}return v.__wrapped__=l,d}function s_(){var l=this.__wrapped__;if(l instanceof Yt){var d=l;return this.__actions__.length&&(d=new Yt(this)),d=d.reverse(),d.__actions__.push({func:ml,args:[Tu],thisArg:n}),new si(d,this.__chain__)}return this.thru(Tu)}function o_(){return _d(this.__wrapped__,this.__actions__)}var a_=cl(function(l,d,w){ae.call(l,w)?++l[w]:hr(l,w,1)});function l_(l,d,w){var E=Dt(l)?Us:J2;return w&&Nn(l,d,w)&&(d=n),E(l,Mt(d,3))}function c_(l,d){var w=Dt(l)?fe:nd;return w(l,Mt(d,3))}var u_=Od(Qd),h_=Od(Jd);function f_(l,d){return fn(wl(l,d),1)}function d_(l,d){return fn(wl(l,d),Ze)}function g_(l,d,w){return w=w===n?1:Bt(w),fn(wl(l,d),w)}function r0(l,d){var w=Dt(l)?Fn:Fr;return w(l,Mt(d,3))}function s0(l,d){var w=Dt(l)?jc:ed;return w(l,Mt(d,3))}var p_=cl(function(l,d,w){ae.call(l,w)?l[w].push(d):hr(l,w,[d])});function x_(l,d,w,E){l=zn(l)?l:Ks(l),w=w&&!E?Bt(w):0;var v=l.length;return w<0&&(w=$e(v+w,0)),El(l)?w<=v&&l.indexOf(d,w)>-1:!!v&&Fi(l,d,w)>-1}var m_=Ut(function(l,d,w){var E=-1,v=typeof d=="function",P=zn(l)?F(l.length):[];return Fr(l,function(W){P[++E]=v?bn(d,W,w):zo(W,d,w)}),P}),w_=cl(function(l,d,w){hr(l,w,d)});function wl(l,d){var w=Dt(l)?ce:ld;return w(l,Mt(d,3))}function __(l,d,w,E){return l==null?[]:(Dt(d)||(d=d==null?[]:[d]),w=E?n:w,Dt(w)||(w=w==null?[]:[w]),fd(l,d,w))}var b_=cl(function(l,d,w){l[w?0:1].push(d)},function(){return[[],[]]});function A_(l,d,w){var E=Dt(l)?oe:ar,v=arguments.length<3;return E(l,Mt(d,4),w,v,Fr)}function y_(l,d,w){var E=Dt(l)?Tt:ar,v=arguments.length<3;return E(l,Mt(d,4),w,v,ed)}function E_(l,d){var w=Dt(l)?fe:nd;return w(l,Al(Mt(d,3)))}function C_(l){var d=Dt(l)?Qf:xm;return d(l)}function S_(l,d,w){(w?Nn(l,d,w):d===n)?d=1:d=Bt(d);var E=Dt(l)?X2:mm;return E(l,d)}function I_(l){var d=Dt(l)?Z2:_m;return d(l)}function T_(l){if(l==null)return 0;if(zn(l))return El(l)?g(l):l.length;var d=Cn(l);return d==Re||d==xn?l.size:su(l).length}function v_(l,d,w){var E=Dt(l)?To:bm;return w&&Nn(l,d,w)&&(d=n),E(l,Mt(d,3))}var M_=Ut(function(l,d){if(l==null)return[];var w=d.length;return w>1&&Nn(l,d[0],d[1])?d=[]:w>2&&Nn(d[0],d[1],d[2])&&(d=[d[0]]),fd(l,fn(d,1),[])}),_l=c2||function(){return Qe.Date.now()};function O_(l,d){if(typeof d!="function")throw new pe(f);return l=Bt(l),function(){if(--l<1)return d.apply(this,arguments)}}function o0(l,d,w){return d=w?n:d,d=l&&d==null?l.length:d,fr(l,at,n,n,n,n,d)}function a0(l,d){var w;if(typeof d!="function")throw new pe(f);return l=Bt(l),function(){return--l>0&&(w=d.apply(this,arguments)),l<=1&&(d=n),w}}var Mu=Ut(function(l,d,w){var E=z;if(w.length){var v=i(w,Xs(Mu));E|=tt}return fr(l,E,d,w,v)}),l0=Ut(function(l,d,w){var E=z|H;if(w.length){var v=i(w,Xs(l0));E|=tt}return fr(d,E,l,w,v)});function c0(l,d,w){d=w?n:d;var E=fr(l,$,n,n,n,n,n,d);return E.placeholder=c0.placeholder,E}function u0(l,d,w){d=w?n:d;var E=fr(l,Q,n,n,n,n,n,d);return E.placeholder=u0.placeholder,E}function h0(l,d,w){var E,v,P,W,Y,X,st=0,ot=!1,ct=!1,ft=!0;if(typeof l!="function")throw new pe(f);d=ci(d)||0,Ne(w)&&(ot=!!w.leading,ct="maxWait"in w,P=ct?$e(ci(w.maxWait)||0,d):P,ft="trailing"in w?!!w.trailing:ft);function At(We){var vi=E,mr=v;return E=v=n,st=We,W=l.apply(mr,vi),W}function Ot(We){return st=We,Y=Yo(Wt,d),ot?At(We):W}function Ft(We){var vi=We-X,mr=We-st,O0=d-vi;return ct?En(O0,P-mr):O0}function Nt(We){var vi=We-X,mr=We-st;return X===n||vi>=d||vi<0||ct&&mr>=P}function Wt(){var We=_l();if(Nt(We))return Zt(We);Y=Yo(Wt,Ft(We))}function Zt(We){return Y=n,ft&&E?At(We):(E=v=n,W)}function qn(){Y!==n&&Ad(Y),st=0,E=X=v=Y=n}function Rn(){return Y===n?W:Zt(_l())}function Qn(){var We=_l(),vi=Nt(We);if(E=arguments,v=this,X=We,vi){if(Y===n)return Ot(X);if(ct)return Ad(Y),Y=Yo(Wt,d),At(X)}return Y===n&&(Y=Yo(Wt,d)),W}return Qn.cancel=qn,Qn.flush=Rn,Qn}var N_=Ut(function(l,d){return td(l,1,d)}),R_=Ut(function(l,d,w){return td(l,ci(d)||0,w)});function D_(l){return fr(l,dt)}function bl(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new pe(f);var w=function(){var E=arguments,v=d?d.apply(this,E):E[0],P=w.cache;if(P.has(v))return P.get(v);var W=l.apply(this,E);return w.cache=P.set(v,W)||P,W};return w.cache=new(bl.Cache||ur),w}bl.Cache=ur;function Al(l){if(typeof l!="function")throw new pe(f);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function L_(l){return a0(2,l)}var P_=Am(function(l,d){d=d.length==1&&Dt(d[0])?ce(d[0],rn(Mt())):ce(fn(d,1),rn(Mt()));var w=d.length;return Ut(function(E){for(var v=-1,P=En(E.length,w);++v<P;)E[v]=d[v].call(this,E[v]);return bn(l,this,E)})}),Ou=Ut(function(l,d){var w=i(d,Xs(Ou));return fr(l,tt,n,d,w)}),f0=Ut(function(l,d){var w=i(d,Xs(f0));return fr(l,Z,n,d,w)}),B_=dr(function(l,d){return fr(l,J,n,n,n,d)});function k_(l,d){if(typeof l!="function")throw new pe(f);return d=d===n?d:Bt(d),Ut(l,d)}function F_(l,d){if(typeof l!="function")throw new pe(f);return d=d==null?0:$e(Bt(d),0),Ut(function(w){var E=w[d],v=Wr(w,0,d);return E&&An(v,E),bn(l,this,v)})}function U_(l,d,w){var E=!0,v=!0;if(typeof l!="function")throw new pe(f);return Ne(w)&&(E="leading"in w?!!w.leading:E,v="trailing"in w?!!w.trailing:v),h0(l,d,{leading:E,maxWait:d,trailing:v})}function z_(l){return o0(l,1)}function W_(l,d){return Ou(gu(d),l)}function H_(){if(!arguments.length)return[];var l=arguments[0];return Dt(l)?l:[l]}function V_(l){return oi(l,L)}function j_(l,d){return d=typeof d=="function"?d:n,oi(l,L,d)}function Y_(l){return oi(l,S|L)}function G_(l,d){return d=typeof d=="function"?d:n,oi(l,S|L,d)}function X_(l,d){return d==null||$f(l,d,on(d))}function Ti(l,d){return l===d||l!==l&&d!==d}var Z_=dl(nu),K_=dl(function(l,d){return l>=d}),ps=sd(function(){return arguments}())?sd:function(l){return Pe(l)&&ae.call(l,"callee")&&!Yf.call(l,"callee")},Dt=F.isArray,q_=yi?rn(yi):rm;function zn(l){return l!=null&&yl(l.length)&&!pr(l)}function ze(l){return Pe(l)&&zn(l)}function Q_(l){return l===!0||l===!1||Pe(l)&&On(l)==xi}var Hr=h2||Wu,J_=Wa?rn(Wa):sm;function $_(l){return Pe(l)&&l.nodeType===1&&!Go(l)}function tb(l){if(l==null)return!0;if(zn(l)&&(Dt(l)||typeof l=="string"||typeof l.splice=="function"||Hr(l)||Zs(l)||ps(l)))return!l.length;var d=Cn(l);if(d==Re||d==xn)return!l.size;if(jo(l))return!su(l).length;for(var w in l)if(ae.call(l,w))return!1;return!0}function eb(l,d){return Wo(l,d)}function nb(l,d,w){w=typeof w=="function"?w:n;var E=w?w(l,d):n;return E===n?Wo(l,d,n,w):!!E}function Nu(l){if(!Pe(l))return!1;var d=On(l);return d==Qi||d==pn||typeof l.message=="string"&&typeof l.name=="string"&&!Go(l)}function ib(l){return typeof l=="number"&&Xf(l)}function pr(l){if(!Ne(l))return!1;var d=On(l);return d==Ht||d==Ji||d==Ve||d==Os}function d0(l){return typeof l=="number"&&l==Bt(l)}function yl(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=ye}function Ne(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function Pe(l){return l!=null&&typeof l=="object"}var g0=nt?rn(nt):am;function rb(l,d){return l===d||ru(l,d,Au(d))}function sb(l,d,w){return w=typeof w=="function"?w:n,ru(l,d,Au(d),w)}function ob(l){return p0(l)&&l!=+l}function ab(l){if(jm(l))throw new it(c);return od(l)}function lb(l){return l===null}function cb(l){return l==null}function p0(l){return typeof l=="number"||Pe(l)&&On(l)==wi}function Go(l){if(!Pe(l)||On(l)!=Vt)return!1;var d=Ka(l);if(d===null)return!0;var w=ae.call(d,"constructor")&&d.constructor;return typeof w=="function"&&w instanceof w&&Si.call(w)==s2}var Ru=Pt?rn(Pt):lm;function ub(l){return d0(l)&&l>=-ye&&l<=ye}var x0=Ye?rn(Ye):cm;function El(l){return typeof l=="string"||!Dt(l)&&Pe(l)&&On(l)==Tr}function Kn(l){return typeof l=="symbol"||Pe(l)&&On(l)==Pn}var Zs=os?rn(os):um;function hb(l){return l===n}function fb(l){return Pe(l)&&Cn(l)==cn}function db(l){return Pe(l)&&On(l)==Ra}var gb=dl(ou),pb=dl(function(l,d){return l<=d});function m0(l){if(!l)return[];if(zn(l))return El(l)?x(l):Un(l);if(Do&&l[Do])return Xt(l[Do]());var d=Cn(l),w=d==Re?Br:d==xn?s:Ks;return w(l)}function xr(l){if(!l)return l===0?l:0;if(l=ci(l),l===Ze||l===-Ze){var d=l<0?-1:1;return d*dn}return l===l?l:0}function Bt(l){var d=xr(l),w=d%1;return d===d?w?d-w:d:0}function w0(l){return l?hs(Bt(l),0,ne):0}function ci(l){if(typeof l=="number")return l;if(Kn(l))return Ln;if(Ne(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=Ne(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=Ei(l);var w=Bc.test(l);return w||ii.test(l)?Ua(l.slice(2),w?2:8):ni.test(l)?Ln:+l}function _0(l){return Wi(l,Wn(l))}function xb(l){return l?hs(Bt(l),-ye,ye):l===0?l:0}function le(l){return l==null?"":Zn(l)}var mb=Ys(function(l,d){if(jo(d)||zn(d)){Wi(d,on(d),l);return}for(var w in d)ae.call(d,w)&&Fo(l,w,d[w])}),b0=Ys(function(l,d){Wi(d,Wn(d),l)}),Cl=Ys(function(l,d,w,E){Wi(d,Wn(d),l,E)}),wb=Ys(function(l,d,w,E){Wi(d,on(d),l,E)}),_b=dr($c);function bb(l,d){var w=js(l);return d==null?w:Jf(w,d)}var Ab=Ut(function(l,d){l=xt(l);var w=-1,E=d.length,v=E>2?d[2]:n;for(v&&Nn(d[0],d[1],v)&&(E=1);++w<E;)for(var P=d[w],W=Wn(P),Y=-1,X=W.length;++Y<X;){var st=W[Y],ot=l[st];(ot===n||Ti(ot,Ge[st])&&!ae.call(l,st))&&(l[st]=P[st])}return l}),yb=Ut(function(l){return l.push(n,kd),bn(A0,n,l)});function Eb(l,d){return Ha(l,Mt(d,3),zi)}function Cb(l,d){return Ha(l,Mt(d,3),eu)}function Sb(l,d){return l==null?l:tu(l,Mt(d,3),Wn)}function Ib(l,d){return l==null?l:id(l,Mt(d,3),Wn)}function Tb(l,d){return l&&zi(l,Mt(d,3))}function vb(l,d){return l&&eu(l,Mt(d,3))}function Mb(l){return l==null?[]:sl(l,on(l))}function Ob(l){return l==null?[]:sl(l,Wn(l))}function Du(l,d,w){var E=l==null?n:fs(l,d);return E===n?w:E}function Nb(l,d){return l!=null&&zd(l,d,tm)}function Lu(l,d){return l!=null&&zd(l,d,em)}var Rb=Rd(function(l,d,w){d!=null&&typeof d.toString!="function"&&(d=Ga.call(d)),l[d]=w},Bu(Hn)),Db=Rd(function(l,d,w){d!=null&&typeof d.toString!="function"&&(d=Ga.call(d)),ae.call(l,d)?l[d].push(w):l[d]=[w]},Mt),Lb=Ut(zo);function on(l){return zn(l)?qf(l):su(l)}function Wn(l){return zn(l)?qf(l,!0):hm(l)}function Pb(l,d){var w={};return d=Mt(d,3),zi(l,function(E,v,P){hr(w,d(E,v,P),E)}),w}function Bb(l,d){var w={};return d=Mt(d,3),zi(l,function(E,v,P){hr(w,v,d(E,v,P))}),w}var kb=Ys(function(l,d,w){ol(l,d,w)}),A0=Ys(function(l,d,w,E){ol(l,d,w,E)}),Fb=dr(function(l,d){var w={};if(l==null)return w;var E=!1;d=ce(d,function(P){return P=zr(P,l),E||(E=P.length>1),P}),Wi(l,_u(l),w),E&&(w=oi(w,S|O|L,Rm));for(var v=d.length;v--;)hu(w,d[v]);return w});function Ub(l,d){return y0(l,Al(Mt(d)))}var zb=dr(function(l,d){return l==null?{}:dm(l,d)});function y0(l,d){if(l==null)return{};var w=ce(_u(l),function(E){return[E]});return d=Mt(d),dd(l,w,function(E,v){return d(E,v[0])})}function Wb(l,d,w){d=zr(d,l);var E=-1,v=d.length;for(v||(v=1,l=n);++E<v;){var P=l==null?n:l[Hi(d[E])];P===n&&(E=v,P=w),l=pr(P)?P.call(l):P}return l}function Hb(l,d,w){return l==null?l:Ho(l,d,w)}function Vb(l,d,w,E){return E=typeof E=="function"?E:n,l==null?l:Ho(l,d,w,E)}var E0=Pd(on),C0=Pd(Wn);function jb(l,d,w){var E=Dt(l),v=E||Hr(l)||Zs(l);if(d=Mt(d,4),w==null){var P=l&&l.constructor;v?w=E?new P:[]:Ne(l)?w=pr(P)?js(Ka(l)):{}:w={}}return(v?Fn:zi)(l,function(W,Y,X){return d(w,W,Y,X)}),w}function Yb(l,d){return l==null?!0:hu(l,d)}function Gb(l,d,w){return l==null?l:wd(l,d,gu(w))}function Xb(l,d,w,E){return E=typeof E=="function"?E:n,l==null?l:wd(l,d,gu(w),E)}function Ks(l){return l==null?[]:yn(l,on(l))}function Zb(l){return l==null?[]:yn(l,Wn(l))}function Kb(l,d,w){return w===n&&(w=d,d=n),w!==n&&(w=ci(w),w=w===w?w:0),d!==n&&(d=ci(d),d=d===d?d:0),hs(ci(l),d,w)}function qb(l,d,w){return d=xr(d),w===n?(w=d,d=0):w=xr(w),l=ci(l),nm(l,d,w)}function Qb(l,d,w){if(w&&typeof w!="boolean"&&Nn(l,d,w)&&(d=w=n),w===n&&(typeof d=="boolean"?(w=d,d=n):typeof l=="boolean"&&(w=l,l=n)),l===n&&d===n?(l=0,d=1):(l=xr(l),d===n?(d=l,l=0):d=xr(d)),l>d){var E=l;l=d,d=E}if(w||l%1||d%1){var v=Zf();return En(l+v*(d-l+_n("1e-"+((v+"").length-1))),d)}return lu(l,d)}var Jb=Gs(function(l,d,w){return d=d.toLowerCase(),l+(w?S0(d):d)});function S0(l){return Pu(le(l).toLowerCase())}function I0(l){return l=le(l),l&&l.replace(me,Gc).replace(Lt,"")}function $b(l,d,w){l=le(l),d=Zn(d);var E=l.length;w=w===n?E:hs(Bt(w),0,E);var v=w;return w-=d.length,w>=0&&l.slice(w,v)==d}function tA(l){return l=le(l),l&&Yn.test(l)?l.replace(po,Ya):l}function eA(l){return l=le(l),l&&mo.test(l)?l.replace(_i,"\\$&"):l}var nA=Gs(function(l,d,w){return l+(w?"-":"")+d.toLowerCase()}),iA=Gs(function(l,d,w){return l+(w?" ":"")+d.toLowerCase()}),rA=Md("toLowerCase");function sA(l,d,w){l=le(l),d=Bt(d);var E=d?g(l):0;if(!d||E>=d)return l;var v=(d-E)/2;return fl($a(v),w)+l+fl(Ja(v),w)}function oA(l,d,w){l=le(l),d=Bt(d);var E=d?g(l):0;return d&&E<d?l+fl(d-E,w):l}function aA(l,d,w){l=le(l),d=Bt(d);var E=d?g(l):0;return d&&E<d?fl(d-E,w)+l:l}function lA(l,d,w){return w||d==null?d=0:d&&(d=+d),p2(le(l).replace(nn,""),d||0)}function cA(l,d,w){return(w?Nn(l,d,w):d===n)?d=1:d=Bt(d),cu(le(l),d)}function uA(){var l=arguments,d=le(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var hA=Gs(function(l,d,w){return l+(w?"_":"")+d.toLowerCase()});function fA(l,d,w){return w&&typeof w!="number"&&Nn(l,d,w)&&(d=w=n),w=w===n?ne:w>>>0,w?(l=le(l),l&&(typeof d=="string"||d!=null&&!Ru(d))&&(d=Zn(d),!d&&Ui(l))?Wr(x(l),0,w):l.split(d,w)):[]}var dA=Gs(function(l,d,w){return l+(w?" ":"")+Pu(d)});function gA(l,d,w){return l=le(l),w=w==null?0:hs(Bt(w),0,l.length),d=Zn(d),l.slice(w,w+d.length)==d}function pA(l,d,w){var E=R.templateSettings;w&&Nn(l,d,w)&&(d=n),l=le(l),d=Cl({},d,E,Bd);var v=Cl({},d.imports,E.imports,Bd),P=on(v),W=yn(v,P),Y,X,st=0,ot=d.interpolate||Ls,ct="__p += '",ft=sn((d.escape||Ls).source+"|"+ot.source+"|"+(ot===tr?Ds:Ls).source+"|"+(d.evaluate||Ls).source+"|$","g"),At="//# sourceURL="+(ae.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Hc+"]")+`
`;l.replace(ft,function(Nt,Wt,Zt,qn,Rn,Qn){return Zt||(Zt=qn),ct+=l.slice(st,Qn).replace(Pi,ri),Wt&&(Y=!0,ct+=`' +
__e(`+Wt+`) +
'`),Rn&&(X=!0,ct+=`';
`+Rn+`;
__p += '`),Zt&&(ct+=`' +
((__t = (`+Zt+`)) == null ? '' : __t) +
'`),st=Qn+Nt.length,Nt}),ct+=`';
`;var Ot=ae.call(d,"variable")&&d.variable;if(!Ot)ct=`with (obj) {
`+ct+`
}
`;else if(mn.test(Ot))throw new it(p);ct=(X?ct.replace(go,""):ct).replace(Da,"$1").replace(qt,"$1;"),ct="function("+(Ot||"obj")+`) {
`+(Ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Y?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ct+`return __p
}`;var Ft=v0(function(){return rt(P,At+"return "+ct).apply(n,W)});if(Ft.source=ct,Nu(Ft))throw Ft;return Ft}function xA(l){return le(l).toLowerCase()}function mA(l){return le(l).toUpperCase()}function wA(l,d,w){if(l=le(l),l&&(w||d===n))return Ei(l);if(!l||!(d=Zn(d)))return l;var E=x(l),v=x(d),P=Gn(E,v),W=ja(E,v)+1;return Wr(E,P,W).join("")}function _A(l,d,w){if(l=le(l),l&&(w||d===n))return l.slice(0,_(l)+1);if(!l||!(d=Zn(d)))return l;var E=x(l),v=ja(E,x(d))+1;return Wr(E,0,v).join("")}function bA(l,d,w){if(l=le(l),l&&(w||d===n))return l.replace(nn,"");if(!l||!(d=Zn(d)))return l;var E=x(l),v=Gn(E,x(d));return Wr(E,v).join("")}function AA(l,d){var w=yt,E=ut;if(Ne(d)){var v="separator"in d?d.separator:v;w="length"in d?Bt(d.length):w,E="omission"in d?Zn(d.omission):E}l=le(l);var P=l.length;if(Ui(l)){var W=x(l);P=W.length}if(w>=P)return l;var Y=w-g(E);if(Y<1)return E;var X=W?Wr(W,0,Y).join(""):l.slice(0,Y);if(v===n)return X+E;if(W&&(Y+=X.length-Y),Ru(v)){if(l.slice(Y).search(v)){var st,ot=X;for(v.global||(v=sn(v.source,le(es.exec(v))+"g")),v.lastIndex=0;st=v.exec(ot);)var ct=st.index;X=X.slice(0,ct===n?Y:ct)}}else if(l.indexOf(Zn(v),Y)!=Y){var ft=X.lastIndexOf(v);ft>-1&&(X=X.slice(0,ft))}return X+E}function yA(l){return l=le(l),l&&Lc.test(l)?l.replace(Li,A):l}var EA=Gs(function(l,d,w){return l+(w?" ":"")+d.toUpperCase()}),Pu=Md("toUpperCase");function T0(l,d,w){return l=le(l),d=w?n:d,d===n?as(l)?N(l):Lr(l):l.match(d)||[]}var v0=Ut(function(l,d){try{return bn(l,n,d)}catch(w){return Nu(w)?w:new it(w)}}),CA=dr(function(l,d){return Fn(d,function(w){w=Hi(w),hr(l,w,Mu(l[w],l))}),l});function SA(l){var d=l==null?0:l.length,w=Mt();return l=d?ce(l,function(E){if(typeof E[1]!="function")throw new pe(f);return[w(E[0]),E[1]]}):[],Ut(function(E){for(var v=-1;++v<d;){var P=l[v];if(bn(P[0],this,E))return bn(P[1],this,E)}})}function IA(l){return Q2(oi(l,S))}function Bu(l){return function(){return l}}function TA(l,d){return l==null||l!==l?d:l}var vA=Nd(),MA=Nd(!0);function Hn(l){return l}function ku(l){return ad(typeof l=="function"?l:oi(l,S))}function OA(l){return cd(oi(l,S))}function NA(l,d){return ud(l,oi(d,S))}var RA=Ut(function(l,d){return function(w){return zo(w,l,d)}}),DA=Ut(function(l,d){return function(w){return zo(l,w,d)}});function Fu(l,d,w){var E=on(d),v=sl(d,E);w==null&&!(Ne(d)&&(v.length||!E.length))&&(w=d,d=l,l=this,v=sl(d,on(d)));var P=!(Ne(w)&&"chain"in w)||!!w.chain,W=pr(l);return Fn(v,function(Y){var X=d[Y];l[Y]=X,W&&(l.prototype[Y]=function(){var st=this.__chain__;if(P||st){var ot=l(this.__wrapped__),ct=ot.__actions__=Un(this.__actions__);return ct.push({func:X,args:arguments,thisArg:l}),ot.__chain__=st,ot}return X.apply(l,An([this.value()],arguments))})}),l}function LA(){return Qe._===this&&(Qe._=o2),this}function Uu(){}function PA(l){return l=Bt(l),Ut(function(d){return hd(d,l)})}var BA=xu(ce),kA=xu(Us),FA=xu(To);function M0(l){return Eu(l)?Ws(Hi(l)):gm(l)}function UA(l){return function(d){return l==null?n:fs(l,d)}}var zA=Dd(),WA=Dd(!0);function zu(){return[]}function Wu(){return!1}function HA(){return{}}function VA(){return""}function jA(){return!0}function YA(l,d){if(l=Bt(l),l<1||l>ye)return[];var w=ne,E=En(l,ne);d=Mt(d),l-=ne;for(var v=lr(E,d);++w<l;)d(w);return v}function GA(l){return Dt(l)?ce(l,Hi):Kn(l)?[l]:Un(Kd(le(l)))}function XA(l){var d=++Zc;return le(l)+d}var ZA=hl(function(l,d){return l+d},0),KA=mu("ceil"),qA=hl(function(l,d){return l/d},1),QA=mu("floor");function JA(l){return l&&l.length?rl(l,Hn,nu):n}function $A(l,d){return l&&l.length?rl(l,Mt(d,2),nu):n}function ty(l){return vo(l,Hn)}function ey(l,d){return vo(l,Mt(d,2))}function ny(l){return l&&l.length?rl(l,Hn,ou):n}function iy(l,d){return l&&l.length?rl(l,Mt(d,2),ou):n}var ry=hl(function(l,d){return l*d},1),sy=mu("round"),oy=hl(function(l,d){return l-d},0);function ay(l){return l&&l.length?No(l,Hn):0}function ly(l,d){return l&&l.length?No(l,Mt(d,2)):0}return R.after=O_,R.ary=o0,R.assign=mb,R.assignIn=b0,R.assignInWith=Cl,R.assignWith=wb,R.at=_b,R.before=a0,R.bind=Mu,R.bindAll=CA,R.bindKey=l0,R.castArray=H_,R.chain=i0,R.chunk=Qm,R.compact=Jm,R.concat=$m,R.cond=SA,R.conforms=IA,R.constant=Bu,R.countBy=a_,R.create=bb,R.curry=c0,R.curryRight=u0,R.debounce=h0,R.defaults=Ab,R.defaultsDeep=yb,R.defer=N_,R.delay=R_,R.difference=tw,R.differenceBy=ew,R.differenceWith=nw,R.drop=iw,R.dropRight=rw,R.dropRightWhile=sw,R.dropWhile=ow,R.fill=aw,R.filter=c_,R.flatMap=f_,R.flatMapDeep=d_,R.flatMapDepth=g_,R.flatten=$d,R.flattenDeep=lw,R.flattenDepth=cw,R.flip=D_,R.flow=vA,R.flowRight=MA,R.fromPairs=uw,R.functions=Mb,R.functionsIn=Ob,R.groupBy=p_,R.initial=fw,R.intersection=dw,R.intersectionBy=gw,R.intersectionWith=pw,R.invert=Rb,R.invertBy=Db,R.invokeMap=m_,R.iteratee=ku,R.keyBy=w_,R.keys=on,R.keysIn=Wn,R.map=wl,R.mapKeys=Pb,R.mapValues=Bb,R.matches=OA,R.matchesProperty=NA,R.memoize=bl,R.merge=kb,R.mergeWith=A0,R.method=RA,R.methodOf=DA,R.mixin=Fu,R.negate=Al,R.nthArg=PA,R.omit=Fb,R.omitBy=Ub,R.once=L_,R.orderBy=__,R.over=BA,R.overArgs=P_,R.overEvery=kA,R.overSome=FA,R.partial=Ou,R.partialRight=f0,R.partition=b_,R.pick=zb,R.pickBy=y0,R.property=M0,R.propertyOf=UA,R.pull=_w,R.pullAll=e0,R.pullAllBy=bw,R.pullAllWith=Aw,R.pullAt=yw,R.range=zA,R.rangeRight=WA,R.rearg=B_,R.reject=E_,R.remove=Ew,R.rest=k_,R.reverse=Tu,R.sampleSize=S_,R.set=Hb,R.setWith=Vb,R.shuffle=I_,R.slice=Cw,R.sortBy=M_,R.sortedUniq=Nw,R.sortedUniqBy=Rw,R.split=fA,R.spread=F_,R.tail=Dw,R.take=Lw,R.takeRight=Pw,R.takeRightWhile=Bw,R.takeWhile=kw,R.tap=Jw,R.throttle=U_,R.thru=ml,R.toArray=m0,R.toPairs=E0,R.toPairsIn=C0,R.toPath=GA,R.toPlainObject=_0,R.transform=jb,R.unary=z_,R.union=Fw,R.unionBy=Uw,R.unionWith=zw,R.uniq=Ww,R.uniqBy=Hw,R.uniqWith=Vw,R.unset=Yb,R.unzip=vu,R.unzipWith=n0,R.update=Gb,R.updateWith=Xb,R.values=Ks,R.valuesIn=Zb,R.without=jw,R.words=T0,R.wrap=W_,R.xor=Yw,R.xorBy=Gw,R.xorWith=Xw,R.zip=Zw,R.zipObject=Kw,R.zipObjectDeep=qw,R.zipWith=Qw,R.entries=E0,R.entriesIn=C0,R.extend=b0,R.extendWith=Cl,Fu(R,R),R.add=ZA,R.attempt=v0,R.camelCase=Jb,R.capitalize=S0,R.ceil=KA,R.clamp=Kb,R.clone=V_,R.cloneDeep=Y_,R.cloneDeepWith=G_,R.cloneWith=j_,R.conformsTo=X_,R.deburr=I0,R.defaultTo=TA,R.divide=qA,R.endsWith=$b,R.eq=Ti,R.escape=tA,R.escapeRegExp=eA,R.every=l_,R.find=u_,R.findIndex=Qd,R.findKey=Eb,R.findLast=h_,R.findLastIndex=Jd,R.findLastKey=Cb,R.floor=QA,R.forEach=r0,R.forEachRight=s0,R.forIn=Sb,R.forInRight=Ib,R.forOwn=Tb,R.forOwnRight=vb,R.get=Du,R.gt=Z_,R.gte=K_,R.has=Nb,R.hasIn=Lu,R.head=t0,R.identity=Hn,R.includes=x_,R.indexOf=hw,R.inRange=qb,R.invoke=Lb,R.isArguments=ps,R.isArray=Dt,R.isArrayBuffer=q_,R.isArrayLike=zn,R.isArrayLikeObject=ze,R.isBoolean=Q_,R.isBuffer=Hr,R.isDate=J_,R.isElement=$_,R.isEmpty=tb,R.isEqual=eb,R.isEqualWith=nb,R.isError=Nu,R.isFinite=ib,R.isFunction=pr,R.isInteger=d0,R.isLength=yl,R.isMap=g0,R.isMatch=rb,R.isMatchWith=sb,R.isNaN=ob,R.isNative=ab,R.isNil=cb,R.isNull=lb,R.isNumber=p0,R.isObject=Ne,R.isObjectLike=Pe,R.isPlainObject=Go,R.isRegExp=Ru,R.isSafeInteger=ub,R.isSet=x0,R.isString=El,R.isSymbol=Kn,R.isTypedArray=Zs,R.isUndefined=hb,R.isWeakMap=fb,R.isWeakSet=db,R.join=xw,R.kebabCase=nA,R.last=li,R.lastIndexOf=mw,R.lowerCase=iA,R.lowerFirst=rA,R.lt=gb,R.lte=pb,R.max=JA,R.maxBy=$A,R.mean=ty,R.meanBy=ey,R.min=ny,R.minBy=iy,R.stubArray=zu,R.stubFalse=Wu,R.stubObject=HA,R.stubString=VA,R.stubTrue=jA,R.multiply=ry,R.nth=ww,R.noConflict=LA,R.noop=Uu,R.now=_l,R.pad=sA,R.padEnd=oA,R.padStart=aA,R.parseInt=lA,R.random=Qb,R.reduce=A_,R.reduceRight=y_,R.repeat=cA,R.replace=uA,R.result=Wb,R.round=sy,R.runInContext=M,R.sample=C_,R.size=T_,R.snakeCase=hA,R.some=v_,R.sortedIndex=Sw,R.sortedIndexBy=Iw,R.sortedIndexOf=Tw,R.sortedLastIndex=vw,R.sortedLastIndexBy=Mw,R.sortedLastIndexOf=Ow,R.startCase=dA,R.startsWith=gA,R.subtract=oy,R.sum=ay,R.sumBy=ly,R.template=pA,R.times=YA,R.toFinite=xr,R.toInteger=Bt,R.toLength=w0,R.toLower=xA,R.toNumber=ci,R.toSafeInteger=xb,R.toString=le,R.toUpper=mA,R.trim=wA,R.trimEnd=_A,R.trimStart=bA,R.truncate=AA,R.unescape=yA,R.uniqueId=XA,R.upperCase=EA,R.upperFirst=Pu,R.each=r0,R.eachRight=s0,R.first=t0,Fu(R,function(){var l={};return zi(R,function(d,w){ae.call(R.prototype,w)||(l[w]=d)}),l}(),{chain:!1}),R.VERSION=r,Fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){R[l].placeholder=R}),Fn(["drop","take"],function(l,d){Yt.prototype[l]=function(w){w=w===n?1:$e(Bt(w),0);var E=this.__filtered__&&!d?new Yt(this):this.clone();return E.__filtered__?E.__takeCount__=En(w,E.__takeCount__):E.__views__.push({size:En(w,ne),type:l+(E.__dir__<0?"Right":"")}),E},Yt.prototype[l+"Right"]=function(w){return this.reverse()[l](w).reverse()}}),Fn(["filter","map","takeWhile"],function(l,d){var w=d+1,E=w==et||w==pt;Yt.prototype[l]=function(v){var P=this.clone();return P.__iteratees__.push({iteratee:Mt(v,3),type:w}),P.__filtered__=P.__filtered__||E,P}}),Fn(["head","last"],function(l,d){var w="take"+(d?"Right":"");Yt.prototype[l]=function(){return this[w](1).value()[0]}}),Fn(["initial","tail"],function(l,d){var w="drop"+(d?"":"Right");Yt.prototype[l]=function(){return this.__filtered__?new Yt(this):this[w](1)}}),Yt.prototype.compact=function(){return this.filter(Hn)},Yt.prototype.find=function(l){return this.filter(l).head()},Yt.prototype.findLast=function(l){return this.reverse().find(l)},Yt.prototype.invokeMap=Ut(function(l,d){return typeof l=="function"?new Yt(this):this.map(function(w){return zo(w,l,d)})}),Yt.prototype.reject=function(l){return this.filter(Al(Mt(l)))},Yt.prototype.slice=function(l,d){l=Bt(l);var w=this;return w.__filtered__&&(l>0||d<0)?new Yt(w):(l<0?w=w.takeRight(-l):l&&(w=w.drop(l)),d!==n&&(d=Bt(d),w=d<0?w.dropRight(-d):w.take(d-l)),w)},Yt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Yt.prototype.toArray=function(){return this.take(ne)},zi(Yt.prototype,function(l,d){var w=/^(?:filter|find|map|reject)|While$/.test(d),E=/^(?:head|last)$/.test(d),v=R[E?"take"+(d=="last"?"Right":""):d],P=E||/^find/.test(d);!v||(R.prototype[d]=function(){var W=this.__wrapped__,Y=E?[1]:arguments,X=W instanceof Yt,st=Y[0],ot=X||Dt(W),ct=function(Wt){var Zt=v.apply(R,An([Wt],Y));return E&&ft?Zt[0]:Zt};ot&&w&&typeof st=="function"&&st.length!=1&&(X=ot=!1);var ft=this.__chain__,At=!!this.__actions__.length,Ot=P&&!ft,Ft=X&&!At;if(!P&&ot){W=Ft?W:new Yt(this);var Nt=l.apply(W,Y);return Nt.__actions__.push({func:ml,args:[ct],thisArg:n}),new si(Nt,ft)}return Ot&&Ft?l.apply(this,Y):(Nt=this.thru(ct),Ot?E?Nt.value()[0]:Nt.value():Nt)})}),Fn(["pop","push","shift","sort","splice","unshift"],function(l){var d=te[l],w=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",E=/^(?:pop|shift)$/.test(l);R.prototype[l]=function(){var v=arguments;if(E&&!this.__chain__){var P=this.value();return d.apply(Dt(P)?P:[],v)}return this[w](function(W){return d.apply(Dt(W)?W:[],v)})}}),zi(Yt.prototype,function(l,d){var w=R[d];if(w){var E=w.name+"";ae.call(Vs,E)||(Vs[E]=[]),Vs[E].push({name:d,func:w})}}),Vs[ul(n,H).name]=[{name:"wrapper",func:n}],Yt.prototype.clone=y2,Yt.prototype.reverse=E2,Yt.prototype.value=C2,R.prototype.at=$w,R.prototype.chain=t_,R.prototype.commit=e_,R.prototype.next=n_,R.prototype.plant=r_,R.prototype.reverse=s_,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=o_,R.prototype.first=R.prototype.head,Do&&(R.prototype[Do]=i_),R},j=U();sr?((sr.exports=j)._=j,Io._=j):Qe._=j}).call(Gi)})(Eh,Eh.exports);const uy=Eh.exports;var Ng={exports:{}},ef={exports:{}},Rg=function(t,n){return function(){for(var o=new Array(arguments.length),c=0;c<o.length;c++)o[c]=arguments[c];return t.apply(n,o)}},hy=Rg,Jr=Object.prototype.toString;function nf(e){return Array.isArray(e)}function Ch(e){return typeof e>"u"}function fy(e){return e!==null&&!Ch(e)&&e.constructor!==null&&!Ch(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Dg(e){return Jr.call(e)==="[object ArrayBuffer]"}function dy(e){return Jr.call(e)==="[object FormData]"}function gy(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Dg(e.buffer),t}function py(e){return typeof e=="string"}function xy(e){return typeof e=="number"}function Lg(e){return e!==null&&typeof e=="object"}function Ul(e){if(Jr.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function my(e){return Jr.call(e)==="[object Date]"}function wy(e){return Jr.call(e)==="[object File]"}function _y(e){return Jr.call(e)==="[object Blob]"}function Pg(e){return Jr.call(e)==="[object Function]"}function by(e){return Lg(e)&&Pg(e.pipe)}function Ay(e){return Jr.call(e)==="[object URLSearchParams]"}function yy(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Ey(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function rf(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),nf(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function Sh(){var e={};function t(o,c){Ul(e[c])&&Ul(o)?e[c]=Sh(e[c],o):Ul(o)?e[c]=Sh({},o):nf(o)?e[c]=o.slice():e[c]=o}for(var n=0,r=arguments.length;n<r;n++)rf(arguments[n],t);return e}function Cy(e,t,n){return rf(t,function(o,c){n&&typeof o=="function"?e[c]=hy(o,n):e[c]=o}),e}function Sy(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var jn={isArray:nf,isArrayBuffer:Dg,isBuffer:fy,isFormData:dy,isArrayBufferView:gy,isString:py,isNumber:xy,isObject:Lg,isPlainObject:Ul,isUndefined:Ch,isDate:my,isFile:wy,isBlob:_y,isFunction:Pg,isStream:by,isURLSearchParams:Ay,isStandardBrowserEnv:Ey,forEach:rf,merge:Sh,extend:Cy,trim:yy,stripBOM:Sy},qs=jn;function N0(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Bg=function(t,n,r){if(!n)return t;var o;if(r)o=r(n);else if(qs.isURLSearchParams(n))o=n.toString();else{var c=[];qs.forEach(n,function(m,b){m===null||typeof m>"u"||(qs.isArray(m)?b=b+"[]":m=[m],qs.forEach(m,function(S){qs.isDate(S)?S=S.toISOString():qs.isObject(S)&&(S=JSON.stringify(S)),c.push(N0(b)+"="+N0(S))}))}),o=c.join("&")}if(o){var f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t},Iy=jn;function nc(){this.handlers=[]}nc.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};nc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};nc.prototype.forEach=function(t){Iy.forEach(this.handlers,function(r){r!==null&&t(r)})};var Ty=nc,vy=jn,My=function(t,n){vy.forEach(t,function(o,c){c!==n&&c.toUpperCase()===n.toUpperCase()&&(t[n]=o,delete t[c])})},kg=function(t,n,r,o,c){return t.config=n,r&&(t.code=r),t.request=o,t.response=c,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},Hu,R0;function Fg(){if(R0)return Hu;R0=1;var e=kg;return Hu=function(n,r,o,c,f){var p=new Error(n);return e(p,r,o,c,f)},Hu}var Vu,D0;function Oy(){if(D0)return Vu;D0=1;var e=Fg();return Vu=function(n,r,o){var c=o.config.validateStatus;!o.status||!c||c(o.status)?n(o):r(e("Request failed with status code "+o.status,o.config,null,o.request,o))},Vu}var ju,L0;function Ny(){if(L0)return ju;L0=1;var e=jn;return ju=e.isStandardBrowserEnv()?function(){return{write:function(r,o,c,f,p,m){var b=[];b.push(r+"="+encodeURIComponent(o)),e.isNumber(c)&&b.push("expires="+new Date(c).toGMTString()),e.isString(f)&&b.push("path="+f),e.isString(p)&&b.push("domain="+p),m===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(r){var o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ju}var Yu,P0;function Ry(){return P0||(P0=1,Yu=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),Yu}var Gu,B0;function Dy(){return B0||(B0=1,Gu=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}),Gu}var Xu,k0;function Ly(){if(k0)return Xu;k0=1;var e=Ry(),t=Dy();return Xu=function(r,o){return r&&!e(o)?t(r,o):o},Xu}var Zu,F0;function Py(){if(F0)return Zu;F0=1;var e=jn,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Zu=function(r){var o={},c,f,p;return r&&e.forEach(r.split(`
`),function(b){if(p=b.indexOf(":"),c=e.trim(b.substr(0,p)).toLowerCase(),f=e.trim(b.substr(p+1)),c){if(o[c]&&t.indexOf(c)>=0)return;c==="set-cookie"?o[c]=(o[c]?o[c]:[]).concat([f]):o[c]=o[c]?o[c]+", "+f:f}}),o},Zu}var Ku,U0;function By(){if(U0)return Ku;U0=1;var e=jn;return Ku=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),o;function c(f){var p=f;return n&&(r.setAttribute("href",p),p=r.href),r.setAttribute("href",p),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=c(window.location.href),function(p){var m=e.isString(p)?c(p):p;return m.protocol===o.protocol&&m.host===o.host}}():function(){return function(){return!0}}(),Ku}var qu,z0;function ic(){if(z0)return qu;z0=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,qu=e,qu}var Qu,W0;function H0(){if(W0)return Qu;W0=1;var e=jn,t=Oy(),n=Ny(),r=Bg,o=Ly(),c=Py(),f=By(),p=Fg(),m=rc(),b=ic();return Qu=function(S){return new Promise(function(L,D){var V=S.data,z=S.headers,H=S.responseType,G;function $(){S.cancelToken&&S.cancelToken.unsubscribe(G),S.signal&&S.signal.removeEventListener("abort",G)}e.isFormData(V)&&delete z["Content-Type"];var Q=new XMLHttpRequest;if(S.auth){var tt=S.auth.username||"",Z=S.auth.password?unescape(encodeURIComponent(S.auth.password)):"";z.Authorization="Basic "+btoa(tt+":"+Z)}var at=o(S.baseURL,S.url);Q.open(S.method.toUpperCase(),r(at,S.params,S.paramsSerializer),!0),Q.timeout=S.timeout;function J(){if(!!Q){var yt="getAllResponseHeaders"in Q?c(Q.getAllResponseHeaders()):null,ut=!H||H==="text"||H==="json"?Q.responseText:Q.response,gt={data:ut,status:Q.status,statusText:Q.statusText,headers:yt,config:S,request:Q};t(function(et){L(et),$()},function(et){D(et),$()},gt),Q=null}}if("onloadend"in Q?Q.onloadend=J:Q.onreadystatechange=function(){!Q||Q.readyState!==4||Q.status===0&&!(Q.responseURL&&Q.responseURL.indexOf("file:")===0)||setTimeout(J)},Q.onabort=function(){!Q||(D(p("Request aborted",S,"ECONNABORTED",Q)),Q=null)},Q.onerror=function(){D(p("Network Error",S,null,Q)),Q=null},Q.ontimeout=function(){var ut=S.timeout?"timeout of "+S.timeout+"ms exceeded":"timeout exceeded",gt=S.transitional||m.transitional;S.timeoutErrorMessage&&(ut=S.timeoutErrorMessage),D(p(ut,S,gt.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Q)),Q=null},e.isStandardBrowserEnv()){var dt=(S.withCredentials||f(at))&&S.xsrfCookieName?n.read(S.xsrfCookieName):void 0;dt&&(z[S.xsrfHeaderName]=dt)}"setRequestHeader"in Q&&e.forEach(z,function(ut,gt){typeof V>"u"&&gt.toLowerCase()==="content-type"?delete z[gt]:Q.setRequestHeader(gt,ut)}),e.isUndefined(S.withCredentials)||(Q.withCredentials=!!S.withCredentials),H&&H!=="json"&&(Q.responseType=S.responseType),typeof S.onDownloadProgress=="function"&&Q.addEventListener("progress",S.onDownloadProgress),typeof S.onUploadProgress=="function"&&Q.upload&&Q.upload.addEventListener("progress",S.onUploadProgress),(S.cancelToken||S.signal)&&(G=function(yt){!Q||(D(!yt||yt&&yt.type?new b("canceled"):yt),Q.abort(),Q=null)},S.cancelToken&&S.cancelToken.subscribe(G),S.signal&&(S.signal.aborted?G():S.signal.addEventListener("abort",G))),V||(V=null),Q.send(V)})},Qu}var Ju,V0;function rc(){if(V0)return Ju;V0=1;var e=jn,t=My,n=kg,r={"Content-Type":"application/x-www-form-urlencoded"};function o(m,b){!e.isUndefined(m)&&e.isUndefined(m["Content-Type"])&&(m["Content-Type"]=b)}function c(){var m;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(m=H0()),m}function f(m,b,y){if(e.isString(m))try{return(b||JSON.parse)(m),e.trim(m)}catch(S){if(S.name!=="SyntaxError")throw S}return(y||JSON.stringify)(m)}var p={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:c(),transformRequest:[function(b,y){return t(y,"Accept"),t(y,"Content-Type"),e.isFormData(b)||e.isArrayBuffer(b)||e.isBuffer(b)||e.isStream(b)||e.isFile(b)||e.isBlob(b)?b:e.isArrayBufferView(b)?b.buffer:e.isURLSearchParams(b)?(o(y,"application/x-www-form-urlencoded;charset=utf-8"),b.toString()):e.isObject(b)||y&&y["Content-Type"]==="application/json"?(o(y,"application/json"),f(b)):b}],transformResponse:[function(b){var y=this.transitional||p.transitional,S=y&&y.silentJSONParsing,O=y&&y.forcedJSONParsing,L=!S&&this.responseType==="json";if(L||O&&e.isString(b)&&b.length)try{return JSON.parse(b)}catch(D){if(L)throw D.name==="SyntaxError"?n(D,this,"E_JSON_PARSE"):D}return b}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(b){return b>=200&&b<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(b){p.headers[b]={}}),e.forEach(["post","put","patch"],function(b){p.headers[b]=e.merge(r)}),Ju=p,Ju}var ky=jn,Fy=rc(),Uy=function(t,n,r){var o=this||Fy;return ky.forEach(r,function(f){t=f.call(o,t,n)}),t},$u,j0;function Ug(){return j0||(j0=1,$u=function(t){return!!(t&&t.__CANCEL__)}),$u}var Y0=jn,th=Uy,zy=Ug(),Wy=rc(),Hy=ic();function eh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hy("canceled")}var Vy=function(t){eh(t),t.headers=t.headers||{},t.data=th.call(t,t.data,t.headers,t.transformRequest),t.headers=Y0.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Y0.forEach(["delete","get","head","post","put","patch","common"],function(o){delete t.headers[o]});var n=t.adapter||Wy.adapter;return n(t).then(function(o){return eh(t),o.data=th.call(t,o.data,o.headers,t.transformResponse),o},function(o){return zy(o)||(eh(t),o&&o.response&&(o.response.data=th.call(t,o.response.data,o.response.headers,t.transformResponse))),Promise.reject(o)})},Jn=jn,zg=function(t,n){n=n||{};var r={};function o(y,S){return Jn.isPlainObject(y)&&Jn.isPlainObject(S)?Jn.merge(y,S):Jn.isPlainObject(S)?Jn.merge({},S):Jn.isArray(S)?S.slice():S}function c(y){if(Jn.isUndefined(n[y])){if(!Jn.isUndefined(t[y]))return o(void 0,t[y])}else return o(t[y],n[y])}function f(y){if(!Jn.isUndefined(n[y]))return o(void 0,n[y])}function p(y){if(Jn.isUndefined(n[y])){if(!Jn.isUndefined(t[y]))return o(void 0,t[y])}else return o(void 0,n[y])}function m(y){if(y in n)return o(t[y],n[y]);if(y in t)return o(void 0,t[y])}var b={url:f,method:f,data:f,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:m};return Jn.forEach(Object.keys(t).concat(Object.keys(n)),function(S){var O=b[S]||c,L=O(S);Jn.isUndefined(L)&&O!==m||(r[S]=L)}),r},nh,G0;function Wg(){return G0||(G0=1,nh={version:"0.25.0"}),nh}var jy=Wg().version,sf={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){sf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var X0={};sf.transitional=function(t,n,r){function o(c,f){return"[Axios v"+jy+"] Transitional option '"+c+"'"+f+(r?". "+r:"")}return function(c,f,p){if(t===!1)throw new Error(o(f," has been removed"+(n?" in "+n:"")));return n&&!X0[f]&&(X0[f]=!0,console.warn(o(f," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(c,f,p):!0}};function Yy(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var c=r[o],f=t[c];if(f){var p=e[c],m=p===void 0||f(p,c,e);if(m!==!0)throw new TypeError("option "+c+" must be "+m);continue}if(n!==!0)throw Error("Unknown option "+c)}}var Gy={assertOptions:Yy,validators:sf},Hg=jn,Xy=Bg,Z0=Ty,K0=Vy,sc=zg,Vg=Gy,Qs=Vg.validators;function Aa(e){this.defaults=e,this.interceptors={request:new Z0,response:new Z0}}Aa.prototype.request=function(t,n){if(typeof t=="string"?(n=n||{},n.url=t):n=t||{},!n.url)throw new Error("Provided config url is not valid");n=sc(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&Vg.assertOptions(r,{silentJSONParsing:Qs.transitional(Qs.boolean),forcedJSONParsing:Qs.transitional(Qs.boolean),clarifyTimeoutError:Qs.transitional(Qs.boolean)},!1);var o=[],c=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(n)===!1||(c=c&&L.synchronous,o.unshift(L.fulfilled,L.rejected))});var f=[];this.interceptors.response.forEach(function(L){f.push(L.fulfilled,L.rejected)});var p;if(!c){var m=[K0,void 0];for(Array.prototype.unshift.apply(m,o),m=m.concat(f),p=Promise.resolve(n);m.length;)p=p.then(m.shift(),m.shift());return p}for(var b=n;o.length;){var y=o.shift(),S=o.shift();try{b=y(b)}catch(O){S(O);break}}try{p=K0(b)}catch(O){return Promise.reject(O)}for(;f.length;)p=p.then(f.shift(),f.shift());return p};Aa.prototype.getUri=function(t){if(!t.url)throw new Error("Provided config url is not valid");return t=sc(this.defaults,t),Xy(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Hg.forEach(["delete","get","head","options"],function(t){Aa.prototype[t]=function(n,r){return this.request(sc(r||{},{method:t,url:n,data:(r||{}).data}))}});Hg.forEach(["post","put","patch"],function(t){Aa.prototype[t]=function(n,r,o){return this.request(sc(o||{},{method:t,url:n,data:r}))}});var Zy=Aa,ih,q0;function Ky(){if(q0)return ih;q0=1;var e=ic();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(f){r=f});var o=this;this.promise.then(function(c){if(!!o._listeners){var f,p=o._listeners.length;for(f=0;f<p;f++)o._listeners[f](c);o._listeners=null}}),this.promise.then=function(c){var f,p=new Promise(function(m){o.subscribe(m),f=m}).then(c);return p.cancel=function(){o.unsubscribe(f)},p},n(function(f){o.reason||(o.reason=new e(f),r(o.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},t.prototype.unsubscribe=function(r){if(!!this._listeners){var o=this._listeners.indexOf(r);o!==-1&&this._listeners.splice(o,1)}},t.source=function(){var r,o=new t(function(f){r=f});return{token:o,cancel:r}},ih=t,ih}var rh,Q0;function qy(){return Q0||(Q0=1,rh=function(t){return function(r){return t.apply(null,r)}}),rh}var sh,J0;function Qy(){if(J0)return sh;J0=1;var e=jn;return sh=function(n){return e.isObject(n)&&n.isAxiosError===!0},sh}var $0=jn,Jy=Rg,zl=Zy,$y=zg,tE=rc();function jg(e){var t=new zl(e),n=Jy(zl.prototype.request,t);return $0.extend(n,zl.prototype,t),$0.extend(n,t),n.create=function(o){return jg($y(e,o))},n}var Zi=jg(tE);Zi.Axios=zl;Zi.Cancel=ic();Zi.CancelToken=Ky();Zi.isCancel=Ug();Zi.VERSION=Wg().version;Zi.all=function(t){return Promise.all(t)};Zi.spread=qy();Zi.isAxiosError=Qy();ef.exports=Zi;ef.exports.default=Zi;(function(e){e.exports=ef.exports})(Ng);const eE=Og(Ng.exports);window._=uy;window.axios=eE;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Ih=!1,Th=!1,As=[];function nE(e){iE(e)}function iE(e){As.includes(e)||As.push(e),rE()}function Yg(e){let t=As.indexOf(e);t!==-1&&As.splice(t,1)}function rE(){!Th&&!Ih&&(Ih=!0,queueMicrotask(sE))}function sE(){Ih=!1,Th=!0;for(let e=0;e<As.length;e++)As[e]();As.length=0,Th=!1}var lo,ya,oc,Gg,vh=!0;function oE(e){vh=!1,e(),vh=!0}function aE(e){lo=e.reactive,oc=e.release,ya=t=>e.effect(t,{scheduler:n=>{vh?nE(n):n()}}),Gg=e.raw}function t1(e){ya=e}function lE(e){let t=()=>{};return[r=>{let o=ya(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(c=>c())}),e._x_effects.add(o),t=()=>{o!==void 0&&(e._x_effects.delete(o),oc(o))},o},()=>{t()}]}var Xg=[],Zg=[],Kg=[];function cE(e){Kg.push(e)}function qg(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,Zg.push(t))}function uE(e){Xg.push(e)}function hE(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function Qg(e,t){!e._x_attributeCleanups||Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(t===void 0||t.includes(n))&&(r.forEach(o=>o()),delete e._x_attributeCleanups[n])})}var of=new MutationObserver(cf),af=!1;function Jg(){of.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),af=!0}function fE(){dE(),of.disconnect(),af=!1}var oa=[],oh=!1;function dE(){oa=oa.concat(of.takeRecords()),oa.length&&!oh&&(oh=!0,queueMicrotask(()=>{gE(),oh=!1}))}function gE(){cf(oa),oa.length=0}function an(e){if(!af)return e();fE();let t=e();return Jg(),t}var lf=!1,Vl=[];function pE(){lf=!0}function xE(){lf=!1,cf(Vl),Vl=[]}function cf(e){if(lf){Vl=Vl.concat(e);return}let t=[],n=[],r=new Map,o=new Map;for(let c=0;c<e.length;c++)if(!e[c].target._x_ignoreMutationObserver&&(e[c].type==="childList"&&(e[c].addedNodes.forEach(f=>f.nodeType===1&&t.push(f)),e[c].removedNodes.forEach(f=>f.nodeType===1&&n.push(f))),e[c].type==="attributes")){let f=e[c].target,p=e[c].attributeName,m=e[c].oldValue,b=()=>{r.has(f)||r.set(f,[]),r.get(f).push({name:p,value:f.getAttribute(p)})},y=()=>{o.has(f)||o.set(f,[]),o.get(f).push(p)};f.hasAttribute(p)&&m===null?b():f.hasAttribute(p)?(y(),b()):y()}o.forEach((c,f)=>{Qg(f,c)}),r.forEach((c,f)=>{Xg.forEach(p=>p(f,c))});for(let c of n)if(!t.includes(c)&&(Zg.forEach(f=>f(c)),c._x_cleanups))for(;c._x_cleanups.length;)c._x_cleanups.pop()();t.forEach(c=>{c._x_ignoreSelf=!0,c._x_ignore=!0});for(let c of t)n.includes(c)||!c.isConnected||(delete c._x_ignoreSelf,delete c._x_ignore,Kg.forEach(f=>f(c)),c._x_ignore=!0,c._x_ignoreSelf=!0);t.forEach(c=>{delete c._x_ignoreSelf,delete c._x_ignore}),t=null,n=null,r=null,o=null}function $g(e){return Ca(io(e))}function Ea(e,t,n){return e._x_dataStack=[t,...io(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function e1(e,t){let n=e._x_dataStack[0];Object.entries(t).forEach(([r,o])=>{n[r]=o})}function io(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?io(e.host):e.parentNode?io(e.parentNode):[]}function Ca(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap(n=>Object.keys(n)))),has:(n,r)=>e.some(o=>o.hasOwnProperty(r)),get:(n,r)=>(e.find(o=>{if(o.hasOwnProperty(r)){let c=Object.getOwnPropertyDescriptor(o,r);if(c.get&&c.get._x_alreadyBound||c.set&&c.set._x_alreadyBound)return!0;if((c.get||c.set)&&c.enumerable){let f=c.get,p=c.set,m=c;f=f&&f.bind(t),p=p&&p.bind(t),f&&(f._x_alreadyBound=!0),p&&(p._x_alreadyBound=!0),Object.defineProperty(o,r,{...m,get:f,set:p})}return!0}return!1})||{})[r],set:(n,r,o)=>{let c=e.find(f=>f.hasOwnProperty(r));return c?c[r]=o:e[e.length-1][r]=o,!0}});return t}function tp(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,o="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([c,{value:f,enumerable:p}])=>{if(p===!1||f===void 0)return;let m=o===""?c:`${o}.${c}`;typeof f=="object"&&f!==null&&f._x_interceptor?r[c]=f.initialize(e,m,c):t(f)&&f!==r&&!(f instanceof Element)&&n(f,m)})};return n(e)}function ep(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,o,c){return e(this.initialValue,()=>mE(r,o),f=>Mh(r,o,f),o,c)}};return t(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let o=n.initialize.bind(n);n.initialize=(c,f,p)=>{let m=r.initialize(c,f,p);return n.initialValue=m,o(c,f,p)}}else n.initialValue=r;return n}}function mE(e,t){return t.split(".").reduce((n,r)=>n[r],e)}function Mh(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),Mh(e[t[0]],t.slice(1),n)}}var np={};function Ri(e,t){np[e]=t}function Oh(e,t){return Object.entries(np).forEach(([n,r])=>{Object.defineProperty(e,`$${n}`,{get(){let[o,c]=lp(t);return o={interceptor:ep,...o},qg(t,c),r(t,o)},enumerable:!1})}),e}function wE(e,t,n,...r){try{return n(...r)}catch(o){ga(o,e,t)}}function ga(e,t,n=void 0){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var Wl=!0;function _E(e){let t=Wl;Wl=!1,e(),Wl=t}function eo(e,t,n={}){let r;return Dn(e,t)(o=>r=o,n),r}function Dn(...e){return ip(...e)}var ip=rp;function bE(e){ip=e}function rp(e,t){let n={};Oh(n,e);let r=[n,...io(e)];if(typeof t=="function")return AE(r,t);let o=EE(r,t,e);return wE.bind(null,e,t,o)}function AE(e,t){return(n=()=>{},{scope:r={},params:o=[]}={})=>{let c=t.apply(Ca([r,...e]),o);jl(n,c)}}var ah={};function yE(e,t){if(ah[e])return ah[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(() => { ${e} })()`:e,c=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`)}catch(f){return ga(f,t,e),Promise.resolve()}})();return ah[e]=c,c}function EE(e,t,n){let r=yE(t,n);return(o=()=>{},{scope:c={},params:f=[]}={})=>{r.result=void 0,r.finished=!1;let p=Ca([c,...e]);if(typeof r=="function"){let m=r(r,p).catch(b=>ga(b,n,t));r.finished?(jl(o,r.result,p,f,n),r.result=void 0):m.then(b=>{jl(o,b,p,f,n)}).catch(b=>ga(b,n,t)).finally(()=>r.result=void 0)}}}function jl(e,t,n,r,o){if(Wl&&typeof t=="function"){let c=t.apply(n,r);c instanceof Promise?c.then(f=>jl(e,f,n,r)).catch(f=>ga(f,o,t)):e(c)}else e(t)}var uf="x-";function co(e=""){return uf+e}function CE(e){uf=e}var sp={};function Xe(e,t){sp[e]=t}function hf(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let c=Object.entries(e._x_virtualDirectives).map(([p,m])=>({name:p,value:m})),f=op(c);c=c.map(p=>f.find(m=>m.name===p.name)?{name:`x-bind:${p.name}`,value:`"${p.value}"`}:p),t=t.concat(c)}let r={};return t.map(hp((c,f)=>r[c]=f)).filter(dp).map(TE(r,n)).sort(vE).map(c=>IE(e,c))}function op(e){return Array.from(e).map(hp()).filter(t=>!dp(t))}var Nh=!1,na=new Map,ap=Symbol();function SE(e){Nh=!0;let t=Symbol();ap=t,na.set(t,[]);let n=()=>{for(;na.get(t).length;)na.get(t).shift()();na.delete(t)},r=()=>{Nh=!1,n()};e(n),r()}function lp(e){let t=[],n=p=>t.push(p),[r,o]=lE(e);return t.push(o),[{Alpine:Sa,effect:r,cleanup:n,evaluateLater:Dn.bind(Dn,e),evaluate:eo.bind(eo,e)},()=>t.forEach(p=>p())]}function IE(e,t){let n=()=>{},r=sp[t.type]||n,[o,c]=lp(e);hE(e,t.original,c);let f=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,o),r=r.bind(r,e,t,o),Nh?na.get(ap).push(r):r())};return f.runCleanups=c,f}var cp=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r}),up=e=>e;function hp(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:o}=fp.reduce((c,f)=>f(c),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:o}}}var fp=[];function ff(e){fp.push(e)}function dp({name:e}){return gp().test(e)}var gp=()=>new RegExp(`^${uf}([^:^.]+)\\b`);function TE(e,t){return({name:n,value:r})=>{let o=n.match(gp()),c=n.match(/:([a-zA-Z0-9\-:]+)/),f=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],p=t||e[n]||n;return{type:o?o[1]:null,value:c?c[1]:null,modifiers:f.map(m=>m.replace(".","")),expression:r,original:p}}}var Rh="DEFAULT",Sl=["ignore","ref","data","id","bind","init","for","mask","model","modelable","transition","show","if",Rh,"teleport"];function vE(e,t){let n=Sl.indexOf(e.type)===-1?Rh:e.type,r=Sl.indexOf(t.type)===-1?Rh:t.type;return Sl.indexOf(n)-Sl.indexOf(r)}function aa(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}var Dh=[],df=!1;function pp(e=()=>{}){return queueMicrotask(()=>{df||setTimeout(()=>{Lh()})}),new Promise(t=>{Dh.push(()=>{e(),t()})})}function Lh(){for(df=!1;Dh.length;)Dh.shift()()}function ME(){df=!0}function Is(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(o=>Is(o,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)Is(r,t),r=r.nextElementSibling}function ro(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}function OE(){document.body||ro("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),aa(document,"alpine:init"),aa(document,"alpine:initializing"),Jg(),cE(t=>Zr(t,Is)),qg(t=>RE(t)),uE((t,n)=>{hf(t,n).forEach(r=>r())});let e=t=>!ac(t.parentElement,!0);Array.from(document.querySelectorAll(wp())).filter(e).forEach(t=>{Zr(t)}),aa(document,"alpine:initialized")}var gf=[],xp=[];function mp(){return gf.map(e=>e())}function wp(){return gf.concat(xp).map(e=>e())}function _p(e){gf.push(e)}function bp(e){xp.push(e)}function ac(e,t=!1){return lc(e,n=>{if((t?wp():mp()).some(o=>n.matches(o)))return!0})}function lc(e,t){if(!!e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return lc(e.parentElement,t)}}function NE(e){return mp().some(t=>e.matches(t))}function Zr(e,t=Is){SE(()=>{t(e,(n,r)=>{hf(n,n.attributes).forEach(o=>o()),n._x_ignore&&r()})})}function RE(e){Is(e,t=>Qg(t))}function pf(e,t){return Array.isArray(t)?n1(e,t.join(" ")):typeof t=="object"&&t!==null?DE(e,t):typeof t=="function"?pf(e,t()):n1(e,t)}function n1(e,t){let n=o=>o.split(" ").filter(c=>!e.classList.contains(c)).filter(Boolean),r=o=>(e.classList.add(...o),()=>{e.classList.remove(...o)});return t=t===!0?t="":t||"",r(n(t))}function DE(e,t){let n=p=>p.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([p,m])=>m?n(p):!1).filter(Boolean),o=Object.entries(t).flatMap(([p,m])=>m?!1:n(p)).filter(Boolean),c=[],f=[];return o.forEach(p=>{e.classList.contains(p)&&(e.classList.remove(p),f.push(p))}),r.forEach(p=>{e.classList.contains(p)||(e.classList.add(p),c.push(p))}),()=>{f.forEach(p=>e.classList.add(p)),c.forEach(p=>e.classList.remove(p))}}function cc(e,t){return typeof t=="object"&&t!==null?LE(e,t):PE(e,t)}function LE(e,t){let n={};return Object.entries(t).forEach(([r,o])=>{n[r]=e.style[r],r.startsWith("--")||(r=BE(r)),e.style.setProperty(r,o)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{cc(e,n)}}function PE(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function BE(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ph(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}Xe("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:o})=>{typeof r=="function"&&(r=o(r)),r?kE(e,r,t):FE(e,n,t)});function kE(e,t,n){Ap(e,pf,""),{enter:o=>{e._x_transition.enter.during=o},"enter-start":o=>{e._x_transition.enter.start=o},"enter-end":o=>{e._x_transition.enter.end=o},leave:o=>{e._x_transition.leave.during=o},"leave-start":o=>{e._x_transition.leave.start=o},"leave-end":o=>{e._x_transition.leave.end=o}}[n](t)}function FE(e,t,n){Ap(e,cc);let r=!t.includes("in")&&!t.includes("out")&&!n,o=r||t.includes("in")||["enter"].includes(n),c=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((H,G)=>G<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((H,G)=>G>t.indexOf("out")));let f=!t.includes("opacity")&&!t.includes("scale"),p=f||t.includes("opacity"),m=f||t.includes("scale"),b=p?0:1,y=m?Xo(t,"scale",95)/100:1,S=Xo(t,"delay",0),O=Xo(t,"origin","center"),L="opacity, transform",D=Xo(t,"duration",150)/1e3,V=Xo(t,"duration",75)/1e3,z="cubic-bezier(0.4, 0.0, 0.2, 1)";o&&(e._x_transition.enter.during={transformOrigin:O,transitionDelay:S,transitionProperty:L,transitionDuration:`${D}s`,transitionTimingFunction:z},e._x_transition.enter.start={opacity:b,transform:`scale(${y})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),c&&(e._x_transition.leave.during={transformOrigin:O,transitionDelay:S,transitionProperty:L,transitionDuration:`${V}s`,transitionTimingFunction:z},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:b,transform:`scale(${y})`})}function Ap(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},o=()=>{}){Bh(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,o)},out(r=()=>{},o=()=>{}){Bh(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,o)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const o=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let c=()=>o(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):c():e._x_transition?e._x_transition.in(n):c();return}e._x_hidePromise=e._x_transition?new Promise((f,p)=>{e._x_transition.out(()=>{},()=>f(r)),e._x_transitioning.beforeCancel(()=>p({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let f=yp(e);f?(f._x_hideChildren||(f._x_hideChildren=[]),f._x_hideChildren.push(e)):o(()=>{let p=m=>{let b=Promise.all([m._x_hidePromise,...(m._x_hideChildren||[]).map(p)]).then(([y])=>y());return delete m._x_hidePromise,delete m._x_hideChildren,b};p(e).catch(m=>{if(!m.isFromCancelledTransition)throw m})})})};function yp(e){let t=e.parentNode;if(!!t)return t._x_hidePromise?t:yp(t)}function Bh(e,t,{during:n,start:r,end:o}={},c=()=>{},f=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(o).length===0){c(),f();return}let p,m,b;UE(e,{start(){p=t(e,r)},during(){m=t(e,n)},before:c,end(){p(),b=t(e,o)},after:f,cleanup(){m(),b()}})}function UE(e,t){let n,r,o,c=Ph(()=>{an(()=>{n=!0,r||t.before(),o||(t.end(),Lh()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(f){this.beforeCancels.push(f)},cancel:Ph(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();c()}),finish:c},an(()=>{t.start(),t.during()}),ME(),requestAnimationFrame(()=>{if(n)return;let f=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,p=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;f===0&&(f=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),an(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(an(()=>{t.end()}),Lh(),setTimeout(e._x_transitioning.finish,f+p),o=!0)})})}function Xo(e,t,n){if(e.indexOf(t)===-1)return n;const r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return n;if(t==="duration"){let o=r.match(/([0-9]+)ms/);if(o)return o[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var kh=!1;function uc(e,t=()=>{}){return(...n)=>kh?t(...n):e(...n)}function zE(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),kh=!0,HE(()=>{WE(t)}),kh=!1}function WE(e){let t=!1;Zr(e,(r,o)=>{Is(r,(c,f)=>{if(t&&NE(c))return f();t=!0,o(c,f)})})}function HE(e){let t=ya;t1((n,r)=>{let o=t(n);return oc(o),()=>{}}),e(),t1(t)}function Ep(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=lo({})),e._x_bindings[t]=n,t=r.includes("camel")?KE(t):t,t){case"value":VE(e,n);break;case"style":YE(e,n);break;case"class":jE(e,n);break;default:GE(e,t,n);break}}function VE(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(e.checked=i1(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Number.isInteger(t)&&!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>i1(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")ZE(e,t);else{if(e.value===t)return;e.value=t}}function jE(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=pf(e,t)}function YE(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=cc(e,t)}function GE(e,t,n){[null,void 0,!1].includes(n)&&qE(t)?e.removeAttribute(t):(Cp(t)&&(n=t),XE(e,t,n))}function XE(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function ZE(e,t){const n=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=n.includes(r.value)})}function KE(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function i1(e,t){return e==t}function Cp(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function qE(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function QE(e,t,n){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];let r=e.getAttribute(t);return r===null?typeof n=="function"?n():n:Cp(t)?!![t,"true"].includes(r):r===""?!0:r}function Sp(e,t){var n;return function(){var r=this,o=arguments,c=function(){n=null,e.apply(r,o)};clearTimeout(n),n=setTimeout(c,t)}}function Ip(e,t){let n;return function(){let r=this,o=arguments;n||(e.apply(r,o),n=!0,setTimeout(()=>n=!1,t))}}function JE(e){e(Sa)}var ws={},r1=!1;function $E(e,t){if(r1||(ws=lo(ws),r1=!0),t===void 0)return ws[e];ws[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&ws[e].init(),tp(ws[e])}function tC(){return ws}var Tp={};function eC(e,t){let n=typeof t!="function"?()=>t:t;e instanceof Element?vp(e,n()):Tp[e]=n}function nC(e){return Object.entries(Tp).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...r)=>n(...r)}})}),e}function vp(e,t,n){let r=[];for(;r.length;)r.pop()();let o=Object.entries(t).map(([f,p])=>({name:f,value:p})),c=op(o);o=o.map(f=>c.find(p=>p.name===f.name)?{name:`x-bind:${f.name}`,value:`"${f.value}"`}:f),hf(e,o,n).map(f=>{r.push(f.runCleanups),f()})}var Mp={};function iC(e,t){Mp[e]=t}function rC(e,t){return Object.entries(Mp).forEach(([n,r])=>{Object.defineProperty(e,n,{get(){return(...o)=>r.bind(t)(...o)},enumerable:!1})}),e}var sC={get reactive(){return lo},get release(){return oc},get effect(){return ya},get raw(){return Gg},version:"3.10.3",flushAndStopDeferringMutations:xE,dontAutoEvaluateFunctions:_E,disableEffectScheduling:oE,setReactivityEngine:aE,closestDataStack:io,skipDuringClone:uc,addRootSelector:_p,addInitSelector:bp,addScopeToNode:Ea,deferMutations:pE,mapAttributes:ff,evaluateLater:Dn,setEvaluator:bE,mergeProxies:Ca,findClosest:lc,closestRoot:ac,interceptor:ep,transition:Bh,setStyles:cc,mutateDom:an,directive:Xe,throttle:Ip,debounce:Sp,evaluate:eo,initTree:Zr,nextTick:pp,prefixed:co,prefix:CE,plugin:JE,magic:Ri,store:$E,start:OE,clone:zE,bound:QE,$data:$g,data:iC,bind:eC},Sa=sC;function oC(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}var aC=Object.freeze({});Object.freeze([]);var Op=Object.assign,lC=Object.prototype.hasOwnProperty,hc=(e,t)=>lC.call(e,t),ys=Array.isArray,la=e=>Np(e)==="[object Map]",cC=e=>typeof e=="string",xf=e=>typeof e=="symbol",fc=e=>e!==null&&typeof e=="object",uC=Object.prototype.toString,Np=e=>uC.call(e),Rp=e=>Np(e).slice(8,-1),mf=e=>cC(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hC=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},fC=hC(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dp=(e,t)=>e!==t&&(e===e||t===t),Fh=new WeakMap,Zo=[],ji,Es=Symbol("iterate"),Uh=Symbol("Map key iterate");function dC(e){return e&&e._isEffect===!0}function gC(e,t=aC){dC(e)&&(e=e.raw);const n=mC(e,t);return t.lazy||n(),n}function pC(e){e.active&&(Lp(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var xC=0;function mC(e,t){const n=function(){if(!n.active)return e();if(!Zo.includes(n)){Lp(n);try{return _C(),Zo.push(n),ji=n,e()}finally{Zo.pop(),Pp(),ji=Zo[Zo.length-1]}}};return n.id=xC++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function Lp(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var so=!0,wf=[];function wC(){wf.push(so),so=!1}function _C(){wf.push(so),so=!0}function Pp(){const e=wf.pop();so=e===void 0?!0:e}function Ni(e,t,n){if(!so||ji===void 0)return;let r=Fh.get(e);r||Fh.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(ji)||(o.add(ji),ji.deps.push(o),ji.options.onTrack&&ji.options.onTrack({effect:ji,target:e,type:t,key:n}))}function Kr(e,t,n,r,o,c){const f=Fh.get(e);if(!f)return;const p=new Set,m=y=>{y&&y.forEach(S=>{(S!==ji||S.allowRecurse)&&p.add(S)})};if(t==="clear")f.forEach(m);else if(n==="length"&&ys(e))f.forEach((y,S)=>{(S==="length"||S>=r)&&m(y)});else switch(n!==void 0&&m(f.get(n)),t){case"add":ys(e)?mf(n)&&m(f.get("length")):(m(f.get(Es)),la(e)&&m(f.get(Uh)));break;case"delete":ys(e)||(m(f.get(Es)),la(e)&&m(f.get(Uh)));break;case"set":la(e)&&m(f.get(Es));break}const b=y=>{y.options.onTrigger&&y.options.onTrigger({effect:y,target:e,key:n,type:t,newValue:r,oldValue:o,oldTarget:c}),y.options.scheduler?y.options.scheduler(y):y()};p.forEach(b)}var bC=oC("__proto__,__v_isRef,__isVue"),Bp=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(xf)),AC=dc(),yC=dc(!1,!0),EC=dc(!0),CC=dc(!0,!0),Yl={};["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];Yl[e]=function(...n){const r=Ie(this);for(let c=0,f=this.length;c<f;c++)Ni(r,"get",c+"");const o=t.apply(r,n);return o===-1||o===!1?t.apply(r,n.map(Ie)):o}});["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];Yl[e]=function(...n){wC();const r=t.apply(this,n);return Pp(),r}});function dc(e=!1,t=!1){return function(r,o,c){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_raw"&&c===(e?t?LC:Qp:t?DC:qp).get(r))return r;const f=ys(r);if(!e&&f&&hc(Yl,o))return Reflect.get(Yl,o,c);const p=Reflect.get(r,o,c);return(xf(o)?Bp.has(o):bC(o))||(e||Ni(r,"get",o),t)?p:zh(p)?!f||!mf(o)?p.value:p:fc(p)?e?Jp(p):yf(p):p}}var SC=kp(),IC=kp(!0);function kp(e=!1){return function(n,r,o,c){let f=n[r];if(!e&&(o=Ie(o),f=Ie(f),!ys(n)&&zh(f)&&!zh(o)))return f.value=o,!0;const p=ys(n)&&mf(r)?Number(r)<n.length:hc(n,r),m=Reflect.set(n,r,o,c);return n===Ie(c)&&(p?Dp(o,f)&&Kr(n,"set",r,o,f):Kr(n,"add",r,o)),m}}function TC(e,t){const n=hc(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&Kr(e,"delete",t,void 0,r),o}function vC(e,t){const n=Reflect.has(e,t);return(!xf(t)||!Bp.has(t))&&Ni(e,"has",t),n}function MC(e){return Ni(e,"iterate",ys(e)?"length":Es),Reflect.ownKeys(e)}var Fp={get:AC,set:SC,deleteProperty:TC,has:vC,ownKeys:MC},Up={get:EC,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}};Op({},Fp,{get:yC,set:IC});Op({},Up,{get:CC});var _f=e=>fc(e)?yf(e):e,bf=e=>fc(e)?Jp(e):e,Af=e=>e,gc=e=>Reflect.getPrototypeOf(e);function pc(e,t,n=!1,r=!1){e=e.__v_raw;const o=Ie(e),c=Ie(t);t!==c&&!n&&Ni(o,"get",t),!n&&Ni(o,"get",c);const{has:f}=gc(o),p=r?Af:n?bf:_f;if(f.call(o,t))return p(e.get(t));if(f.call(o,c))return p(e.get(c));e!==o&&e.get(t)}function xc(e,t=!1){const n=this.__v_raw,r=Ie(n),o=Ie(e);return e!==o&&!t&&Ni(r,"has",e),!t&&Ni(r,"has",o),e===o?n.has(e):n.has(e)||n.has(o)}function mc(e,t=!1){return e=e.__v_raw,!t&&Ni(Ie(e),"iterate",Es),Reflect.get(e,"size",e)}function zp(e){e=Ie(e);const t=Ie(this);return gc(t).has.call(t,e)||(t.add(e),Kr(t,"add",e,e)),this}function Wp(e,t){t=Ie(t);const n=Ie(this),{has:r,get:o}=gc(n);let c=r.call(n,e);c?Kp(n,r,e):(e=Ie(e),c=r.call(n,e));const f=o.call(n,e);return n.set(e,t),c?Dp(t,f)&&Kr(n,"set",e,t,f):Kr(n,"add",e,t),this}function Hp(e){const t=Ie(this),{has:n,get:r}=gc(t);let o=n.call(t,e);o?Kp(t,n,e):(e=Ie(e),o=n.call(t,e));const c=r?r.call(t,e):void 0,f=t.delete(e);return o&&Kr(t,"delete",e,void 0,c),f}function Vp(){const e=Ie(this),t=e.size!==0,n=la(e)?new Map(e):new Set(e),r=e.clear();return t&&Kr(e,"clear",void 0,void 0,n),r}function wc(e,t){return function(r,o){const c=this,f=c.__v_raw,p=Ie(f),m=t?Af:e?bf:_f;return!e&&Ni(p,"iterate",Es),f.forEach((b,y)=>r.call(o,m(b),m(y),c))}}function Il(e,t,n){return function(...r){const o=this.__v_raw,c=Ie(o),f=la(c),p=e==="entries"||e===Symbol.iterator&&f,m=e==="keys"&&f,b=o[e](...r),y=n?Af:t?bf:_f;return!t&&Ni(c,"iterate",m?Uh:Es),{next(){const{value:S,done:O}=b.next();return O?{value:S,done:O}:{value:p?[y(S[0]),y(S[1])]:y(S),done:O}},[Symbol.iterator](){return this}}}}function jr(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${fC(e)} operation ${n}failed: target is readonly.`,Ie(this))}return e==="delete"?!1:this}}var jp={get(e){return pc(this,e)},get size(){return mc(this)},has:xc,add:zp,set:Wp,delete:Hp,clear:Vp,forEach:wc(!1,!1)},Yp={get(e){return pc(this,e,!1,!0)},get size(){return mc(this)},has:xc,add:zp,set:Wp,delete:Hp,clear:Vp,forEach:wc(!1,!0)},Gp={get(e){return pc(this,e,!0)},get size(){return mc(this,!0)},has(e){return xc.call(this,e,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:wc(!0,!1)},Xp={get(e){return pc(this,e,!0,!0)},get size(){return mc(this,!0)},has(e){return xc.call(this,e,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:wc(!0,!0)},OC=["keys","values","entries",Symbol.iterator];OC.forEach(e=>{jp[e]=Il(e,!1,!1),Gp[e]=Il(e,!0,!1),Yp[e]=Il(e,!1,!0),Xp[e]=Il(e,!0,!0)});function Zp(e,t){const n=t?e?Xp:Yp:e?Gp:jp;return(r,o,c)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(hc(n,o)&&o in r?n:r,o,c)}var NC={get:Zp(!1,!1)},RC={get:Zp(!0,!1)};function Kp(e,t,n){const r=Ie(n);if(r!==n&&t.call(e,r)){const o=Rp(e);console.warn(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var qp=new WeakMap,DC=new WeakMap,Qp=new WeakMap,LC=new WeakMap;function PC(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function BC(e){return e.__v_skip||!Object.isExtensible(e)?0:PC(Rp(e))}function yf(e){return e&&e.__v_isReadonly?e:$p(e,!1,Fp,NC,qp)}function Jp(e){return $p(e,!0,Up,RC,Qp)}function $p(e,t,n,r,o){if(!fc(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const c=o.get(e);if(c)return c;const f=BC(e);if(f===0)return e;const p=new Proxy(e,f===2?r:n);return o.set(e,p),p}function Ie(e){return e&&Ie(e.__v_raw)||e}function zh(e){return Boolean(e&&e.__v_isRef===!0)}Ri("nextTick",()=>pp);Ri("dispatch",e=>aa.bind(aa,e));Ri("watch",(e,{evaluateLater:t,effect:n})=>(r,o)=>{let c=t(r),f=!0,p,m=n(()=>c(b=>{JSON.stringify(b),f?p=b:queueMicrotask(()=>{o(b,p),p=b}),f=!1}));e._x_effects.delete(m)});Ri("store",tC);Ri("data",e=>$g(e));Ri("root",e=>ac(e));Ri("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Ca(kC(e))),e._x_refs_proxy));function kC(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}var lh={};function tx(e){return lh[e]||(lh[e]=0),++lh[e]}function FC(e,t){return lc(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function UC(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=tx(t))}Ri("id",e=>(t,n=null)=>{let r=FC(e,t),o=r?r._x_ids[t]:tx(t);return n?`${t}-${o}-${n}`:`${t}-${o}`});Ri("el",e=>e);ex("Focus","focus","focus");ex("Persist","persist","persist");function ex(e,t,n){Ri(t,r=>ro(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}Xe("modelable",(e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t),c=()=>{let b;return o(y=>b=y),b},f=r(`${t} = __placeholder`),p=b=>f(()=>{},{scope:{__placeholder:b}}),m=c();p(m),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let b=e._x_model.get,y=e._x_model.set;n(()=>p(b())),n(()=>y(c()))})});Xe("teleport",(e,{expression:t},{cleanup:n})=>{e.tagName.toLowerCase()!=="template"&&ro("x-teleport can only be used on a <template> tag",e);let r=document.querySelector(t);r||ro(`Cannot find x-teleport element for selector: "${t}"`);let o=e.content.cloneNode(!0).firstElementChild;e._x_teleport=o,o._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach(c=>{o.addEventListener(c,f=>{f.stopPropagation(),e.dispatchEvent(new f.constructor(f.type,f))})}),Ea(o,{},e),an(()=>{r.appendChild(o),Zr(o),o._x_ignore=!0}),n(()=>o.remove())});var nx=()=>{};nx.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};Xe("ignore",nx);Xe("effect",(e,{expression:t},{effect:n})=>n(Dn(e,t)));function ix(e,t,n,r){let o=e,c=m=>r(m),f={},p=(m,b)=>y=>b(m,y);if(n.includes("dot")&&(t=zC(t)),n.includes("camel")&&(t=WC(t)),n.includes("passive")&&(f.passive=!0),n.includes("capture")&&(f.capture=!0),n.includes("window")&&(o=window),n.includes("document")&&(o=document),n.includes("prevent")&&(c=p(c,(m,b)=>{b.preventDefault(),m(b)})),n.includes("stop")&&(c=p(c,(m,b)=>{b.stopPropagation(),m(b)})),n.includes("self")&&(c=p(c,(m,b)=>{b.target===e&&m(b)})),(n.includes("away")||n.includes("outside"))&&(o=document,c=p(c,(m,b)=>{e.contains(b.target)||b.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&m(b))})),n.includes("once")&&(c=p(c,(m,b)=>{m(b),o.removeEventListener(t,c,f)})),c=p(c,(m,b)=>{VC(t)&&jC(b,n)||m(b)}),n.includes("debounce")){let m=n[n.indexOf("debounce")+1]||"invalid-wait",b=Wh(m.split("ms")[0])?Number(m.split("ms")[0]):250;c=Sp(c,b)}if(n.includes("throttle")){let m=n[n.indexOf("throttle")+1]||"invalid-wait",b=Wh(m.split("ms")[0])?Number(m.split("ms")[0]):250;c=Ip(c,b)}return o.addEventListener(t,c,f),()=>{o.removeEventListener(t,c,f)}}function zC(e){return e.replace(/-/g,".")}function WC(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Wh(e){return!Array.isArray(e)&&!isNaN(e)}function HC(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function VC(e){return["keydown","keyup"].includes(e)}function jC(e,t){let n=t.filter(c=>!["window","document","prevent","stop","once"].includes(c));if(n.includes("debounce")){let c=n.indexOf("debounce");n.splice(c,Wh((n[c+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&s1(e.key).includes(n[0]))return!1;const o=["ctrl","shift","alt","meta","cmd","super"].filter(c=>n.includes(c));return n=n.filter(c=>!o.includes(c)),!(o.length>0&&o.filter(f=>((f==="cmd"||f==="super")&&(f="meta"),e[`${f}Key`])).length===o.length&&s1(e.key).includes(n[0]))}function s1(e){if(!e)return[];e=HC(e);let t={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}Xe("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:o})=>{let c=Dn(e,n),f=`${n} = rightSideOfExpression($event, ${n})`,p=Dn(e,f);var m=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let b=YC(e,t,n),y=ix(e,m,t,O=>{p(()=>{},{scope:{$event:O,rightSideOfExpression:b}})});e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=y,o(()=>e._x_removeModelListeners.default());let S=Dn(e,`${n} = __placeholder`);e._x_model={get(){let O;return c(L=>O=L),O},set(O){S(()=>{},{scope:{__placeholder:O}})}},e._x_forceModelUpdate=()=>{c(O=>{O===void 0&&n.match(/\./)&&(O=""),window.fromModel=!0,an(()=>Ep(e,"value",O)),delete window.fromModel})},r(()=>{t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate()})});function YC(e,t,n){return e.type==="radio"&&an(()=>{e.hasAttribute("name")||e.setAttribute("name",n)}),(r,o)=>an(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail||r.target.value;if(e.type==="checkbox")if(Array.isArray(o)){let c=t.includes("number")?ch(r.target.value):r.target.value;return r.target.checked?o.concat([c]):o.filter(f=>!GC(f,c))}else return r.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(r.target.selectedOptions).map(c=>{let f=c.value||c.text;return ch(f)}):Array.from(r.target.selectedOptions).map(c=>c.value||c.text);{let c=r.target.value;return t.includes("number")?ch(c):t.includes("trim")?c.trim():c}}})}function ch(e){let t=e?parseFloat(e):null;return XC(t)?t:e}function GC(e,t){return e==t}function XC(e){return!Array.isArray(e)&&!isNaN(e)}Xe("cloak",e=>queueMicrotask(()=>an(()=>e.removeAttribute(co("cloak")))));bp(()=>`[${co("init")}]`);Xe("init",uc((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));Xe("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n(()=>{o(c=>{an(()=>{e.textContent=c})})})});Xe("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n(()=>{o(c=>{an(()=>{e.innerHTML=c,e._x_ignoreSelf=!0,Zr(e),delete e._x_ignoreSelf})})})});ff(cp(":",up(co("bind:"))));Xe("bind",(e,{value:t,modifiers:n,expression:r,original:o},{effect:c})=>{if(!t){let p={};nC(p),Dn(e,r)(b=>{vp(e,b,o)},{scope:p});return}if(t==="key")return ZC(e,r);let f=Dn(e,r);c(()=>f(p=>{p===void 0&&r.match(/\./)&&(p=""),an(()=>Ep(e,t,p,n))}))});function ZC(e,t){e._x_keyExpression=t}_p(()=>`[${co("data")}]`);Xe("data",uc((e,{expression:t},{cleanup:n})=>{t=t===""?"{}":t;let r={};Oh(r,e);let o={};rC(o,r);let c=eo(e,t,{scope:o});c===void 0&&(c={}),Oh(c,e);let f=lo(c);tp(f);let p=Ea(e,f);f.init&&eo(e,f.init),n(()=>{f.destroy&&eo(e,f.destroy),p()})}));Xe("show",(e,{modifiers:t,expression:n},{effect:r})=>{let o=Dn(e,n);e._x_doHide||(e._x_doHide=()=>{an(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{an(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let c=()=>{e._x_doHide(),e._x_isShown=!1},f=()=>{e._x_doShow(),e._x_isShown=!0},p=()=>setTimeout(f),m=Ph(S=>S?f():c(),S=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,S,f,c):S?p():c()}),b,y=!0;r(()=>o(S=>{!y&&S===b||(t.includes("immediate")&&(S?p():c()),m(S),b=S,y=!1)}))});Xe("for",(e,{expression:t},{effect:n,cleanup:r})=>{let o=qC(t),c=Dn(e,o.items),f=Dn(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>KC(e,o,c,f)),r(()=>{Object.values(e._x_lookup).forEach(p=>p.remove()),delete e._x_prevKeys,delete e._x_lookup})});function KC(e,t,n,r){let o=f=>typeof f=="object"&&!Array.isArray(f),c=e;n(f=>{QC(f)&&f>=0&&(f=Array.from(Array(f).keys(),z=>z+1)),f===void 0&&(f=[]);let p=e._x_lookup,m=e._x_prevKeys,b=[],y=[];if(o(f))f=Object.entries(f).map(([z,H])=>{let G=o1(t,H,z,f);r($=>y.push($),{scope:{index:z,...G}}),b.push(G)});else for(let z=0;z<f.length;z++){let H=o1(t,f[z],z,f);r(G=>y.push(G),{scope:{index:z,...H}}),b.push(H)}let S=[],O=[],L=[],D=[];for(let z=0;z<m.length;z++){let H=m[z];y.indexOf(H)===-1&&L.push(H)}m=m.filter(z=>!L.includes(z));let V="template";for(let z=0;z<y.length;z++){let H=y[z],G=m.indexOf(H);if(G===-1)m.splice(z,0,H),S.push([V,z]);else if(G!==z){let $=m.splice(z,1)[0],Q=m.splice(G-1,1)[0];m.splice(z,0,Q),m.splice(G,0,$),O.push([$,Q])}else D.push(H);V=H}for(let z=0;z<L.length;z++){let H=L[z];p[H]._x_effects&&p[H]._x_effects.forEach(Yg),p[H].remove(),p[H]=null,delete p[H]}for(let z=0;z<O.length;z++){let[H,G]=O[z],$=p[H],Q=p[G],tt=document.createElement("div");an(()=>{Q.after(tt),$.after(Q),Q._x_currentIfEl&&Q.after(Q._x_currentIfEl),tt.before($),$._x_currentIfEl&&$.after($._x_currentIfEl),tt.remove()}),e1(Q,b[y.indexOf(G)])}for(let z=0;z<S.length;z++){let[H,G]=S[z],$=H==="template"?c:p[H];$._x_currentIfEl&&($=$._x_currentIfEl);let Q=b[G],tt=y[G],Z=document.importNode(c.content,!0).firstElementChild;Ea(Z,lo(Q),c),an(()=>{$.after(Z),Zr(Z)}),typeof tt=="object"&&ro("x-for key cannot be an object, it must be a string or an integer",c),p[tt]=Z}for(let z=0;z<D.length;z++)e1(p[D[z]],b[y.indexOf(D[z])]);c._x_prevKeys=y})}function qC(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,o=e.match(r);if(!o)return;let c={};c.items=o[2].trim();let f=o[1].replace(n,"").trim(),p=f.match(t);return p?(c.item=f.replace(t,"").trim(),c.index=p[1].trim(),p[2]&&(c.collection=p[2].trim())):c.item=f,c}function o1(e,t,n,r){let o={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(f=>f.trim()).forEach((f,p)=>{o[f]=t[p]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(f=>f.trim()).forEach(f=>{o[f]=t[f]}):o[e.item]=t,e.index&&(o[e.index]=n),e.collection&&(o[e.collection]=r),o}function QC(e){return!Array.isArray(e)&&!isNaN(e)}function rx(){}rx.inline=(e,{expression:t},{cleanup:n})=>{let r=ac(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])};Xe("ref",rx);Xe("if",(e,{expression:t},{effect:n,cleanup:r})=>{let o=Dn(e,t),c=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let p=e.content.cloneNode(!0).firstElementChild;return Ea(p,{},e),an(()=>{e.after(p),Zr(p)}),e._x_currentIfEl=p,e._x_undoIf=()=>{Is(p,m=>{m._x_effects&&m._x_effects.forEach(Yg)}),p.remove(),delete e._x_currentIfEl},p},f=()=>{!e._x_undoIf||(e._x_undoIf(),delete e._x_undoIf)};n(()=>o(p=>{p?c():f()})),r(()=>e._x_undoIf&&e._x_undoIf())});Xe("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(o=>UC(e,o))});ff(cp("@",up(co("on:"))));Xe("on",uc((e,{value:t,modifiers:n,expression:r},{cleanup:o})=>{let c=r?Dn(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let f=ix(e,t,n,p=>{c(()=>{},{scope:{$event:p},params:[p]})});o(()=>f())}));_c("Collapse","collapse","collapse");_c("Intersect","intersect","intersect");_c("Focus","trap","focus");_c("Mask","mask","mask");function _c(e,t,n){Xe(t,r=>ro(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}Sa.setEvaluator(rp);Sa.setReactivityEngine({reactive:yf,effect:gC,release:pC,raw:Ie});var JC=Sa,sx=JC;/*!
 * Chart.js v3.8.2
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const ox=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function ax(e,t,n){const r=n||(f=>Array.prototype.slice.call(f));let o=!1,c=[];return function(...f){c=r(f),o||(o=!0,ox.call(window,()=>{o=!1,e.apply(t,c)}))}}function $C(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Ef=e=>e==="start"?"left":e==="end"?"right":"center",Sn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,t3=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function wr(){}const e3=function(){let e=0;return function(){return e++}}();function ee(e){return e===null||typeof e>"u"}function Ae(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Gt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const He=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function hi(e,t){return He(e)?e:t}function kt(e,t){return typeof e>"u"?t:e}const n3=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,lx=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function be(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ue(e,t,n,r){let o,c,f;if(Ae(e))if(c=e.length,r)for(o=c-1;o>=0;o--)t.call(n,e[o],o);else for(o=0;o<c;o++)t.call(n,e[o],o);else if(Gt(e))for(f=Object.keys(e),c=f.length,o=0;o<c;o++)t.call(n,e[f[o]],f[o])}function Gl(e,t){let n,r,o,c;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(o=e[n],c=t[n],o.datasetIndex!==c.datasetIndex||o.index!==c.index)return!1;return!0}function Xl(e){if(Ae(e))return e.map(Xl);if(Gt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let o=0;for(;o<r;++o)t[n[o]]=Xl(e[n[o]]);return t}return e}function cx(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function i3(e,t,n,r){if(!cx(e))return;const o=t[e],c=n[e];Gt(o)&&Gt(c)?pa(o,c,r):t[e]=Xl(c)}function pa(e,t,n){const r=Ae(t)?t:[t],o=r.length;if(!Gt(e))return e;n=n||{};const c=n.merger||i3;for(let f=0;f<o;++f){if(t=r[f],!Gt(t))continue;const p=Object.keys(t);for(let m=0,b=p.length;m<b;++m)c(p[m],e,t,n)}return e}function ca(e,t){return pa(e,t,{merger:r3})}function r3(e,t,n){if(!cx(e))return;const r=t[e],o=n[e];Gt(r)&&Gt(o)?ca(r,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Xl(o))}const s3="",o3=".";function a1(e,t){const n=e.indexOf(o3,t);return n===-1?e.length:n}function qr(e,t){if(t===s3)return e;let n=0,r=a1(t,n);for(;e&&r>n;)e=e[t.slice(n,r)],n=r+1,r=a1(t,n);return e}function Cf(e){return e.charAt(0).toUpperCase()+e.slice(1)}const pi=e=>typeof e<"u",Qr=e=>typeof e=="function",l1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function a3(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Te=Math.PI,de=2*Te,l3=de+Te,Zl=Number.POSITIVE_INFINITY,c3=Te/180,ke=Te/2,Ko=Te/4,c1=Te*2/3,gi=Math.log10,Xi=Math.sign;function u1(e){const t=Math.round(e);e=ua(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(gi(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function u3(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((o,c)=>o-c).pop(),t}function xa(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ua(e,t,n){return Math.abs(e-t)<n}function h3(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function ux(e,t,n){let r,o,c;for(r=0,o=e.length;r<o;r++)c=e[r][n],isNaN(c)||(t.min=Math.min(t.min,c),t.max=Math.max(t.max,c))}function Oi(e){return e*(Te/180)}function Sf(e){return e*(180/Te)}function h1(e){if(!He(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function hx(e,t){const n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);let c=Math.atan2(r,n);return c<-.5*Te&&(c+=de),{angle:c,distance:o}}function Hh(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function f3(e,t){return(e-t+l3)%de-Te}function $n(e){return(e%de+de)%de}function ma(e,t,n,r){const o=$n(e),c=$n(t),f=$n(n),p=$n(c-o),m=$n(f-o),b=$n(o-c),y=$n(o-f);return o===c||o===f||r&&c===f||p>m&&b<y}function ln(e,t,n){return Math.max(t,Math.min(n,e))}function d3(e){return ln(e,-32768,32767)}function Er(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}const Tl=e=>e===0||e===1,f1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*de/n)),d1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*de/n)+1,ha={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ke)+1,easeOutSine:e=>Math.sin(e*ke),easeInOutSine:e=>-.5*(Math.cos(Te*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Tl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Tl(e)?e:f1(e,.075,.3),easeOutElastic:e=>Tl(e)?e:d1(e,.075,.3),easeInOutElastic(e){return Tl(e)?e:e<.5?.5*f1(e*2,.1125,.45):.5+.5*d1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ha.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ha.easeInBounce(e*2)*.5:ha.easeOutBounce(e*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Ia(e){return e+.5|0}const Yr=(e,t,n)=>Math.max(Math.min(e,n),t);function ia(e){return Yr(Ia(e*2.55),0,255)}function Xr(e){return Yr(Ia(e*255),0,255)}function yr(e){return Yr(Ia(e/2.55)/100,0,1)}function g1(e){return Yr(Ia(e*100),0,100)}const ui={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vh=[..."0123456789ABCDEF"],g3=e=>Vh[e&15],p3=e=>Vh[(e&240)>>4]+Vh[e&15],vl=e=>(e&240)>>4===(e&15),x3=e=>vl(e.r)&&vl(e.g)&&vl(e.b)&&vl(e.a);function m3(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ui[e[1]]*17,g:255&ui[e[2]]*17,b:255&ui[e[3]]*17,a:t===5?ui[e[4]]*17:255}:(t===7||t===9)&&(n={r:ui[e[1]]<<4|ui[e[2]],g:ui[e[3]]<<4|ui[e[4]],b:ui[e[5]]<<4|ui[e[6]],a:t===9?ui[e[7]]<<4|ui[e[8]]:255})),n}const w3=(e,t)=>e<255?t(e):"";function _3(e){var t=x3(e)?g3:p3;return e?"#"+t(e.r)+t(e.g)+t(e.b)+w3(e.a,t):void 0}const b3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fx(e,t,n){const r=t*Math.min(n,1-n),o=(c,f=(c+e/30)%12)=>n-r*Math.max(Math.min(f-3,9-f,1),-1);return[o(0),o(8),o(4)]}function A3(e,t,n){const r=(o,c=(o+e/60)%6)=>n-n*t*Math.max(Math.min(c,4-c,1),0);return[r(5),r(3),r(1)]}function y3(e,t,n){const r=fx(e,1,.5);let o;for(t+n>1&&(o=1/(t+n),t*=o,n*=o),o=0;o<3;o++)r[o]*=1-t-n,r[o]+=t;return r}function E3(e,t,n,r,o){return e===o?(t-n)/r+(t<n?6:0):t===o?(n-e)/r+2:(e-t)/r+4}function If(e){const n=e.r/255,r=e.g/255,o=e.b/255,c=Math.max(n,r,o),f=Math.min(n,r,o),p=(c+f)/2;let m,b,y;return c!==f&&(y=c-f,b=p>.5?y/(2-c-f):y/(c+f),m=E3(n,r,o,y,c),m=m*60+.5),[m|0,b||0,p]}function Tf(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Xr)}function vf(e,t,n){return Tf(fx,e,t,n)}function C3(e,t,n){return Tf(y3,e,t,n)}function S3(e,t,n){return Tf(A3,e,t,n)}function dx(e){return(e%360+360)%360}function I3(e){const t=b3.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?ia(+t[5]):Xr(+t[5]));const o=dx(+t[2]),c=+t[3]/100,f=+t[4]/100;return t[1]==="hwb"?r=C3(o,c,f):t[1]==="hsv"?r=S3(o,c,f):r=vf(o,c,f),{r:r[0],g:r[1],b:r[2],a:n}}function T3(e,t){var n=If(e);n[0]=dx(n[0]+t),n=vf(n),e.r=n[0],e.g=n[1],e.b=n[2]}function v3(e){if(!e)return;const t=If(e),n=t[0],r=g1(t[1]),o=g1(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${o}%, ${yr(e.a)})`:`hsl(${n}, ${r}%, ${o}%)`}const p1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},x1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function M3(){const e={},t=Object.keys(x1),n=Object.keys(p1);let r,o,c,f,p;for(r=0;r<t.length;r++){for(f=p=t[r],o=0;o<n.length;o++)c=n[o],p=p.replace(c,p1[c]);c=parseInt(x1[f],16),e[p]=[c>>16&255,c>>8&255,c&255]}return e}let Ml;function O3(e){Ml||(Ml=M3(),Ml.transparent=[0,0,0,0]);const t=Ml[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const N3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function R3(e){const t=N3.exec(e);let n=255,r,o,c;if(!!t){if(t[7]!==r){const f=+t[7];n=t[8]?ia(f):Yr(f*255,0,255)}return r=+t[1],o=+t[3],c=+t[5],r=255&(t[2]?ia(r):Yr(r,0,255)),o=255&(t[4]?ia(o):Yr(o,0,255)),c=255&(t[6]?ia(c):Yr(c,0,255)),{r,g:o,b:c,a:n}}}function D3(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${yr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const uh=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Js=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function L3(e,t,n){const r=Js(yr(e.r)),o=Js(yr(e.g)),c=Js(yr(e.b));return{r:Xr(uh(r+n*(Js(yr(t.r))-r))),g:Xr(uh(o+n*(Js(yr(t.g))-o))),b:Xr(uh(c+n*(Js(yr(t.b))-c))),a:e.a+n*(t.a-e.a)}}function Ol(e,t,n){if(e){let r=If(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=vf(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function gx(e,t){return e&&Object.assign(t||{},e)}function m1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Xr(e[3]))):(t=gx(e,{r:0,g:0,b:0,a:1}),t.a=Xr(t.a)),t}function P3(e){return e.charAt(0)==="r"?R3(e):I3(e)}class Kl{constructor(t){if(t instanceof Kl)return t;const n=typeof t;let r;n==="object"?r=m1(t):n==="string"&&(r=m3(t)||O3(t)||P3(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=gx(this._rgb);return t&&(t.a=yr(t.a)),t}set rgb(t){this._rgb=m1(t)}rgbString(){return this._valid?D3(this._rgb):void 0}hexString(){return this._valid?_3(this._rgb):void 0}hslString(){return this._valid?v3(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,o=t.rgb;let c;const f=n===c?.5:n,p=2*f-1,m=r.a-o.a,b=((p*m===-1?p:(p+m)/(1+p*m))+1)/2;c=1-b,r.r=255&b*r.r+c*o.r+.5,r.g=255&b*r.g+c*o.g+.5,r.b=255&b*r.b+c*o.b+.5,r.a=f*r.a+(1-f)*o.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=L3(this._rgb,t._rgb,n)),this}clone(){return new Kl(this.rgb)}alpha(t){return this._rgb.a=Xr(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ia(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ol(this._rgb,2,t),this}darken(t){return Ol(this._rgb,2,-t),this}saturate(t){return Ol(this._rgb,1,t),this}desaturate(t){return Ol(this._rgb,1,-t),this}rotate(t){return T3(this._rgb,t),this}}function px(e){return new Kl(e)}function xx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function w1(e){return xx(e)?e:px(e)}function hh(e){return xx(e)?e:px(e).saturate(.5).darken(.1).hexString()}const Ts=Object.create(null),jh=Object.create(null);function fa(e,t){if(!t)return e;const n=t.split(".");for(let r=0,o=n.length;r<o;++r){const c=n[r];e=e[c]||(e[c]=Object.create(null))}return e}function fh(e,t,n){return typeof t=="string"?pa(fa(e,t),n):pa(fa(e,""),t)}class B3{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>hh(r.backgroundColor),this.hoverBorderColor=(n,r)=>hh(r.borderColor),this.hoverColor=(n,r)=>hh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,n){return fh(this,t,n)}get(t){return fa(this,t)}describe(t,n){return fh(jh,t,n)}override(t,n){return fh(Ts,t,n)}route(t,n,r,o){const c=fa(this,t),f=fa(this,r),p="_"+n;Object.defineProperties(c,{[p]:{value:c[n],writable:!0},[n]:{enumerable:!0,get(){const m=this[p],b=f[o];return Gt(m)?Object.assign({},b,m):kt(m,b)},set(m){this[p]=m}}})}}var Kt=new B3({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function k3(e){return!e||ee(e.size)||ee(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ql(e,t,n,r,o){let c=t[o];return c||(c=t[o]=e.measureText(o).width,n.push(o)),c>r&&(r=c),r}function F3(e,t,n,r){r=r||{};let o=r.data=r.data||{},c=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(o=r.data={},c=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let f=0;const p=n.length;let m,b,y,S,O;for(m=0;m<p;m++)if(S=n[m],S!=null&&Ae(S)!==!0)f=ql(e,o,c,f,S);else if(Ae(S))for(b=0,y=S.length;b<y;b++)O=S[b],O!=null&&!Ae(O)&&(f=ql(e,o,c,f,O));e.restore();const L=c.length/2;if(L>n.length){for(m=0;m<L;m++)delete o[c[m]];c.splice(0,L)}return f}function xs(e,t,n){const r=e.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((t-o)*r)/r+o}function _1(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Yh(e,t,n,r){mx(e,t,n,r,null)}function mx(e,t,n,r,o){let c,f,p,m,b,y;const S=t.pointStyle,O=t.rotation,L=t.radius;let D=(O||0)*c3;if(S&&typeof S=="object"&&(c=S.toString(),c==="[object HTMLImageElement]"||c==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(D),e.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),e.restore();return}if(!(isNaN(L)||L<=0)){switch(e.beginPath(),S){default:o?e.ellipse(n,r,o/2,L,0,0,de):e.arc(n,r,L,0,de),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(D)*L,r-Math.cos(D)*L),D+=c1,e.lineTo(n+Math.sin(D)*L,r-Math.cos(D)*L),D+=c1,e.lineTo(n+Math.sin(D)*L,r-Math.cos(D)*L),e.closePath();break;case"rectRounded":b=L*.516,m=L-b,f=Math.cos(D+Ko)*m,p=Math.sin(D+Ko)*m,e.arc(n-f,r-p,b,D-Te,D-ke),e.arc(n+p,r-f,b,D-ke,D),e.arc(n+f,r+p,b,D,D+ke),e.arc(n-p,r+f,b,D+ke,D+Te),e.closePath();break;case"rect":if(!O){m=Math.SQRT1_2*L,y=o?o/2:m,e.rect(n-y,r-m,2*y,2*m);break}D+=Ko;case"rectRot":f=Math.cos(D)*L,p=Math.sin(D)*L,e.moveTo(n-f,r-p),e.lineTo(n+p,r-f),e.lineTo(n+f,r+p),e.lineTo(n-p,r+f),e.closePath();break;case"crossRot":D+=Ko;case"cross":f=Math.cos(D)*L,p=Math.sin(D)*L,e.moveTo(n-f,r-p),e.lineTo(n+f,r+p),e.moveTo(n+p,r-f),e.lineTo(n-p,r+f);break;case"star":f=Math.cos(D)*L,p=Math.sin(D)*L,e.moveTo(n-f,r-p),e.lineTo(n+f,r+p),e.moveTo(n+p,r-f),e.lineTo(n-p,r+f),D+=Ko,f=Math.cos(D)*L,p=Math.sin(D)*L,e.moveTo(n-f,r-p),e.lineTo(n+f,r+p),e.moveTo(n+p,r-f),e.lineTo(n-p,r+f);break;case"line":f=o?o/2:Math.cos(D)*L,p=Math.sin(D)*L,e.moveTo(n-f,r-p),e.lineTo(n+f,r+p);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(D)*L,r+Math.sin(D)*L);break}e.fill(),t.borderWidth>0&&e.stroke()}}function wa(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function bc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ac(e){e.restore()}function U3(e,t,n,r,o){if(!t)return e.lineTo(n.x,n.y);if(o==="middle"){const c=(t.x+n.x)/2;e.lineTo(c,t.y),e.lineTo(c,n.y)}else o==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function z3(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function vs(e,t,n,r,o,c={}){const f=Ae(t)?t:[t],p=c.strokeWidth>0&&c.strokeColor!=="";let m,b;for(e.save(),e.font=o.string,W3(e,c),m=0;m<f.length;++m)b=f[m],p&&(c.strokeColor&&(e.strokeStyle=c.strokeColor),ee(c.strokeWidth)||(e.lineWidth=c.strokeWidth),e.strokeText(b,n,r,c.maxWidth)),e.fillText(b,n,r,c.maxWidth),H3(e,n,r,b,c),r+=o.lineHeight;e.restore()}function W3(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ee(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function H3(e,t,n,r,o){if(o.strikethrough||o.underline){const c=e.measureText(r),f=t-c.actualBoundingBoxLeft,p=t+c.actualBoundingBoxRight,m=n-c.actualBoundingBoxAscent,b=n+c.actualBoundingBoxDescent,y=o.strikethrough?(m+b)/2:b;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(f,y),e.lineTo(p,y),e.stroke()}}function _a(e,t){const{x:n,y:r,w:o,h:c,radius:f}=t;e.arc(n+f.topLeft,r+f.topLeft,f.topLeft,-ke,Te,!0),e.lineTo(n,r+c-f.bottomLeft),e.arc(n+f.bottomLeft,r+c-f.bottomLeft,f.bottomLeft,Te,ke,!0),e.lineTo(n+o-f.bottomRight,r+c),e.arc(n+o-f.bottomRight,r+c-f.bottomRight,f.bottomRight,ke,0,!0),e.lineTo(n+o,r+f.topRight),e.arc(n+o-f.topRight,r+f.topRight,f.topRight,0,-ke,!0),e.lineTo(n+f.topLeft,r)}const V3=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),j3=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Y3(e,t){const n=(""+e).match(V3);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const G3=e=>+e||0;function Mf(e,t){const n={},r=Gt(t),o=r?Object.keys(t):t,c=Gt(e)?r?f=>kt(e[f],e[t[f]]):f=>e[f]:()=>e;for(const f of o)n[f]=G3(c(f));return n}function wx(e){return Mf(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Cs(e){return Mf(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Tn(e){const t=wx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function tn(e,t){e=e||{},t=t||Kt.font;let n=kt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=kt(e.style,t.style);r&&!(""+r).match(j3)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const o={family:kt(e.family,t.family),lineHeight:Y3(kt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:kt(e.weight,t.weight),string:""};return o.string=k3(o),o}function ra(e,t,n,r){let o=!0,c,f,p;for(c=0,f=e.length;c<f;++c)if(p=e[c],p!==void 0&&(t!==void 0&&typeof p=="function"&&(p=p(t),o=!1),n!==void 0&&Ae(p)&&(p=p[n%p.length],o=!1),p!==void 0))return r&&!o&&(r.cacheable=!1),p}function X3(e,t,n){const{min:r,max:o}=e,c=lx(t,(o-r)/2),f=(p,m)=>n&&p===0?0:p+m;return{min:f(r,-Math.abs(c)),max:f(o,c)}}function $r(e,t){return Object.assign(Object.create(e),t)}function Of(e,t,n){n=n||(f=>e[f]<t);let r=e.length-1,o=0,c;for(;r-o>1;)c=o+r>>1,n(c)?o=c:r=c;return{lo:o,hi:r}}const Cr=(e,t,n)=>Of(e,n,r=>e[r][t]<n),Z3=(e,t,n)=>Of(e,n,r=>e[r][t]>=n);function K3(e,t,n){let r=0,o=e.length;for(;r<o&&e[r]<t;)r++;for(;o>r&&e[o-1]>n;)o--;return r>0||o<e.length?e.slice(r,o):e}const _x=["push","pop","shift","splice","unshift"];function q3(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),_x.forEach(n=>{const r="_onData"+Cf(n),o=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...c){const f=o.apply(this,c);return e._chartjs.listeners.forEach(p=>{typeof p[r]=="function"&&p[r](...c)}),f}})})}function b1(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,o=r.indexOf(t);o!==-1&&r.splice(o,1),!(r.length>0)&&(_x.forEach(c=>{delete e[c]}),delete e._chartjs)}function bx(e){const t=new Set;let n,r;for(n=0,r=e.length;n<r;++n)t.add(e[n]);return t.size===r?e:Array.from(t)}function Nf(e,t=[""],n=e,r,o=()=>e[0]){pi(r)||(r=Cx("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:r,_getTarget:o,override:f=>Nf([f,...e],t,n,r)};return new Proxy(c,{deleteProperty(f,p){return delete f[p],delete f._keys,delete e[0][p],!0},get(f,p){return yx(f,p,()=>rS(p,t,e,f))},getOwnPropertyDescriptor(f,p){return Reflect.getOwnPropertyDescriptor(f._scopes[0],p)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(f,p){return y1(f).includes(p)},ownKeys(f){return y1(f)},set(f,p,m){const b=f._storage||(f._storage=o());return f[p]=b[p]=m,delete f._keys,!0}})}function oo(e,t,n,r){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Ax(e,r),setContext:c=>oo(e,c,n,r),override:c=>oo(e.override(c),t,n,r)};return new Proxy(o,{deleteProperty(c,f){return delete c[f],delete e[f],!0},get(c,f,p){return yx(c,f,()=>J3(c,f,p))},getOwnPropertyDescriptor(c,f){return c._descriptors.allKeys?Reflect.has(e,f)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,f)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(c,f){return Reflect.has(e,f)},ownKeys(){return Reflect.ownKeys(e)},set(c,f,p){return e[f]=p,delete c[f],!0}})}function Ax(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:n,indexable:r,isScriptable:Qr(n)?n:()=>n,isIndexable:Qr(r)?r:()=>r}}const Q3=(e,t)=>e?e+Cf(t):t,Rf=(e,t)=>Gt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function yx(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const r=n();return e[t]=r,r}function J3(e,t,n){const{_proxy:r,_context:o,_subProxy:c,_descriptors:f}=e;let p=r[t];return Qr(p)&&f.isScriptable(t)&&(p=$3(t,p,e,n)),Ae(p)&&p.length&&(p=tS(t,p,e,f.isIndexable)),Rf(t,p)&&(p=oo(p,o,c&&c[t],f)),p}function $3(e,t,n,r){const{_proxy:o,_context:c,_subProxy:f,_stack:p}=n;if(p.has(e))throw new Error("Recursion detected: "+Array.from(p).join("->")+"->"+e);return p.add(e),t=t(c,f||r),p.delete(e),Rf(e,t)&&(t=Df(o._scopes,o,e,t)),t}function tS(e,t,n,r){const{_proxy:o,_context:c,_subProxy:f,_descriptors:p}=n;if(pi(c.index)&&r(e))t=t[c.index%t.length];else if(Gt(t[0])){const m=t,b=o._scopes.filter(y=>y!==m);t=[];for(const y of m){const S=Df(b,o,e,y);t.push(oo(S,c,f&&f[e],p))}}return t}function Ex(e,t,n){return Qr(e)?e(t,n):e}const eS=(e,t)=>e===!0?t:typeof e=="string"?qr(t,e):void 0;function nS(e,t,n,r,o){for(const c of t){const f=eS(n,c);if(f){e.add(f);const p=Ex(f._fallback,n,o);if(pi(p)&&p!==n&&p!==r)return p}else if(f===!1&&pi(r)&&n!==r)return null}return!1}function Df(e,t,n,r){const o=t._rootScopes,c=Ex(t._fallback,n,r),f=[...e,...o],p=new Set;p.add(r);let m=A1(p,f,n,c||n,r);return m===null||pi(c)&&c!==n&&(m=A1(p,f,c,m,r),m===null)?!1:Nf(Array.from(p),[""],o,c,()=>iS(t,n,r))}function A1(e,t,n,r,o){for(;n;)n=nS(e,t,n,r,o);return n}function iS(e,t,n){const r=e._getTarget();t in r||(r[t]={});const o=r[t];return Ae(o)&&Gt(n)?n:o}function rS(e,t,n,r){let o;for(const c of t)if(o=Cx(Q3(c,e),n),pi(o))return Rf(e,o)?Df(n,r,e,o):o}function Cx(e,t){for(const n of t){if(!n)continue;const r=n[e];if(pi(r))return r}}function y1(e){let t=e._keys;return t||(t=e._keys=sS(e._scopes)),t}function sS(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(o=>!o.startsWith("_")))t.add(r);return Array.from(t)}function Sx(e,t,n,r){const{iScale:o}=e,{key:c="r"}=this._parsing,f=new Array(r);let p,m,b,y;for(p=0,m=r;p<m;++p)b=p+n,y=t[b],f[p]={r:o.parse(qr(y,c),b)};return f}const oS=Number.EPSILON||1e-14,ao=(e,t)=>t<e.length&&!e[t].skip&&e[t],Ix=e=>e==="x"?"y":"x";function aS(e,t,n,r){const o=e.skip?t:e,c=t,f=n.skip?t:n,p=Hh(c,o),m=Hh(f,c);let b=p/(p+m),y=m/(p+m);b=isNaN(b)?0:b,y=isNaN(y)?0:y;const S=r*b,O=r*y;return{previous:{x:c.x-S*(f.x-o.x),y:c.y-S*(f.y-o.y)},next:{x:c.x+O*(f.x-o.x),y:c.y+O*(f.y-o.y)}}}function lS(e,t,n){const r=e.length;let o,c,f,p,m,b=ao(e,0);for(let y=0;y<r-1;++y)if(m=b,b=ao(e,y+1),!(!m||!b)){if(ua(t[y],0,oS)){n[y]=n[y+1]=0;continue}o=n[y]/t[y],c=n[y+1]/t[y],p=Math.pow(o,2)+Math.pow(c,2),!(p<=9)&&(f=3/Math.sqrt(p),n[y]=o*f*t[y],n[y+1]=c*f*t[y])}}function cS(e,t,n="x"){const r=Ix(n),o=e.length;let c,f,p,m=ao(e,0);for(let b=0;b<o;++b){if(f=p,p=m,m=ao(e,b+1),!p)continue;const y=p[n],S=p[r];f&&(c=(y-f[n])/3,p[`cp1${n}`]=y-c,p[`cp1${r}`]=S-c*t[b]),m&&(c=(m[n]-y)/3,p[`cp2${n}`]=y+c,p[`cp2${r}`]=S+c*t[b])}}function uS(e,t="x"){const n=Ix(t),r=e.length,o=Array(r).fill(0),c=Array(r);let f,p,m,b=ao(e,0);for(f=0;f<r;++f)if(p=m,m=b,b=ao(e,f+1),!!m){if(b){const y=b[t]-m[t];o[f]=y!==0?(b[n]-m[n])/y:0}c[f]=p?b?Xi(o[f-1])!==Xi(o[f])?0:(o[f-1]+o[f])/2:o[f-1]:o[f]}lS(e,o,c),cS(e,c,t)}function Nl(e,t,n){return Math.max(Math.min(e,n),t)}function hS(e,t){let n,r,o,c,f,p=wa(e[0],t);for(n=0,r=e.length;n<r;++n)f=c,c=p,p=n<r-1&&wa(e[n+1],t),c&&(o=e[n],f&&(o.cp1x=Nl(o.cp1x,t.left,t.right),o.cp1y=Nl(o.cp1y,t.top,t.bottom)),p&&(o.cp2x=Nl(o.cp2x,t.left,t.right),o.cp2y=Nl(o.cp2y,t.top,t.bottom)))}function fS(e,t,n,r,o){let c,f,p,m;if(t.spanGaps&&(e=e.filter(b=>!b.skip)),t.cubicInterpolationMode==="monotone")uS(e,o);else{let b=r?e[e.length-1]:e[0];for(c=0,f=e.length;c<f;++c)p=e[c],m=aS(b,p,e[Math.min(c+1,f-(r?0:1))%f],t.tension),p.cp1x=m.previous.x,p.cp1y=m.previous.y,p.cp2x=m.next.x,p.cp2y=m.next.y,b=p}t.capBezierPoints&&hS(e,n)}function Tx(){return typeof window<"u"&&typeof document<"u"}function Lf(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ql(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const yc=e=>window.getComputedStyle(e,null);function dS(e,t){return yc(e).getPropertyValue(t)}const gS=["top","right","bottom","left"];function Ss(e,t,n){const r={};n=n?"-"+n:"";for(let o=0;o<4;o++){const c=gS[o];r[c]=parseFloat(e[t+"-"+c+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const pS=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function xS(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:o,offsetY:c}=r;let f=!1,p,m;if(pS(o,c,e.target))p=o,m=c;else{const b=t.getBoundingClientRect();p=r.clientX-b.left,m=r.clientY-b.top,f=!0}return{x:p,y:m,box:f}}function _s(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,o=yc(n),c=o.boxSizing==="border-box",f=Ss(o,"padding"),p=Ss(o,"border","width"),{x:m,y:b,box:y}=xS(e,n),S=f.left+(y&&p.left),O=f.top+(y&&p.top);let{width:L,height:D}=t;return c&&(L-=f.width+p.width,D-=f.height+p.height),{x:Math.round((m-S)/L*n.width/r),y:Math.round((b-O)/D*n.height/r)}}function mS(e,t,n){let r,o;if(t===void 0||n===void 0){const c=Lf(e);if(!c)t=e.clientWidth,n=e.clientHeight;else{const f=c.getBoundingClientRect(),p=yc(c),m=Ss(p,"border","width"),b=Ss(p,"padding");t=f.width-b.width-m.width,n=f.height-b.height-m.height,r=Ql(p.maxWidth,c,"clientWidth"),o=Ql(p.maxHeight,c,"clientHeight")}}return{width:t,height:n,maxWidth:r||Zl,maxHeight:o||Zl}}const dh=e=>Math.round(e*10)/10;function wS(e,t,n,r){const o=yc(e),c=Ss(o,"margin"),f=Ql(o.maxWidth,e,"clientWidth")||Zl,p=Ql(o.maxHeight,e,"clientHeight")||Zl,m=mS(e,t,n);let{width:b,height:y}=m;if(o.boxSizing==="content-box"){const S=Ss(o,"border","width"),O=Ss(o,"padding");b-=O.width+S.width,y-=O.height+S.height}return b=Math.max(0,b-c.width),y=Math.max(0,r?Math.floor(b/r):y-c.height),b=dh(Math.min(b,f,m.maxWidth)),y=dh(Math.min(y,p,m.maxHeight)),b&&!y&&(y=dh(b/2)),{width:b,height:y}}function E1(e,t,n){const r=t||1,o=Math.floor(e.height*r),c=Math.floor(e.width*r);e.height=o/r,e.width=c/r;const f=e.canvas;return f.style&&(n||!f.style.height&&!f.style.width)&&(f.style.height=`${e.height}px`,f.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||f.height!==o||f.width!==c?(e.currentDevicePixelRatio=r,f.height=o,f.width=c,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const _S=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function C1(e,t){const n=dS(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function bs(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function bS(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function AS(e,t,n,r){const o={x:e.cp2x,y:e.cp2y},c={x:t.cp1x,y:t.cp1y},f=bs(e,o,n),p=bs(o,c,n),m=bs(c,t,n),b=bs(f,p,n),y=bs(p,m,n);return bs(b,y,n)}const S1=new Map;function yS(e,t){t=t||{};const n=e+JSON.stringify(t);let r=S1.get(n);return r||(r=new Intl.NumberFormat(e,t),S1.set(n,r)),r}function Ta(e,t,n){return yS(t,n).format(e)}const ES=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},CS=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function no(e,t,n){return e?ES(t,n):CS()}function vx(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Mx(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ox(e){return e==="angle"?{between:ma,compare:f3,normalize:$n}:{between:Er,compare:(t,n)=>t-n,normalize:t=>t}}function I1({start:e,end:t,count:n,loop:r,style:o}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:o}}function SS(e,t,n){const{property:r,start:o,end:c}=n,{between:f,normalize:p}=Ox(r),m=t.length;let{start:b,end:y,loop:S}=e,O,L;if(S){for(b+=m,y+=m,O=0,L=m;O<L&&f(p(t[b%m][r]),o,c);++O)b--,y--;b%=m,y%=m}return y<b&&(y+=m),{start:b,end:y,loop:S,style:e.style}}function Nx(e,t,n){if(!n)return[e];const{property:r,start:o,end:c}=n,f=t.length,{compare:p,between:m,normalize:b}=Ox(r),{start:y,end:S,loop:O,style:L}=SS(e,t,n),D=[];let V=!1,z=null,H,G,$;const Q=()=>m(o,$,H)&&p(o,$)!==0,tt=()=>p(c,H)===0||m(c,$,H),Z=()=>V||Q(),at=()=>!V||tt();for(let J=y,dt=y;J<=S;++J)G=t[J%f],!G.skip&&(H=b(G[r]),H!==$&&(V=m(H,o,c),z===null&&Z()&&(z=p(H,o)===0?J:dt),z!==null&&at()&&(D.push(I1({start:z,end:J,loop:O,count:f,style:L})),z=null),dt=J,$=H));return z!==null&&D.push(I1({start:z,end:S,loop:O,count:f,style:L})),D}function Rx(e,t){const n=[],r=e.segments;for(let o=0;o<r.length;o++){const c=Nx(r[o],e.points,t);c.length&&n.push(...c)}return n}function IS(e,t,n,r){let o=0,c=t-1;if(n&&!r)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,n&&(c+=o);c>o&&e[c%t].skip;)c--;return c%=t,{start:o,end:c}}function TS(e,t,n,r){const o=e.length,c=[];let f=t,p=e[t],m;for(m=t+1;m<=n;++m){const b=e[m%o];b.skip||b.stop?p.skip||(r=!1,c.push({start:t%o,end:(m-1)%o,loop:r}),t=f=b.stop?m:null):(f=m,p.skip&&(t=m)),p=b}return f!==null&&c.push({start:t%o,end:f%o,loop:r}),c}function vS(e,t){const n=e.points,r=e.options.spanGaps,o=n.length;if(!o)return[];const c=!!e._loop,{start:f,end:p}=IS(n,o,c,r);if(r===!0)return T1(e,[{start:f,end:p,loop:c}],n,t);const m=p<f?p+o:p,b=!!e._fullLoop&&f===0&&p===o-1;return T1(e,TS(n,f,m,b),n,t)}function T1(e,t,n,r){return!r||!r.setContext||!n?t:MS(e,t,n,r)}function MS(e,t,n,r){const o=e._chart.getContext(),c=v1(e.options),{_datasetIndex:f,options:{spanGaps:p}}=e,m=n.length,b=[];let y=c,S=t[0].start,O=S;function L(D,V,z,H){const G=p?-1:1;if(D!==V){for(D+=m;n[D%m].skip;)D-=G;for(;n[V%m].skip;)V+=G;D%m!==V%m&&(b.push({start:D%m,end:V%m,loop:z,style:H}),y=H,S=V%m)}}for(const D of t){S=p?S:D.start;let V=n[S%m],z;for(O=S+1;O<=D.end;O++){const H=n[O%m];z=v1(r.setContext($r(o,{type:"segment",p0:V,p1:H,p0DataIndex:(O-1)%m,p1DataIndex:O%m,datasetIndex:f}))),OS(z,y)&&L(S,O-1,D.loop,y),V=H,y=z}S<O-1&&L(S,O-1,D.loop,y)}return b}function v1(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function OS(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}/*!
 * Chart.js v3.8.2
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class NS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,o){const c=n.listeners[o],f=n.duration;c.forEach(p=>p({chart:t,initial:n.initial,numSteps:f,currentStep:Math.min(r-n.start,f)}))}_refresh(){this._request||(this._running=!0,this._request=ox.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const c=r.items;let f=c.length-1,p=!1,m;for(;f>=0;--f)m=c[f],m._active?(m._total>r.duration&&(r.duration=m._total),m.tick(t),p=!0):(c[f]=c[c.length-1],c.pop());p&&(o.draw(),this._notify(o,r,t,"progress")),c.length||(r.running=!1,this._notify(o,r,t,"complete"),r.initial=!1),n+=c.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var br=new NS;const M1="transparent",RS={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=w1(e||M1),o=r.valid&&w1(t||M1);return o&&o.valid?o.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class DS{constructor(t,n,r,o){const c=n[r];o=ra([t.to,o,c,t.from]);const f=ra([t.from,c,o]);this._active=!0,this._fn=t.fn||RS[t.type||typeof f],this._easing=ha[t.easing]||ha.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=f,this._to=o,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const o=this._target[this._prop],c=r-this._start,f=this._duration-c;this._start=r,this._duration=Math.floor(Math.max(f,t.duration)),this._total+=c,this._loop=!!t.loop,this._to=ra([t.to,n,o,t.from]),this._from=ra([t.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,o=this._prop,c=this._from,f=this._loop,p=this._to;let m;if(this._active=c!==p&&(f||n<r),!this._active){this._target[o]=p,this._notify(!0);return}if(n<0){this._target[o]=c;return}m=n/r%2,m=f&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[o]=this._fn(c,p,m)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][n]()}}const LS=["x","y","borderWidth","radius","tension"],PS=["color","borderColor","backgroundColor"];Kt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const BS=Object.keys(Kt.animation);Kt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});Kt.set("animations",{colors:{type:"color",properties:PS},numbers:{type:"number",properties:LS}});Kt.describe("animations",{_fallback:"animation"});Kt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class Dx{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Gt(t))return;const n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Gt(o))return;const c={};for(const f of BS)c[f]=o[f];(Ae(o.properties)&&o.properties||[r]).forEach(f=>{(f===r||!n.has(f))&&n.set(f,c)})})}_animateOptions(t,n){const r=n.options,o=FS(t,r);if(!o)return[];const c=this._createAnimations(o,r);return r.$shared&&kS(t.options.$animations,r).then(()=>{t.options=r},()=>{}),c}_createAnimations(t,n){const r=this._properties,o=[],c=t.$animations||(t.$animations={}),f=Object.keys(n),p=Date.now();let m;for(m=f.length-1;m>=0;--m){const b=f[m];if(b.charAt(0)==="$")continue;if(b==="options"){o.push(...this._animateOptions(t,n));continue}const y=n[b];let S=c[b];const O=r.get(b);if(S)if(O&&S.active()){S.update(O,y,p);continue}else S.cancel();if(!O||!O.duration){t[b]=y;continue}c[b]=S=new DS(O,t,b,y),o.push(S)}return o}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return br.add(this._chart,r),!0}}function kS(e,t){const n=[],r=Object.keys(t);for(let o=0;o<r.length;o++){const c=e[r[o]];c&&c.active()&&n.push(c.wait())}return Promise.all(n)}function FS(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function O1(e,t){const n=e&&e.options||{},r=n.reverse,o=n.min===void 0?t:0,c=n.max===void 0?t:0;return{start:r?c:o,end:r?o:c}}function US(e,t,n){if(n===!1)return!1;const r=O1(e,n),o=O1(t,n);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function zS(e){let t,n,r,o;return Gt(e)?(t=e.top,n=e.right,r=e.bottom,o=e.left):t=n=r=o=e,{top:t,right:n,bottom:r,left:o,disabled:e===!1}}function Lx(e,t){const n=[],r=e._getSortedDatasetMetas(t);let o,c;for(o=0,c=r.length;o<c;++o)n.push(r[o].index);return n}function N1(e,t,n,r={}){const o=e.keys,c=r.mode==="single";let f,p,m,b;if(t!==null){for(f=0,p=o.length;f<p;++f){if(m=+o[f],m===n){if(r.all)continue;break}b=e.values[m],He(b)&&(c||t===0||Xi(t)===Xi(b))&&(t+=b)}return t}}function WS(e){const t=Object.keys(e),n=new Array(t.length);let r,o,c;for(r=0,o=t.length;r<o;++r)c=t[r],n[r]={x:c,y:e[c]};return n}function R1(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function HS(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function VS(e){const{min:t,max:n,minDefined:r,maxDefined:o}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function jS(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function D1(e,t,n,r){for(const o of t.getMatchingVisibleMetas(r).reverse()){const c=e[o.index];if(n&&c>0||!n&&c<0)return o.index}return null}function L1(e,t){const{chart:n,_cachedMeta:r}=e,o=n._stacks||(n._stacks={}),{iScale:c,vScale:f,index:p}=r,m=c.axis,b=f.axis,y=HS(c,f,r),S=t.length;let O;for(let L=0;L<S;++L){const D=t[L],{[m]:V,[b]:z}=D,H=D._stacks||(D._stacks={});O=H[b]=jS(o,y,V),O[p]=z,O._top=D1(O,f,!0,r.type),O._bottom=D1(O,f,!1,r.type)}}function gh(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function YS(e,t){return $r(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function GS(e,t,n){return $r(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function qo(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(!!r){t=t||e._parsed;for(const o of t){const c=o._stacks;if(!c||c[r]===void 0||c[r][n]===void 0)return;delete c[r][n]}}}const ph=e=>e==="reset"||e==="none",P1=(e,t)=>t?e:Object.assign({},e),XS=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Lx(n,!0),values:null};class Ki{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=R1(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&qo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(S,O,L,D)=>S==="x"?O:S==="r"?D:L,c=n.xAxisID=kt(r.xAxisID,gh(t,"x")),f=n.yAxisID=kt(r.yAxisID,gh(t,"y")),p=n.rAxisID=kt(r.rAxisID,gh(t,"r")),m=n.indexAxis,b=n.iAxisID=o(m,c,f,p),y=n.vAxisID=o(m,f,c,p);n.xScale=this.getScaleForId(c),n.yScale=this.getScaleForId(f),n.rScale=this.getScaleForId(p),n.iScale=this.getScaleForId(b),n.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&b1(this._data,this),t._stacked&&qo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Gt(n))this._data=WS(n);else if(r!==n){if(r){b1(r,this);const o=this._cachedMeta;qo(o),o._parsed=[]}n&&Object.isExtensible(n)&&q3(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const c=n._stacked;n._stacked=R1(n.vScale,n),n.stack!==r.stack&&(o=!0,qo(n),n.stack=r.stack),this._resyncElements(t),(o||c!==n._stacked)&&L1(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:o}=this,{iScale:c,_stacked:f}=r,p=c.axis;let m=t===0&&n===o.length?!0:r._sorted,b=t>0&&r._parsed[t-1],y,S,O;if(this._parsing===!1)r._parsed=o,r._sorted=!0,O=o;else{Ae(o[t])?O=this.parseArrayData(r,o,t,n):Gt(o[t])?O=this.parseObjectData(r,o,t,n):O=this.parsePrimitiveData(r,o,t,n);const L=()=>S[p]===null||b&&S[p]<b[p];for(y=0;y<n;++y)r._parsed[y+t]=S=O[y],m&&(L()&&(m=!1),b=S);r._sorted=m}f&&L1(this,O)}parsePrimitiveData(t,n,r,o){const{iScale:c,vScale:f}=t,p=c.axis,m=f.axis,b=c.getLabels(),y=c===f,S=new Array(o);let O,L,D;for(O=0,L=o;O<L;++O)D=O+r,S[O]={[p]:y||c.parse(b[D],D),[m]:f.parse(n[D],D)};return S}parseArrayData(t,n,r,o){const{xScale:c,yScale:f}=t,p=new Array(o);let m,b,y,S;for(m=0,b=o;m<b;++m)y=m+r,S=n[y],p[m]={x:c.parse(S[0],y),y:f.parse(S[1],y)};return p}parseObjectData(t,n,r,o){const{xScale:c,yScale:f}=t,{xAxisKey:p="x",yAxisKey:m="y"}=this._parsing,b=new Array(o);let y,S,O,L;for(y=0,S=o;y<S;++y)O=y+r,L=n[O],b[y]={x:c.parse(qr(L,p),O),y:f.parse(qr(L,m),O)};return b}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const o=this.chart,c=this._cachedMeta,f=n[t.axis],p={keys:Lx(o,!0),values:n._stacks[t.axis]};return N1(p,f,c.index,{mode:r})}updateRangeFromParsed(t,n,r,o){const c=r[n.axis];let f=c===null?NaN:c;const p=o&&r._stacks[n.axis];o&&p&&(o.values=p,f=N1(o,c,this._cachedMeta.index)),t.min=Math.min(t.min,f),t.max=Math.max(t.max,f)}getMinMax(t,n){const r=this._cachedMeta,o=r._parsed,c=r._sorted&&t===r.iScale,f=o.length,p=this._getOtherScale(t),m=XS(n,r,this.chart),b={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:S}=VS(p);let O,L;function D(){L=o[O];const V=L[p.axis];return!He(L[t.axis])||y>V||S<V}for(O=0;O<f&&!(!D()&&(this.updateRangeFromParsed(b,t,L,m),c));++O);if(c){for(O=f-1;O>=0;--O)if(!D()){this.updateRangeFromParsed(b,t,L,m);break}}return b}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let o,c,f;for(o=0,c=n.length;o<c;++o)f=n[o][t.axis],He(f)&&r.push(f);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,o=n.vScale,c=this.getParsed(t);return{label:r?""+r.getLabelForValue(c[r.axis]):"",value:o?""+o.getLabelForValue(c[o.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=zS(kt(this.options.clip,US(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,o=r.data||[],c=n.chartArea,f=[],p=this._drawStart||0,m=this._drawCount||o.length-p,b=this.options.drawActiveElementsOnTop;let y;for(r.dataset&&r.dataset.draw(t,c,p,m),y=p;y<p+m;++y){const S=o[y];S.hidden||(S.active&&b?f.push(S):S.draw(t,c))}for(y=0;y<f.length;++y)f[y].draw(t,c)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const o=this.getDataset();let c;if(t>=0&&t<this._cachedMeta.data.length){const f=this._cachedMeta.data[t];c=f.$context||(f.$context=GS(this.getContext(),t,f)),c.parsed=this.getParsed(t),c.raw=o.data[t],c.index=c.dataIndex=t}else c=this.$context||(this.$context=YS(this.chart.getContext(),this.index)),c.dataset=o,c.index=c.datasetIndex=this.index;return c.active=!!n,c.mode=r,c}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const o=n==="active",c=this._cachedDataOpts,f=t+"-"+n,p=c[f],m=this.enableOptionSharing&&pi(r);if(p)return P1(p,m);const b=this.chart.config,y=b.datasetElementScopeKeys(this._type,t),S=o?[`${t}Hover`,"hover",t,""]:[t,""],O=b.getOptionScopes(this.getDataset(),y),L=Object.keys(Kt.elements[t]),D=()=>this.getContext(r,o),V=b.resolveNamedOptions(O,L,D,S);return V.$shared&&(V.$shared=m,c[f]=Object.freeze(P1(V,m))),V}_resolveAnimations(t,n,r){const o=this.chart,c=this._cachedDataOpts,f=`animation-${n}`,p=c[f];if(p)return p;let m;if(o.options.animation!==!1){const y=this.chart.config,S=y.datasetAnimationScopeKeys(this._type,n),O=y.getOptionScopes(this.getDataset(),S);m=y.createResolver(O,this.getContext(t,r,n))}const b=new Dx(o,m&&m.animations);return m&&m._cacheable&&(c[f]=Object.freeze(b)),b}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||ph(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),o=this._sharedOptions,c=this.getSharedOptions(r),f=this.includeOptions(n,c)||c!==o;return this.updateSharedOptions(c,n,r),{sharedOptions:c,includeOptions:f}}updateElement(t,n,r,o){ph(o)?Object.assign(t,r):this._resolveAnimations(n,o).update(t,r)}updateSharedOptions(t,n,r){t&&!ph(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,o){t.active=o;const c=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(t,{options:!o&&this.getSharedOptions(c)||c})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[p,m,b]of this._syncList)this[p](m,b);this._syncList=[];const o=r.length,c=n.length,f=Math.min(c,o);f&&this.parse(0,f),c>o?this._insertElements(o,c-o,t):c<o&&this._removeElements(c,o-c)}_insertElements(t,n,r=!0){const o=this._cachedMeta,c=o.data,f=t+n;let p;const m=b=>{for(b.length+=n,p=b.length-1;p>=f;p--)b[p]=b[p-n]};for(m(c),p=t;p<f;++p)c[p]=new this.dataElementType;this._parsing&&m(o._parsed),this.parse(t,n),r&&this.updateElements(c,t,n,"reset")}updateElements(t,n,r,o){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(t,n);r._stacked&&qo(r,o)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,o]=t;this[n](r,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ki.defaults={};Ki.prototype.datasetElementType=null;Ki.prototype.dataElementType=null;function ZS(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let o=0,c=n.length;o<c;o++)r=r.concat(n[o].controller.getAllParsedValues(e));e._cache.$bar=bx(r.sort((o,c)=>o-c))}return e._cache.$bar}function KS(e){const t=e.iScale,n=ZS(t,e.type);let r=t._length,o,c,f,p;const m=()=>{f===32767||f===-32768||(pi(p)&&(r=Math.min(r,Math.abs(f-p)||r)),p=f)};for(o=0,c=n.length;o<c;++o)f=t.getPixelForValue(n[o]),m();for(p=void 0,o=0,c=t.ticks.length;o<c;++o)f=t.getPixelForTick(o),m();return r}function qS(e,t,n,r){const o=n.barThickness;let c,f;return ee(o)?(c=t.min*n.categoryPercentage,f=n.barPercentage):(c=o*r,f=1),{chunk:c/r,ratio:f,start:t.pixels[e]-c/2}}function QS(e,t,n,r){const o=t.pixels,c=o[e];let f=e>0?o[e-1]:null,p=e<o.length-1?o[e+1]:null;const m=n.categoryPercentage;f===null&&(f=c-(p===null?t.end-t.start:p-c)),p===null&&(p=c+c-f);const b=c-(c-Math.min(f,p))/2*m;return{chunk:Math.abs(p-f)/2*m/r,ratio:n.barPercentage,start:b}}function JS(e,t,n,r){const o=n.parse(e[0],r),c=n.parse(e[1],r),f=Math.min(o,c),p=Math.max(o,c);let m=f,b=p;Math.abs(f)>Math.abs(p)&&(m=p,b=f),t[n.axis]=b,t._custom={barStart:m,barEnd:b,start:o,end:c,min:f,max:p}}function Px(e,t,n,r){return Ae(e)?JS(e,t,n,r):t[n.axis]=n.parse(e,r),t}function B1(e,t,n,r){const o=e.iScale,c=e.vScale,f=o.getLabels(),p=o===c,m=[];let b,y,S,O;for(b=n,y=n+r;b<y;++b)O=t[b],S={},S[o.axis]=p||o.parse(f[b],b),m.push(Px(O,S,c,b));return m}function xh(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function $S(e,t,n){return e!==0?Xi(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function tI(e){let t,n,r,o,c;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(o="end",c="start"):(o="start",c="end"),{start:n,end:r,reverse:t,top:o,bottom:c}}function eI(e,t,n,r){let o=t.borderSkipped;const c={};if(!o){e.borderSkipped=c;return}const{start:f,end:p,reverse:m,top:b,bottom:y}=tI(e);o==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?o=b:(n._bottom||0)===r?o=y:(c[k1(y,f,p,m)]=!0,o=b)),c[k1(o,f,p,m)]=!0,e.borderSkipped=c}function k1(e,t,n,r){return r?(e=nI(e,t,n),e=F1(e,n,t)):e=F1(e,t,n),e}function nI(e,t,n){return e===t?n:e===n?t:e}function F1(e,t,n){return e==="start"?t:e==="end"?n:e}function iI(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Ec extends Ki{parsePrimitiveData(t,n,r,o){return B1(t,n,r,o)}parseArrayData(t,n,r,o){return B1(t,n,r,o)}parseObjectData(t,n,r,o){const{iScale:c,vScale:f}=t,{xAxisKey:p="x",yAxisKey:m="y"}=this._parsing,b=c.axis==="x"?p:m,y=f.axis==="x"?p:m,S=[];let O,L,D,V;for(O=r,L=r+o;O<L;++O)V=n[O],D={},D[c.axis]=c.parse(qr(V,b),O),S.push(Px(qr(V,y),D,f,O));return S}updateRangeFromParsed(t,n,r,o){super.updateRangeFromParsed(t,n,r,o);const c=r._custom;c&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,c.min),t.max=Math.max(t.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:o}=n,c=this.getParsed(t),f=c._custom,p=xh(f)?"["+f.start+", "+f.end+"]":""+o.getLabelForValue(c[o.axis]);return{label:""+r.getLabelForValue(c[r.axis]),value:p}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,o){const c=o==="reset",{index:f,_cachedMeta:{vScale:p}}=this,m=p.getBasePixel(),b=p.isHorizontal(),y=this._getRuler(),{sharedOptions:S,includeOptions:O}=this._getSharedOptions(n,o);for(let L=n;L<n+r;L++){const D=this.getParsed(L),V=c||ee(D[p.axis])?{base:m,head:m}:this._calculateBarValuePixels(L),z=this._calculateBarIndexPixels(L,y),H=(D._stacks||{})[p.axis],G={horizontal:b,base:V.base,enableBorderRadius:!H||xh(D._custom)||f===H._top||f===H._bottom,x:b?V.head:z.center,y:b?z.center:V.head,height:b?z.size:Math.abs(V.size),width:b?Math.abs(V.size):z.size};O&&(G.options=S||this.resolveDataElementOptions(L,t[L].active?"active":o));const $=G.options||t[L].options;eI(G,$,H,f),iI(G,$,y.ratio),this.updateElement(t[L],L,G,o)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),c=r.options.stacked,f=[],p=m=>{const b=m.controller.getParsed(n),y=b&&b[m.vScale.axis];if(ee(y)||isNaN(y))return!0};for(const m of o)if(!(n!==void 0&&p(m))&&((c===!1||f.indexOf(m.stack)===-1||c===void 0&&m.stack===void 0)&&f.push(m.stack),m.index===t))break;return f.length||f.push(void 0),f}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const o=this._getStacks(t,r),c=n!==void 0?o.indexOf(n):-1;return c===-1?o.length-1:c}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,o=[];let c,f;for(c=0,f=n.data.length;c<f;++c)o.push(r.getPixelForValue(this.getParsed(c)[r.axis],c));const p=t.barThickness;return{min:p||KS(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:p?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r},options:{base:o,minBarLength:c}}=this,f=o||0,p=this.getParsed(t),m=p._custom,b=xh(m);let y=p[n.axis],S=0,O=r?this.applyStack(n,p,r):y,L,D;O!==y&&(S=O-y,O=y),b&&(y=m.barStart,O=m.barEnd-m.barStart,y!==0&&Xi(y)!==Xi(m.barEnd)&&(S=0),S+=y);const V=!ee(o)&&!b?o:S;let z=n.getPixelForValue(V);if(this.chart.getDataVisibility(t)?L=n.getPixelForValue(S+O):L=z,D=L-z,Math.abs(D)<c){D=$S(D,n,f)*c,y===f&&(z-=D/2);const H=n.getPixelForDecimal(0),G=n.getPixelForDecimal(1),$=Math.min(H,G),Q=Math.max(H,G);z=Math.max(Math.min(z,Q),$),L=z+D}if(z===n.getPixelForValue(f)){const H=Xi(D)*n.getLineWidthForValue(f)/2;z+=H,D-=H}return{size:D,base:z,head:L,center:L+D/2}}_calculateBarIndexPixels(t,n){const r=n.scale,o=this.options,c=o.skipNull,f=kt(o.maxBarThickness,1/0);let p,m;if(n.grouped){const b=c?this._getStackCount(t):n.stackCount,y=o.barThickness==="flex"?QS(t,n,o,b):qS(t,n,o,b),S=this._getStackIndex(this.index,this._cachedMeta.stack,c?t:void 0);p=y.start+y.chunk*S+y.chunk/2,m=Math.min(f,y.chunk*y.ratio)}else p=r.getPixelForValue(this.getParsed(t)[r.axis],t),m=Math.min(f,n.min*n.ratio);return{base:p-m/2,head:p+m/2,center:p,size:m}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,o=r.length;let c=0;for(;c<o;++c)this.getParsed(c)[n.axis]!==null&&r[c].draw(this._ctx)}}Ec.id="bar";Ec.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Ec.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Cc extends Ki{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,o){const c=super.parsePrimitiveData(t,n,r,o);for(let f=0;f<c.length;f++)c[f]._custom=this.resolveDataElementOptions(f+r).radius;return c}parseArrayData(t,n,r,o){const c=super.parseArrayData(t,n,r,o);for(let f=0;f<c.length;f++){const p=n[r+f];c[f]._custom=kt(p[2],this.resolveDataElementOptions(f+r).radius)}return c}parseObjectData(t,n,r,o){const c=super.parseObjectData(t,n,r,o);for(let f=0;f<c.length;f++){const p=n[r+f];c[f]._custom=kt(p&&p.r&&+p.r,this.resolveDataElementOptions(f+r).radius)}return c}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,{xScale:r,yScale:o}=n,c=this.getParsed(t),f=r.getLabelForValue(c.x),p=o.getLabelForValue(c.y),m=c._custom;return{label:n.label,value:"("+f+", "+p+(m?", "+m:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,o){const c=o==="reset",{iScale:f,vScale:p}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(n,o),y=f.axis,S=p.axis;for(let O=n;O<n+r;O++){const L=t[O],D=!c&&this.getParsed(O),V={},z=V[y]=c?f.getPixelForDecimal(.5):f.getPixelForValue(D[y]),H=V[S]=c?p.getBasePixel():p.getPixelForValue(D[S]);V.skip=isNaN(z)||isNaN(H),b&&(V.options=m||this.resolveDataElementOptions(O,L.active?"active":o),c&&(V.options.radius=0)),this.updateElement(L,O,V,o)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let o=super.resolveDataElementOptions(t,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const c=o.radius;return n!=="active"&&(o.radius=0),o.radius+=kt(r&&r._custom,c),o}}Cc.id="bubble";Cc.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Cc.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function rI(e,t,n){let r=1,o=1,c=0,f=0;if(t<de){const p=e,m=p+t,b=Math.cos(p),y=Math.sin(p),S=Math.cos(m),O=Math.sin(m),L=($,Q,tt)=>ma($,p,m,!0)?1:Math.max(Q,Q*n,tt,tt*n),D=($,Q,tt)=>ma($,p,m,!0)?-1:Math.min(Q,Q*n,tt,tt*n),V=L(0,b,S),z=L(ke,y,O),H=D(Te,b,S),G=D(Te+ke,y,O);r=(V-H)/2,o=(z-G)/2,c=-(V+H)/2,f=-(z+G)/2}return{ratioX:r,ratioY:o,offsetX:c,offsetY:f}}class uo extends Ki{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let c=m=>+r[m];if(Gt(r[t])){const{key:m="value"}=this._parsing;c=b=>+qr(r[b],m)}let f,p;for(f=t,p=t+n;f<p;++f)o._parsed[f]=c(f)}}_getRotation(){return Oi(this.options.rotation-90)}_getCircumference(){return Oi(this.options.circumference)}_getRotationExtents(){let t=de,n=-de;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const o=this.chart.getDatasetMeta(r).controller,c=o._getRotation(),f=o._getCircumference();t=Math.min(t,c),n=Math.max(n,c+f)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,o=this._cachedMeta,c=o.data,f=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,p=Math.max((Math.min(r.width,r.height)-f)/2,0),m=Math.min(n3(this.options.cutout,p),1),b=this._getRingWeight(this.index),{circumference:y,rotation:S}=this._getRotationExtents(),{ratioX:O,ratioY:L,offsetX:D,offsetY:V}=rI(S,y,m),z=(r.width-f)/O,H=(r.height-f)/L,G=Math.max(Math.min(z,H)/2,0),$=lx(this.options.radius,G),Q=Math.max($*m,0),tt=($-Q)/this._getVisibleDatasetWeightTotal();this.offsetX=D*$,this.offsetY=V*$,o.total=this.calculateTotal(),this.outerRadius=$-tt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-tt*b,0),this.updateElements(c,0,c.length,t)}_circumference(t,n){const r=this.options,o=this._cachedMeta,c=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*c/de)}updateElements(t,n,r,o){const c=o==="reset",f=this.chart,p=f.chartArea,b=f.options.animation,y=(p.left+p.right)/2,S=(p.top+p.bottom)/2,O=c&&b.animateScale,L=O?0:this.innerRadius,D=O?0:this.outerRadius,{sharedOptions:V,includeOptions:z}=this._getSharedOptions(n,o);let H=this._getRotation(),G;for(G=0;G<n;++G)H+=this._circumference(G,c);for(G=n;G<n+r;++G){const $=this._circumference(G,c),Q=t[G],tt={x:y+this.offsetX,y:S+this.offsetY,startAngle:H,endAngle:H+$,circumference:$,outerRadius:D,innerRadius:L};z&&(tt.options=V||this.resolveDataElementOptions(G,Q.active?"active":o)),H+=$,this.updateElement(Q,G,tt,o)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,o;for(o=0;o<n.length;o++){const c=t._parsed[o];c!==null&&!isNaN(c)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(c))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?de*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,o=r.data.labels||[],c=Ta(n._parsed[t],r.options.locale);return{label:o[t]||"",value:c}}getMaxBorderWidth(t){let n=0;const r=this.chart;let o,c,f,p,m;if(!t){for(o=0,c=r.data.datasets.length;o<c;++o)if(r.isDatasetVisible(o)){f=r.getDatasetMeta(o),t=f.data,p=f.controller;break}}if(!t)return 0;for(o=0,c=t.length;o<c;++o)m=p.resolveDataElementOptions(o),m.borderAlign!=="inner"&&(n=Math.max(n,m.borderWidth||0,m.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,o=t.length;r<o;++r){const c=this.resolveDataElementOptions(r);n=Math.max(n,c.offset||0,c.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(kt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}uo.id="doughnut";uo.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};uo.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};uo.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((r,o)=>{const f=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,lineWidth:f.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const n=": "+e.formattedValue;return Ae(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class va extends Ki{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:o=[],_dataset:c}=n,f=this.chart._animationsDisabled;let{start:p,count:m}=sI(n,o,f);this._drawStart=p,this._drawCount=m,oI(n)&&(p=0,m=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!c._decimated,r.points=o;const b=this.resolveDatasetElementOptions(t);this.options.showLine||(b.borderWidth=0),b.segment=this.options.segment,this.updateElement(r,void 0,{animated:!f,options:b},t),this.updateElements(o,p,m,t)}updateElements(t,n,r,o){const c=o==="reset",{iScale:f,vScale:p,_stacked:m,_dataset:b}=this._cachedMeta,{sharedOptions:y,includeOptions:S}=this._getSharedOptions(n,o),O=f.axis,L=p.axis,{spanGaps:D,segment:V}=this.options,z=xa(D)?D:Number.POSITIVE_INFINITY,H=this.chart._animationsDisabled||c||o==="none";let G=n>0&&this.getParsed(n-1);for(let $=n;$<n+r;++$){const Q=t[$],tt=this.getParsed($),Z=H?Q:{},at=ee(tt[L]),J=Z[O]=f.getPixelForValue(tt[O],$),dt=Z[L]=c||at?p.getBasePixel():p.getPixelForValue(m?this.applyStack(p,tt,m):tt[L],$);Z.skip=isNaN(J)||isNaN(dt)||at,Z.stop=$>0&&Math.abs(tt[O]-G[O])>z,V&&(Z.parsed=tt,Z.raw=b.data[$]),S&&(Z.options=y||this.resolveDataElementOptions($,Q.active?"active":o)),H||this.updateElement(Q,$,Z,o),G=tt}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,o=t.data||[];if(!o.length)return r;const c=o[0].size(this.resolveDataElementOptions(0)),f=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,c,f)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}va.id="line";va.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};va.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function sI(e,t,n){const r=t.length;let o=0,c=r;if(e._sorted){const{iScale:f,_parsed:p}=e,m=f.axis,{min:b,max:y,minDefined:S,maxDefined:O}=f.getUserBounds();S&&(o=ln(Math.min(Cr(p,f.axis,b).lo,n?r:Cr(t,m,f.getPixelForValue(b)).lo),0,r-1)),O?c=ln(Math.max(Cr(p,f.axis,y).hi+1,n?0:Cr(t,m,f.getPixelForValue(y)).hi+1),o,r)-o:c=r-o}return{start:o,count:c}}function oI(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,o={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=o,!0;const c=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,o),c}class Sc extends Ki{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,o=r.data.labels||[],c=Ta(n._parsed[t].r,r.options.locale);return{label:o[t]||"",value:c}}parseObjectData(t,n,r,o){return Sx.bind(this)(t,n,r,o)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,o)=>{const c=this.getParsed(o).r;!isNaN(c)&&this.chart.getDataVisibility(o)&&(c<n.min&&(n.min=c),c>n.max&&(n.max=c))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,o=Math.min(n.right-n.left,n.bottom-n.top),c=Math.max(o/2,0),f=Math.max(r.cutoutPercentage?c/100*r.cutoutPercentage:1,0),p=(c-f)/t.getVisibleDatasetCount();this.outerRadius=c-p*this.index,this.innerRadius=this.outerRadius-p}updateElements(t,n,r,o){const c=o==="reset",f=this.chart,m=f.options.animation,b=this._cachedMeta.rScale,y=b.xCenter,S=b.yCenter,O=b.getIndexAngle(0)-.5*Te;let L=O,D;const V=360/this.countVisibleElements();for(D=0;D<n;++D)L+=this._computeAngle(D,o,V);for(D=n;D<n+r;D++){const z=t[D];let H=L,G=L+this._computeAngle(D,o,V),$=f.getDataVisibility(D)?b.getDistanceFromCenterForValue(this.getParsed(D).r):0;L=G,c&&(m.animateScale&&($=0),m.animateRotate&&(H=G=O));const Q={x:y,y:S,innerRadius:0,outerRadius:$,startAngle:H,endAngle:G,options:this.resolveDataElementOptions(D,z.active?"active":o)};this.updateElement(z,D,Q,o)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?Oi(this.resolveDataElementOptions(t,n).angle||r):0}}Sc.id="polarArea";Sc.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Sc.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((r,o)=>{const f=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,lineWidth:f.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Pf extends uo{}Pf.id="pie";Pf.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Ic extends Ki{getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,o){return Sx.bind(this)(t,n,r,o)}update(t){const n=this._cachedMeta,r=n.dataset,o=n.data||[],c=n.iScale.getLabels();if(r.points=o,t!=="resize"){const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0);const p={_loop:!0,_fullLoop:c.length===o.length,options:f};this.updateElement(r,void 0,p,t)}this.updateElements(o,0,o.length,t)}updateElements(t,n,r,o){const c=this._cachedMeta.rScale,f=o==="reset";for(let p=n;p<n+r;p++){const m=t[p],b=this.resolveDataElementOptions(p,m.active?"active":o),y=c.getPointPositionForValue(p,this.getParsed(p).r),S=f?c.xCenter:y.x,O=f?c.yCenter:y.y,L={x:S,y:O,angle:y.angle,skip:isNaN(S)||isNaN(O),options:b};this.updateElement(m,p,L,o)}}}Ic.id="radar";Ic.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Ic.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Tc extends va{}Tc.id="scatter";Tc.defaults={showLine:!1,fill:!1};Tc.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var aI=Object.freeze({__proto__:null,BarController:Ec,BubbleController:Cc,DoughnutController:uo,LineController:va,PolarAreaController:Sc,PieController:Pf,RadarController:Ic,ScatterController:Tc});function ms(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gh{constructor(t){this.options=t||{}}formats(){return ms()}parse(t,n){return ms()}format(t,n){return ms()}add(t,n,r){return ms()}diff(t,n,r){return ms()}startOf(t,n,r){return ms()}endOf(t,n){return ms()}}Gh.override=function(e){Object.assign(Gh.prototype,e)};var lI={_date:Gh};function cI(e,t,n,r){const{controller:o,data:c,_sorted:f}=e,p=o._cachedMeta.iScale;if(p&&t===p.axis&&t!=="r"&&f&&c.length){const m=p._reversePixels?Z3:Cr;if(r){if(o._sharedOptions){const b=c[0],y=typeof b.getRange=="function"&&b.getRange(t);if(y){const S=m(c,t,n-y),O=m(c,t,n+y);return{lo:S.lo,hi:O.hi}}}}else return m(c,t,n)}return{lo:0,hi:c.length-1}}function Ma(e,t,n,r,o){const c=e.getSortedVisibleDatasetMetas(),f=n[t];for(let p=0,m=c.length;p<m;++p){const{index:b,data:y}=c[p],{lo:S,hi:O}=cI(c[p],t,f,o);for(let L=S;L<=O;++L){const D=y[L];D.skip||r(D,b,L)}}}function uI(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,o){const c=t?Math.abs(r.x-o.x):0,f=n?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(f,2))}}function mh(e,t,n,r,o){const c=[];return!o&&!e.isPointInArea(t)||Ma(e,n,t,function(p,m,b){!o&&!wa(p,e.chartArea,0)||p.inRange(t.x,t.y,r)&&c.push({element:p,datasetIndex:m,index:b})},!0),c}function hI(e,t,n,r){let o=[];function c(f,p,m){const{startAngle:b,endAngle:y}=f.getProps(["startAngle","endAngle"],r),{angle:S}=hx(f,{x:t.x,y:t.y});ma(S,b,y)&&o.push({element:f,datasetIndex:p,index:m})}return Ma(e,n,t,c),o}function fI(e,t,n,r,o,c){let f=[];const p=uI(n);let m=Number.POSITIVE_INFINITY;function b(y,S,O){const L=y.inRange(t.x,t.y,o);if(r&&!L)return;const D=y.getCenterPoint(o);if(!(!!c||e.isPointInArea(D))&&!L)return;const z=p(t,D);z<m?(f=[{element:y,datasetIndex:S,index:O}],m=z):z===m&&f.push({element:y,datasetIndex:S,index:O})}return Ma(e,n,t,b),f}function wh(e,t,n,r,o,c){return!c&&!e.isPointInArea(t)?[]:n==="r"&&!r?hI(e,t,n,o):fI(e,t,n,r,o,c)}function U1(e,t,n,r,o){const c=[],f=n==="x"?"inXRange":"inYRange";let p=!1;return Ma(e,n,t,(m,b,y)=>{m[f](t[n],o)&&(c.push({element:m,datasetIndex:b,index:y}),p=p||m.inRange(t.x,t.y,o))}),r&&!p?[]:c}var dI={evaluateInteractionItems:Ma,modes:{index(e,t,n,r){const o=_s(t,e),c=n.axis||"x",f=n.includeInvisible||!1,p=n.intersect?mh(e,o,c,r,f):wh(e,o,c,!1,r,f),m=[];return p.length?(e.getSortedVisibleDatasetMetas().forEach(b=>{const y=p[0].index,S=b.data[y];S&&!S.skip&&m.push({element:S,datasetIndex:b.index,index:y})}),m):[]},dataset(e,t,n,r){const o=_s(t,e),c=n.axis||"xy",f=n.includeInvisible||!1;let p=n.intersect?mh(e,o,c,r,f):wh(e,o,c,!1,r,f);if(p.length>0){const m=p[0].datasetIndex,b=e.getDatasetMeta(m).data;p=[];for(let y=0;y<b.length;++y)p.push({element:b[y],datasetIndex:m,index:y})}return p},point(e,t,n,r){const o=_s(t,e),c=n.axis||"xy",f=n.includeInvisible||!1;return mh(e,o,c,r,f)},nearest(e,t,n,r){const o=_s(t,e),c=n.axis||"xy",f=n.includeInvisible||!1;return wh(e,o,c,n.intersect,r,f)},x(e,t,n,r){const o=_s(t,e);return U1(e,o,"x",n.intersect,r)},y(e,t,n,r){const o=_s(t,e);return U1(e,o,"y",n.intersect,r)}}};const Bx=["left","top","right","bottom"];function Qo(e,t){return e.filter(n=>n.pos===t)}function z1(e,t){return e.filter(n=>Bx.indexOf(n.pos)===-1&&n.box.axis===t)}function Jo(e,t){return e.sort((n,r)=>{const o=t?r:n,c=t?n:r;return o.weight===c.weight?o.index-c.index:o.weight-c.weight})}function gI(e){const t=[];let n,r,o,c,f,p;for(n=0,r=(e||[]).length;n<r;++n)o=e[n],{position:c,options:{stack:f,stackWeight:p=1}}=o,t.push({index:n,box:o,pos:c,horizontal:o.isHorizontal(),weight:o.weight,stack:f&&c+f,stackWeight:p});return t}function pI(e){const t={};for(const n of e){const{stack:r,pos:o,stackWeight:c}=n;if(!r||!Bx.includes(o))continue;const f=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});f.count++,f.weight+=c}return t}function xI(e,t){const n=pI(e),{vBoxMaxWidth:r,hBoxMaxHeight:o}=t;let c,f,p;for(c=0,f=e.length;c<f;++c){p=e[c];const{fullSize:m}=p.box,b=n[p.stack],y=b&&p.stackWeight/b.weight;p.horizontal?(p.width=y?y*r:m&&t.availableWidth,p.height=o):(p.width=r,p.height=y?y*o:m&&t.availableHeight)}return n}function mI(e){const t=gI(e),n=Jo(t.filter(b=>b.box.fullSize),!0),r=Jo(Qo(t,"left"),!0),o=Jo(Qo(t,"right")),c=Jo(Qo(t,"top"),!0),f=Jo(Qo(t,"bottom")),p=z1(t,"x"),m=z1(t,"y");return{fullSize:n,leftAndTop:r.concat(c),rightAndBottom:o.concat(m).concat(f).concat(p),chartArea:Qo(t,"chartArea"),vertical:r.concat(o).concat(m),horizontal:c.concat(f).concat(p)}}function W1(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function kx(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function wI(e,t,n,r){const{pos:o,box:c}=n,f=e.maxPadding;if(!Gt(o)){n.size&&(e[o]-=n.size);const S=r[n.stack]||{size:0,count:1};S.size=Math.max(S.size,n.horizontal?c.height:c.width),n.size=S.size/S.count,e[o]+=n.size}c.getPadding&&kx(f,c.getPadding());const p=Math.max(0,t.outerWidth-W1(f,e,"left","right")),m=Math.max(0,t.outerHeight-W1(f,e,"top","bottom")),b=p!==e.w,y=m!==e.h;return e.w=p,e.h=m,n.horizontal?{same:b,other:y}:{same:y,other:b}}function _I(e){const t=e.maxPadding;function n(r){const o=Math.max(t[r]-e[r],0);return e[r]+=o,o}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function bI(e,t){const n=t.maxPadding;function r(o){const c={left:0,top:0,right:0,bottom:0};return o.forEach(f=>{c[f]=Math.max(t[f],n[f])}),c}return r(e?["left","right"]:["top","bottom"])}function sa(e,t,n,r){const o=[];let c,f,p,m,b,y;for(c=0,f=e.length,b=0;c<f;++c){p=e[c],m=p.box,m.update(p.width||t.w,p.height||t.h,bI(p.horizontal,t));const{same:S,other:O}=wI(t,n,p,r);b|=S&&o.length,y=y||O,m.fullSize||o.push(p)}return b&&sa(o,t,n,r)||y}function Rl(e,t,n,r,o){e.top=n,e.left=t,e.right=t+r,e.bottom=n+o,e.width=r,e.height=o}function H1(e,t,n,r){const o=n.padding;let{x:c,y:f}=t;for(const p of e){const m=p.box,b=r[p.stack]||{count:1,placed:0,weight:1},y=p.stackWeight/b.weight||1;if(p.horizontal){const S=t.w*y,O=b.size||m.height;pi(b.start)&&(f=b.start),m.fullSize?Rl(m,o.left,f,n.outerWidth-o.right-o.left,O):Rl(m,t.left+b.placed,f,S,O),b.start=f,b.placed+=S,f=m.bottom}else{const S=t.h*y,O=b.size||m.width;pi(b.start)&&(c=b.start),m.fullSize?Rl(m,c,o.top,O,n.outerHeight-o.bottom-o.top):Rl(m,c,t.top+b.placed,O,S),b.start=c,b.placed+=S,c=m.right}}t.x=c,t.y=f}Kt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var In={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const o=Tn(e.options.layout.padding),c=Math.max(t-o.width,0),f=Math.max(n-o.height,0),p=mI(e.boxes),m=p.vertical,b=p.horizontal;ue(e.boxes,V=>{typeof V.beforeLayout=="function"&&V.beforeLayout()});const y=m.reduce((V,z)=>z.box.options&&z.box.options.display===!1?V:V+1,0)||1,S=Object.freeze({outerWidth:t,outerHeight:n,padding:o,availableWidth:c,availableHeight:f,vBoxMaxWidth:c/2/y,hBoxMaxHeight:f/2}),O=Object.assign({},o);kx(O,Tn(r));const L=Object.assign({maxPadding:O,w:c,h:f,x:o.left,y:o.top},o),D=xI(m.concat(b),S);sa(p.fullSize,L,S,D),sa(m,L,S,D),sa(b,L,S,D)&&sa(m,L,S,D),_I(L),H1(p.leftAndTop,L,S,D),L.x+=L.w,L.y+=L.h,H1(p.rightAndBottom,L,S,D),e.chartArea={left:L.left,top:L.top,right:L.left+L.w,bottom:L.top+L.h,height:L.h,width:L.w},ue(p.chartArea,V=>{const z=V.box;Object.assign(z,e.chartArea),z.update(L.w,L.h,{left:0,top:0,right:0,bottom:0})})}};class Fx{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,o){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,o?Math.floor(n/o):r)}}isAttached(t){return!0}updateConfig(t){}}class AI extends Fx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Hl="$chartjs",yI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},V1=e=>e===null||e==="";function EI(e,t){const n=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e[Hl]={initial:{height:r,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",V1(o)){const c=C1(e,"width");c!==void 0&&(e.width=c)}if(V1(r))if(e.style.height==="")e.height=e.width/(t||2);else{const c=C1(e,"height");c!==void 0&&(e.height=c)}return e}const Ux=_S?{passive:!0}:!1;function CI(e,t,n){e.addEventListener(t,n,Ux)}function SI(e,t,n){e.canvas.removeEventListener(t,n,Ux)}function II(e,t){const n=yI[e.type]||e.type,{x:r,y:o}=_s(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:o!==void 0?o:null}}function Jl(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function TI(e,t,n){const r=e.canvas,o=new MutationObserver(c=>{let f=!1;for(const p of c)f=f||Jl(p.addedNodes,r),f=f&&!Jl(p.removedNodes,r);f&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function vI(e,t,n){const r=e.canvas,o=new MutationObserver(c=>{let f=!1;for(const p of c)f=f||Jl(p.removedNodes,r),f=f&&!Jl(p.addedNodes,r);f&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const ba=new Map;let j1=0;function zx(){const e=window.devicePixelRatio;e!==j1&&(j1=e,ba.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function MI(e,t){ba.size||window.addEventListener("resize",zx),ba.set(e,t)}function OI(e){ba.delete(e),ba.size||window.removeEventListener("resize",zx)}function NI(e,t,n){const r=e.canvas,o=r&&Lf(r);if(!o)return;const c=ax((p,m)=>{const b=o.clientWidth;n(p,m),b<o.clientWidth&&n()},window),f=new ResizeObserver(p=>{const m=p[0],b=m.contentRect.width,y=m.contentRect.height;b===0&&y===0||c(b,y)});return f.observe(o),MI(e,c),f}function _h(e,t,n){n&&n.disconnect(),t==="resize"&&OI(e)}function RI(e,t,n){const r=e.canvas,o=ax(c=>{e.ctx!==null&&n(II(c,e))},e,c=>{const f=c[0];return[f,f.offsetX,f.offsetY]});return CI(r,t,o),o}class DI extends Fx{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(EI(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Hl])return!1;const r=n[Hl].initial;["height","width"].forEach(c=>{const f=r[c];ee(f)?n.removeAttribute(c):n.setAttribute(c,f)});const o=r.style||{};return Object.keys(o).forEach(c=>{n.style[c]=o[c]}),n.width=n.width,delete n[Hl],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const o=t.$proxies||(t.$proxies={}),f={attach:TI,detach:vI,resize:NI}[n]||RI;o[n]=f(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),o=r[n];if(!o)return;({attach:_h,detach:_h,resize:_h}[n]||SI)(t,n,o),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,o){return wS(t,n,r,o)}isAttached(t){const n=Lf(t);return!!(n&&n.isConnected)}}function LI(e){return!Tx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?AI:DI}class Di{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return xa(this.x)&&xa(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const o={};return t.forEach(c=>{o[c]=r[c]&&r[c].active()?r[c]._to:this[c]}),o}}Di.defaults={};Di.defaultRoutes=void 0;const Wx={values(e){return Ae(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let o,c=e;if(n.length>1){const b=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(b<1e-4||b>1e15)&&(o="scientific"),c=PI(e,n)}const f=gi(Math.abs(c)),p=Math.max(Math.min(-1*Math.floor(f),20),0),m={notation:o,minimumFractionDigits:p,maximumFractionDigits:p};return Object.assign(m,this.options.ticks.format),Ta(e,r,m)},logarithmic(e,t,n){if(e===0)return"0";const r=e/Math.pow(10,Math.floor(gi(e)));return r===1||r===2||r===5?Wx.numeric.call(this,e,t,n):""}};function PI(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var vc={formatters:Wx};Kt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Kt.route("scale.ticks","color","","color");Kt.route("scale.grid","color","","borderColor");Kt.route("scale.grid","borderColor","","borderColor");Kt.route("scale.title","color","","color");Kt.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});Kt.describe("scales",{_fallback:"scale"});Kt.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function BI(e,t){const n=e.options.ticks,r=n.maxTicksLimit||kI(e),o=n.major.enabled?UI(t):[],c=o.length,f=o[0],p=o[c-1],m=[];if(c>r)return zI(t,m,o,c/r),m;const b=FI(o,t,r);if(c>0){let y,S;const O=c>1?Math.round((p-f)/(c-1)):null;for(Dl(t,m,b,ee(O)?0:f-O,f),y=0,S=c-1;y<S;y++)Dl(t,m,b,o[y],o[y+1]);return Dl(t,m,b,p,ee(O)?t.length:p+O),m}return Dl(t,m,b),m}function kI(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),o=e._maxLength/n;return Math.floor(Math.min(r,o))}function FI(e,t,n){const r=WI(e),o=t.length/n;if(!r)return Math.max(o,1);const c=u3(r);for(let f=0,p=c.length-1;f<p;f++){const m=c[f];if(m>o)return m}return Math.max(o,1)}function UI(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function zI(e,t,n,r){let o=0,c=n[0],f;for(r=Math.ceil(r),f=0;f<e.length;f++)f===c&&(t.push(e[f]),o++,c=n[o*r])}function Dl(e,t,n,r,o){const c=kt(r,0),f=Math.min(kt(o,e.length),e.length);let p=0,m,b,y;for(n=Math.ceil(n),o&&(m=o-r,n=m/Math.floor(m/n)),y=c;y<0;)p++,y=Math.round(c+p*n);for(b=Math.max(c,0);b<f;b++)b===y&&(t.push(e[b]),p++,y=Math.round(c+p*n))}function WI(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const HI=e=>e==="left"?"right":e==="right"?"left":e,Y1=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n;function G1(e,t){const n=[],r=e.length/t,o=e.length;let c=0;for(;c<o;c+=r)n.push(e[Math.floor(c)]);return n}function VI(e,t,n){const r=e.ticks.length,o=Math.min(t,r-1),c=e._startPixel,f=e._endPixel,p=1e-6;let m=e.getPixelForTick(o),b;if(!(n&&(r===1?b=Math.max(m-c,f-m):t===0?b=(e.getPixelForTick(1)-m)/2:b=(m-e.getPixelForTick(o-1))/2,m+=o<t?b:-b,m<c-p||m>f+p)))return m}function jI(e,t){ue(e,n=>{const r=n.gc,o=r.length/2;let c;if(o>t){for(c=0;c<o;++c)delete n.data[r[c]];r.splice(0,o)}})}function $o(e){return e.drawTicks?e.tickLength:0}function X1(e,t){if(!e.display)return 0;const n=tn(e.font,t),r=Tn(e.padding);return(Ae(e.text)?e.text.length:1)*n.lineHeight+r.height}function YI(e,t){return $r(e,{scale:t,type:"scale"})}function GI(e,t,n){return $r(e,{tick:n,index:t,type:"tick"})}function XI(e,t,n){let r=Ef(e);return(n&&t!=="right"||!n&&t==="right")&&(r=HI(r)),r}function ZI(e,t,n,r){const{top:o,left:c,bottom:f,right:p,chart:m}=e,{chartArea:b,scales:y}=m;let S=0,O,L,D;const V=f-o,z=p-c;if(e.isHorizontal()){if(L=Sn(r,c,p),Gt(n)){const H=Object.keys(n)[0],G=n[H];D=y[H].getPixelForValue(G)+V-t}else n==="center"?D=(b.bottom+b.top)/2+V-t:D=Y1(e,n,t);O=p-c}else{if(Gt(n)){const H=Object.keys(n)[0],G=n[H];L=y[H].getPixelForValue(G)-z+t}else n==="center"?L=(b.left+b.right)/2-z+t:L=Y1(e,n,t);D=Sn(r,f,o),S=n==="left"?-ke:ke}return{titleX:L,titleY:D,maxWidth:O,rotation:S}}class Ms extends Di{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:o}=this;return t=hi(t,Number.POSITIVE_INFINITY),n=hi(n,Number.NEGATIVE_INFINITY),r=hi(r,Number.POSITIVE_INFINITY),o=hi(o,Number.NEGATIVE_INFINITY),{min:hi(t,r),max:hi(n,o),minDefined:He(t),maxDefined:He(n)}}getMinMax(t){let{min:n,max:r,minDefined:o,maxDefined:c}=this.getUserBounds(),f;if(o&&c)return{min:n,max:r};const p=this.getMatchingVisibleMetas();for(let m=0,b=p.length;m<b;++m)f=p[m].controller.getMinMax(this,t),o||(n=Math.min(n,f.min)),c||(r=Math.max(r,f.max));return n=c&&n>r?r:n,r=o&&n>r?n:r,{min:hi(n,hi(r,n)),max:hi(r,hi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:o,grace:c,ticks:f}=this.options,p=f.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=X3(this,c,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=p<this.ticks.length;this._convertTicksToLabels(m?G1(this.ticks,p):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),f.display&&(f.autoSkip||f.source==="auto")&&(this.ticks=BI(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,o,c;for(r=0,o=t.length;r<o;r++)c=t[r],c.label=be(n.callback,[c.value,r,t],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=this.ticks.length,o=n.minRotation||0,c=n.maxRotation;let f=o,p,m,b;if(!this._isVisible()||!n.display||o>=c||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const y=this._getLabelSizes(),S=y.widest.width,O=y.highest.height,L=ln(this.chart.width-S,0,this.maxWidth);p=t.offset?this.maxWidth/r:L/(r-1),S+6>p&&(p=L/(r-(t.offset?.5:1)),m=this.maxHeight-$o(t.grid)-n.padding-X1(t.title,this.chart.options.font),b=Math.sqrt(S*S+O*O),f=Sf(Math.min(Math.asin(ln((y.highest.height+6)/p,-1,1)),Math.asin(ln(m/b,-1,1))-Math.asin(ln(O/b,-1,1)))),f=Math.max(o,Math.min(c,f))),this.labelRotation=f}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:o,grid:c}}=this,f=this._isVisible(),p=this.isHorizontal();if(f){const m=X1(o,n.options.font);if(p?(t.width=this.maxWidth,t.height=$o(c)+m):(t.height=this.maxHeight,t.width=$o(c)+m),r.display&&this.ticks.length){const{first:b,last:y,widest:S,highest:O}=this._getLabelSizes(),L=r.padding*2,D=Oi(this.labelRotation),V=Math.cos(D),z=Math.sin(D);if(p){const H=r.mirror?0:z*S.width+V*O.height;t.height=Math.min(this.maxHeight,t.height+H+L)}else{const H=r.mirror?0:V*S.width+z*O.height;t.width=Math.min(this.maxWidth,t.width+H+L)}this._calculatePadding(b,y,z,V)}}this._handleMargins(),p?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,o){const{ticks:{align:c,padding:f},position:p}=this.options,m=this.labelRotation!==0,b=p!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,S=this.right-this.getPixelForTick(this.ticks.length-1);let O=0,L=0;m?b?(O=o*t.width,L=r*n.height):(O=r*t.height,L=o*n.width):c==="start"?L=n.width:c==="end"?O=t.width:c!=="inner"&&(O=t.width/2,L=n.width/2),this.paddingLeft=Math.max((O-y+f)*this.width/(this.width-y),0),this.paddingRight=Math.max((L-S+f)*this.width/(this.width-S),0)}else{let y=n.height/2,S=t.height/2;c==="start"?(y=0,S=t.height):c==="end"&&(y=n.height,S=0),this.paddingTop=y+f,this.paddingBottom=S+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)ee(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=G1(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length)}return t}_computeLabelSizes(t,n){const{ctx:r,_longestTextCache:o}=this,c=[],f=[];let p=0,m=0,b,y,S,O,L,D,V,z,H,G,$;for(b=0;b<n;++b){if(O=t[b].label,L=this._resolveTickFontOptions(b),r.font=D=L.string,V=o[D]=o[D]||{data:{},gc:[]},z=L.lineHeight,H=G=0,!ee(O)&&!Ae(O))H=ql(r,V.data,V.gc,H,O),G=z;else if(Ae(O))for(y=0,S=O.length;y<S;++y)$=O[y],!ee($)&&!Ae($)&&(H=ql(r,V.data,V.gc,H,$),G+=z);c.push(H),f.push(G),p=Math.max(H,p),m=Math.max(G,m)}jI(o,n);const Q=c.indexOf(p),tt=f.indexOf(m),Z=at=>({width:c[at]||0,height:f[at]||0});return{first:Z(0),last:Z(n-1),widest:Z(Q),highest:Z(tt),widths:c,heights:f}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return d3(this._alignToPixels?xs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=GI(this.getContext(),t,r))}return this.$context||(this.$context=YI(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Oi(this.labelRotation),r=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),c=this._getLabelSizes(),f=t.autoSkipPadding||0,p=c?c.widest.width+f:0,m=c?c.highest.height+f:0;return this.isHorizontal()?m*r>p*o?p/r:m/o:m*o<p*r?m/r:p/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,o=this.options,{grid:c,position:f}=o,p=c.offset,m=this.isHorizontal(),y=this.ticks.length+(p?1:0),S=$o(c),O=[],L=c.setContext(this.getContext()),D=L.drawBorder?L.borderWidth:0,V=D/2,z=function(Et){return xs(r,Et,D)};let H,G,$,Q,tt,Z,at,J,dt,yt,ut,gt;if(f==="top")H=z(this.bottom),Z=this.bottom-S,J=H-V,yt=z(t.top)+V,gt=t.bottom;else if(f==="bottom")H=z(this.top),yt=t.top,gt=z(t.bottom)-V,Z=H+V,J=this.top+S;else if(f==="left")H=z(this.right),tt=this.right-S,at=H-V,dt=z(t.left)+V,ut=t.right;else if(f==="right")H=z(this.left),dt=t.left,ut=z(t.right)-V,tt=H+V,at=this.left+S;else if(n==="x"){if(f==="center")H=z((t.top+t.bottom)/2+.5);else if(Gt(f)){const Et=Object.keys(f)[0],pt=f[Et];H=z(this.chart.scales[Et].getPixelForValue(pt))}yt=t.top,gt=t.bottom,Z=H+V,J=Z+S}else if(n==="y"){if(f==="center")H=z((t.left+t.right)/2);else if(Gt(f)){const Et=Object.keys(f)[0],pt=f[Et];H=z(this.chart.scales[Et].getPixelForValue(pt))}tt=H-V,at=tt-S,dt=t.left,ut=t.right}const Rt=kt(o.ticks.maxTicksLimit,y),et=Math.max(1,Math.ceil(y/Rt));for(G=0;G<y;G+=et){const Et=c.setContext(this.getContext(G)),pt=Et.lineWidth,Ze=Et.color,ye=c.borderDash||[],dn=Et.borderDashOffset,Ln=Et.tickWidth,ne=Et.tickColor,gn=Et.tickBorderDash||[],ve=Et.tickBorderDashOffset;$=VI(this,G,p),$!==void 0&&(Q=xs(r,$,pt),m?tt=at=dt=ut=Q:Z=J=yt=gt=Q,O.push({tx1:tt,ty1:Z,tx2:at,ty2:J,x1:dt,y1:yt,x2:ut,y2:gt,width:pt,color:Ze,borderDash:ye,borderDashOffset:dn,tickWidth:Ln,tickColor:ne,tickBorderDash:gn,tickBorderDashOffset:ve}))}return this._ticksLength=y,this._borderValue=H,O}_computeLabelItems(t){const n=this.axis,r=this.options,{position:o,ticks:c}=r,f=this.isHorizontal(),p=this.ticks,{align:m,crossAlign:b,padding:y,mirror:S}=c,O=$o(r.grid),L=O+y,D=S?-y:L,V=-Oi(this.labelRotation),z=[];let H,G,$,Q,tt,Z,at,J,dt,yt,ut,gt,Rt="middle";if(o==="top")Z=this.bottom-D,at=this._getXAxisLabelAlignment();else if(o==="bottom")Z=this.top+D,at=this._getXAxisLabelAlignment();else if(o==="left"){const Et=this._getYAxisLabelAlignment(O);at=Et.textAlign,tt=Et.x}else if(o==="right"){const Et=this._getYAxisLabelAlignment(O);at=Et.textAlign,tt=Et.x}else if(n==="x"){if(o==="center")Z=(t.top+t.bottom)/2+L;else if(Gt(o)){const Et=Object.keys(o)[0],pt=o[Et];Z=this.chart.scales[Et].getPixelForValue(pt)+L}at=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")tt=(t.left+t.right)/2-L;else if(Gt(o)){const Et=Object.keys(o)[0],pt=o[Et];tt=this.chart.scales[Et].getPixelForValue(pt)}at=this._getYAxisLabelAlignment(O).textAlign}n==="y"&&(m==="start"?Rt="top":m==="end"&&(Rt="bottom"));const et=this._getLabelSizes();for(H=0,G=p.length;H<G;++H){$=p[H],Q=$.label;const Et=c.setContext(this.getContext(H));J=this.getPixelForTick(H)+c.labelOffset,dt=this._resolveTickFontOptions(H),yt=dt.lineHeight,ut=Ae(Q)?Q.length:1;const pt=ut/2,Ze=Et.color,ye=Et.textStrokeColor,dn=Et.textStrokeWidth;let Ln=at;f?(tt=J,at==="inner"&&(H===G-1?Ln=this.options.reverse?"left":"right":H===0?Ln=this.options.reverse?"right":"left":Ln="center"),o==="top"?b==="near"||V!==0?gt=-ut*yt+yt/2:b==="center"?gt=-et.highest.height/2-pt*yt+yt:gt=-et.highest.height+yt/2:b==="near"||V!==0?gt=yt/2:b==="center"?gt=et.highest.height/2-pt*yt:gt=et.highest.height-ut*yt,S&&(gt*=-1)):(Z=J,gt=(1-ut)*yt/2);let ne;if(Et.showLabelBackdrop){const gn=Tn(Et.backdropPadding),ve=et.heights[H],qi=et.widths[H];let bt=Z+gt-gn.top,ti=tt-gn.left;switch(Rt){case"middle":bt-=ve/2;break;case"bottom":bt-=ve;break}switch(at){case"center":ti-=qi/2;break;case"right":ti-=qi;break}ne={left:ti,top:bt,width:qi+gn.width,height:ve+gn.height,color:Et.backdropColor}}z.push({rotation:V,label:Q,font:dt,color:Ze,strokeColor:ye,strokeWidth:dn,textOffset:gt,textAlign:Ln,textBaseline:Rt,translation:[tt,Z],backdrop:ne})}return z}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Oi(this.labelRotation))return t==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:o,padding:c}}=this.options,f=this._getLabelSizes(),p=t+c,m=f.widest.width;let b,y;return n==="left"?o?(y=this.right+c,r==="near"?b="left":r==="center"?(b="center",y+=m/2):(b="right",y+=m)):(y=this.right-p,r==="near"?b="right":r==="center"?(b="center",y-=m/2):(b="left",y=this.left)):n==="right"?o?(y=this.left+c,r==="near"?b="right":r==="center"?(b="center",y-=m/2):(b="left",y-=m)):(y=this.left+p,r==="near"?b="left":r==="center"?(b="center",y+=m/2):(b="right",y=this.right)):b="right",{textAlign:b,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:o,width:c,height:f}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,o,c,f),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(c=>c.value===t);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let c,f;const p=(m,b,y)=>{!y.width||!y.color||(r.save(),r.lineWidth=y.width,r.strokeStyle=y.color,r.setLineDash(y.borderDash||[]),r.lineDashOffset=y.borderDashOffset,r.beginPath(),r.moveTo(m.x,m.y),r.lineTo(b.x,b.y),r.stroke(),r.restore())};if(n.display)for(c=0,f=o.length;c<f;++c){const m=o[c];n.drawOnChartArea&&p({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),n.drawTicks&&p({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{grid:r}}=this,o=r.setContext(this.getContext()),c=r.drawBorder?o.borderWidth:0;if(!c)return;const f=r.setContext(this.getContext(0)).lineWidth,p=this._borderValue;let m,b,y,S;this.isHorizontal()?(m=xs(t,this.left,c)-c/2,b=xs(t,this.right,f)+f/2,y=S=p):(y=xs(t,this.top,c)-c/2,S=xs(t,this.bottom,f)+f/2,m=b=p),n.save(),n.lineWidth=o.borderWidth,n.strokeStyle=o.borderColor,n.beginPath(),n.moveTo(m,y),n.lineTo(b,S),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&bc(r,o);const c=this._labelItems||(this._labelItems=this._computeLabelItems(t));let f,p;for(f=0,p=c.length;f<p;++f){const m=c[f],b=m.font,y=m.label;m.backdrop&&(r.fillStyle=m.backdrop.color,r.fillRect(m.backdrop.left,m.backdrop.top,m.backdrop.width,m.backdrop.height));let S=m.textOffset;vs(r,y,0,S,b,m)}o&&Ac(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:o}}=this;if(!r.display)return;const c=tn(r.font),f=Tn(r.padding),p=r.align;let m=c.lineHeight/2;n==="bottom"||n==="center"||Gt(n)?(m+=f.bottom,Ae(r.text)&&(m+=c.lineHeight*(r.text.length-1))):m+=f.top;const{titleX:b,titleY:y,maxWidth:S,rotation:O}=ZI(this,m,n,p);vs(t,r.text,0,0,c,{color:r.color,maxWidth:S,rotation:O,textAlign:XI(p,n,o),textBaseline:"middle",translation:[b,y]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=kt(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Ms.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let c,f;for(c=0,f=n.length;c<f;++c){const p=n[c];p[r]===this.id&&(!t||p.type===t)&&o.push(p)}return o}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return tn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ll{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;QI(n)&&(r=this.register(n));const o=this.items,c=t.id,f=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+t);return c in o||(o[c]=t,KI(t,f,r),this.override&&Kt.override(t.id,t.overrides)),f}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,o=this.scope;r in n&&delete n[r],o&&r in Kt[o]&&(delete Kt[o][r],this.override&&delete Ts[r])}}function KI(e,t,n){const r=pa(Object.create(null),[n?Kt.get(n):{},Kt.get(t),e.defaults]);Kt.set(t,r),e.defaultRoutes&&qI(t,e.defaultRoutes),e.descriptors&&Kt.describe(t,e.descriptors)}function qI(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),o=r.pop(),c=[e].concat(r).join("."),f=t[n].split("."),p=f.pop(),m=f.join(".");Kt.route(c,o,m,p)})}function QI(e){return"id"in e&&"defaults"in e}class JI{constructor(){this.controllers=new Ll(Ki,"datasets",!0),this.elements=new Ll(Di,"elements"),this.plugins=new Ll(Object,"plugins"),this.scales=new Ll(Ms,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(o=>{const c=r||this._getRegistryForType(o);r||c.isForType(o)||c===this.plugins&&o.id?this._exec(t,c,o):ue(o,f=>{const p=r||this._getRegistryForType(f);this._exec(t,p,f)})})}_exec(t,n,r){const o=Cf(t);be(r["before"+o],[],r),n[t](r),be(r["after"+o],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const o=n.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return o}}var Sr=new JI;class $I{constructor(){this._init=[]}notify(t,n,r,o){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const c=o?this._descriptors(t).filter(o):this._descriptors(t),f=this._notify(c,t,n,r);return n==="afterDestroy"&&(this._notify(c,t,"stop"),this._notify(this._init,t,"uninstall")),f}_notify(t,n,r,o){o=o||{};for(const c of t){const f=c.plugin,p=f[r],m=[n,o,c.options];if(be(p,m,f)===!1&&o.cancelable)return!1}return!0}invalidate(){ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,o=kt(r.options&&r.options.plugins,{}),c=t8(r);return o===!1&&!n?[]:n8(t,c,o,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,o=(c,f)=>c.filter(p=>!f.some(m=>p.plugin.id===m.plugin.id));this._notify(o(n,r),t,"stop"),this._notify(o(r,n),t,"start")}}function t8(e){const t={},n=[],r=Object.keys(Sr.plugins.items);for(let c=0;c<r.length;c++)n.push(Sr.getPlugin(r[c]));const o=e.plugins||[];for(let c=0;c<o.length;c++){const f=o[c];n.indexOf(f)===-1&&(n.push(f),t[f.id]=!0)}return{plugins:n,localIds:t}}function e8(e,t){return!t&&e===!1?null:e===!0?{}:e}function n8(e,{plugins:t,localIds:n},r,o){const c=[],f=e.getContext();for(const p of t){const m=p.id,b=e8(r[m],o);b!==null&&c.push({plugin:p,options:i8(e.config,{plugin:p,local:n[m]},b,f)})}return c}function i8(e,{plugin:t,local:n},r,o){const c=e.pluginScopeKeys(t),f=e.getOptionScopes(r,c);return n&&t.defaults&&f.push(t.defaults),e.createResolver(f,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xh(e,t){const n=Kt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function r8(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function s8(e,t){return e===t?"_index_":"_value_"}function o8(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Zh(e,t){return e==="x"||e==="y"?e:t.axis||o8(t.position)||e.charAt(0).toLowerCase()}function a8(e,t){const n=Ts[e.type]||{scales:{}},r=t.scales||{},o=Xh(e.type,t),c=Object.create(null),f=Object.create(null);return Object.keys(r).forEach(p=>{const m=r[p];if(!Gt(m))return console.error(`Invalid scale configuration for scale: ${p}`);if(m._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${p}`);const b=Zh(p,m),y=s8(b,o),S=n.scales||{};c[b]=c[b]||p,f[p]=ca(Object.create(null),[{axis:b},m,S[b],S[y]])}),e.data.datasets.forEach(p=>{const m=p.type||e.type,b=p.indexAxis||Xh(m,t),S=(Ts[m]||{}).scales||{};Object.keys(S).forEach(O=>{const L=r8(O,b),D=p[L+"AxisID"]||c[L]||L;f[D]=f[D]||Object.create(null),ca(f[D],[{axis:L},r[D],S[O]])})}),Object.keys(f).forEach(p=>{const m=f[p];ca(m,[Kt.scales[m.type],Kt.scale])}),f}function Hx(e){const t=e.options||(e.options={});t.plugins=kt(t.plugins,{}),t.scales=a8(e,t)}function Vx(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function l8(e){return e=e||{},e.data=Vx(e.data),Hx(e),e}const Z1=new Map,jx=new Set;function Pl(e,t){let n=Z1.get(e);return n||(n=t(),Z1.set(e,n),jx.add(n)),n}const ta=(e,t,n)=>{const r=qr(t,n);r!==void 0&&e.add(r)};class c8{constructor(t){this._config=l8(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Vx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Hx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Pl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Pl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Pl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Pl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let o=r.get(t);return(!o||n)&&(o=new Map,r.set(t,o)),o}getOptionScopes(t,n,r){const{options:o,type:c}=this,f=this._cachedScopes(t,r),p=f.get(n);if(p)return p;const m=new Set;n.forEach(y=>{t&&(m.add(t),y.forEach(S=>ta(m,t,S))),y.forEach(S=>ta(m,o,S)),y.forEach(S=>ta(m,Ts[c]||{},S)),y.forEach(S=>ta(m,Kt,S)),y.forEach(S=>ta(m,jh,S))});const b=Array.from(m);return b.length===0&&b.push(Object.create(null)),jx.has(n)&&f.set(n,b),b}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ts[n]||{},Kt.datasets[n]||{},{type:n},Kt,jh]}resolveNamedOptions(t,n,r,o=[""]){const c={$shared:!0},{resolver:f,subPrefixes:p}=K1(this._resolverCache,t,o);let m=f;if(h8(f,n)){c.$shared=!1,r=Qr(r)?r():r;const b=this.createResolver(t,r,p);m=oo(f,r,b)}for(const b of n)c[b]=m[b];return c}createResolver(t,n,r=[""],o){const{resolver:c}=K1(this._resolverCache,t,r);return Gt(n)?oo(c,n,void 0,o):c}}function K1(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const o=n.join();let c=r.get(o);return c||(c={resolver:Nf(t,n),subPrefixes:n.filter(p=>!p.toLowerCase().includes("hover"))},r.set(o,c)),c}const u8=e=>Gt(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||Qr(e[n]),!1);function h8(e,t){const{isScriptable:n,isIndexable:r}=Ax(e);for(const o of t){const c=n(o),f=r(o),p=(f||c)&&e[o];if(c&&(Qr(p)||u8(p))||f&&Ae(p))return!0}return!1}var f8="3.8.2";const d8=["top","bottom","left","right","chartArea"];function q1(e,t){return e==="top"||e==="bottom"||d8.indexOf(e)===-1&&t==="x"}function Q1(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function J1(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),be(n&&n.onComplete,[e],t)}function g8(e){const t=e.chart,n=t.options.animation;be(n&&n.onProgress,[e],t)}function Yx(e){return Tx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const $l={},Gx=e=>{const t=Yx(e);return Object.values($l).filter(n=>n.canvas===t).pop()};function p8(e,t,n){const r=Object.keys(e);for(const o of r){const c=+o;if(c>=t){const f=e[o];delete e[o],(n>0||c>t)&&(e[c+n]=f)}}}function x8(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}class Mc{constructor(t,n){const r=this.config=new c8(n),o=Yx(t),c=Gx(o);if(c)throw new Error("Canvas is already in use. Chart with ID '"+c.id+"' must be destroyed before the canvas with ID '"+c.canvas.id+"' can be reused.");const f=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||LI(o)),this.platform.updateConfig(r);const p=this.platform.acquireContext(o,f.aspectRatio),m=p&&p.canvas,b=m&&m.height,y=m&&m.width;if(this.id=e3(),this.ctx=p,this.canvas=m,this.width=y,this.height=b,this._options=f,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $I,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$C(S=>this.update(S),f.resizeDelay||0),this._dataChanges=[],$l[this.id]=this,!p||!m){console.error("Failed to create chart: can't acquire context from the given item");return}br.listen(this,"complete",J1),br.listen(this,"progress",g8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:o,_aspectRatio:c}=this;return ee(t)?n&&c?c:o?r/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():E1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _1(this.canvas,this.ctx),this}stop(){return br.stop(this),this}resize(t,n){br.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,o=this.canvas,c=r.maintainAspectRatio&&this.aspectRatio,f=this.platform.getMaximumSize(o,t,n,c),p=r.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=f.width,this.height=f.height,this._aspectRatio=this.aspectRatio,E1(this,p,!0)&&(this.notifyPlugins("resize",{size:f}),be(r.onResize,[this,f],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ue(n,(r,o)=>{r.id=o})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,o=Object.keys(r).reduce((f,p)=>(f[p]=!1,f),{});let c=[];n&&(c=c.concat(Object.keys(n).map(f=>{const p=n[f],m=Zh(f,p),b=m==="r",y=m==="x";return{options:p,dposition:b?"chartArea":y?"bottom":"left",dtype:b?"radialLinear":y?"category":"linear"}}))),ue(c,f=>{const p=f.options,m=p.id,b=Zh(m,p),y=kt(p.type,f.dtype);(p.position===void 0||q1(p.position,b)!==q1(f.dposition))&&(p.position=f.dposition),o[m]=!0;let S=null;if(m in r&&r[m].type===y)S=r[m];else{const O=Sr.getScale(y);S=new O({id:m,type:y,ctx:this.ctx,chart:this}),r[S.id]=S}S.init(p,t)}),ue(o,(f,p)=>{f||delete r[p]}),ue(r,f=>{In.configure(this,f,f.options),In.addBox(this,f)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((o,c)=>o.index-c.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Q1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,o)=>{n.filter(c=>c===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){const c=n[r];let f=this.getDatasetMeta(r);const p=c.type||this.config.type;if(f.type&&f.type!==p&&(this._destroyDatasetMeta(r),f=this.getDatasetMeta(r)),f.type=p,f.indexAxis=c.indexAxis||Xh(p,this.options),f.order=c.order||0,f.index=r,f.label=""+c.label,f.visible=this.isDatasetVisible(r),f.controller)f.controller.updateIndex(r),f.controller.linkScales();else{const m=Sr.getController(p),{datasetElementType:b,dataElementType:y}=Kt.datasets[p];Object.assign(m.prototype,{dataElementType:Sr.getElement(y),datasetElementType:b&&Sr.getElement(b)}),f.controller=new m(this,r),t.push(f.controller)}}return this._updateMetasets(),t}_resetElements(){ue(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const c=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let f=0;for(let b=0,y=this.data.datasets.length;b<y;b++){const{controller:S}=this.getDatasetMeta(b),O=!o&&c.indexOf(S)===-1;S.buildOrUpdateElements(O),f=Math.max(+S.getMaxOverflow(),f)}f=this._minPadding=r.layout.autoPadding?f:0,this._updateLayout(f),o||ue(c,b=>{b.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Q1("z","_idx"));const{_active:p,_lastEvent:m}=this;m?this._eventHandler(m,!0):p.length&&this._updateHoverStyles(p,p,!0),this.render()}_updateScales(){ue(this.scales,t=>{In.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!l1(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:c}of n){const f=r==="_removeElements"?-c:c;p8(t,o,f)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=c=>new Set(t.filter(f=>f[0]===c).map((f,p)=>p+","+f.splice(1).join(","))),o=r(0);for(let c=1;c<n;c++)if(!l1(o,r(c)))return;return Array.from(o).map(c=>c.split(",")).map(c=>({method:c[1],start:+c[2],count:+c[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;In.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ue(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,c)=>{o._idx=c}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Qr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),o={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(br.has(this)?this.attached&&!br.running(this)&&br.start(this):(this.draw(),J1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resize(r,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let o,c;for(o=0,c=n.length;o<c;++o){const f=n[o];(!t||f.visible)&&r.push(f)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r=t._clip,o=!r.disabled,c=this.chartArea,f={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",f)!==!1&&(o&&bc(n,{left:r.left===!1?0:c.left-r.left,right:r.right===!1?this.width:c.right+r.right,top:r.top===!1?0:c.top-r.top,bottom:r.bottom===!1?this.height:c.bottom+r.bottom}),t.controller.draw(),o&&Ac(n),f.cancelable=!1,this.notifyPlugins("afterDatasetDraw",f))}isPointInArea(t){return wa(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,o){const c=dI.modes[n];return typeof c=="function"?c(this,t,r,o):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let o=r.filter(c=>c&&c._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=$r(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const o=r?"show":"hide",c=this.getDatasetMeta(t),f=c.controller._resolveAnimations(void 0,o);pi(n)?(c.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),f.update(c,{visible:r}),this.update(p=>p.datasetIndex===t?o:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),br.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),_1(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete $l[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(c,f)=>{n.addEventListener(this,c,f),t[c]=f},o=(c,f,p)=>{c.offsetX=f,c.offsetY=p,this._eventHandler(c)};ue(this.options.events,c=>r(c,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(m,b)=>{n.addEventListener(this,m,b),t[m]=b},o=(m,b)=>{t[m]&&(n.removeEventListener(this,m,b),delete t[m])},c=(m,b)=>{this.canvas&&this.resize(m,b)};let f;const p=()=>{o("attach",p),this.attached=!0,this.resize(),r("resize",c),r("detach",f)};f=()=>{this.attached=!1,o("resize",c),this._stop(),this._resize(0,0),r("attach",p)},n.isAttached(this.canvas)?p():f()}unbindEvents(){ue(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ue(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const o=r?"set":"remove";let c,f,p,m;for(n==="dataset"&&(c=this.getDatasetMeta(t[0].datasetIndex),c.controller["_"+o+"DatasetHoverStyle"]()),p=0,m=t.length;p<m;++p){f=t[p];const b=f&&this.getDatasetMeta(f.datasetIndex).controller;b&&b[o+"HoverStyle"](f.element,f.datasetIndex,f.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:c,index:f})=>{const p=this.getDatasetMeta(c);if(!p)throw new Error("No dataset found at index "+c);return{datasetIndex:c,element:p.data[f],index:f}});!Gl(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}_updateHoverStyles(t,n,r){const o=this.options.hover,c=(m,b)=>m.filter(y=>!b.some(S=>y.datasetIndex===S.datasetIndex&&y.index===S.index)),f=c(n,t),p=r?t:c(t,n);f.length&&this.updateHoverStyle(f,o.mode,!1),p.length&&o.mode&&this.updateHoverStyle(p,o.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},o=f=>(f.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const c=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(c||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:o=[],options:c}=this,f=n,p=this._getActiveElements(t,o,r,f),m=a3(t),b=x8(t,this._lastEvent,r,m);r&&(this._lastEvent=null,be(c.onHover,[t,p,this],this),m&&be(c.onClick,[t,p,this],this));const y=!Gl(p,o);return(y||n)&&(this._active=p,this._updateHoverStyles(p,o,n)),this._lastEvent=b,y}_getActiveElements(t,n,r,o){if(t.type==="mouseout")return[];if(!r)return n;const c=this.options.hover;return this.getElementsAtEventForMode(t,c.mode,c,o)}}const $1=()=>ue(Mc.instances,e=>e._plugins.invalidate()),Vr=!0;Object.defineProperties(Mc,{defaults:{enumerable:Vr,value:Kt},instances:{enumerable:Vr,value:$l},overrides:{enumerable:Vr,value:Ts},registry:{enumerable:Vr,value:Sr},version:{enumerable:Vr,value:f8},getChart:{enumerable:Vr,value:Gx},register:{enumerable:Vr,value:(...e)=>{Sr.add(...e),$1()}},unregister:{enumerable:Vr,value:(...e)=>{Sr.remove(...e),$1()}}});function Xx(e,t,n){const{startAngle:r,pixelMargin:o,x:c,y:f,outerRadius:p,innerRadius:m}=t;let b=o/p;e.beginPath(),e.arc(c,f,p,r-b,n+b),m>o?(b=o/m,e.arc(c,f,m,n+b,r-b,!0)):e.arc(c,f,o,n+ke,r-ke),e.closePath(),e.clip()}function m8(e){return Mf(e,["outerStart","outerEnd","innerStart","innerEnd"])}function w8(e,t,n,r){const o=m8(e.options.borderRadius),c=(n-t)/2,f=Math.min(c,r*t/2),p=m=>{const b=(n-Math.min(c,m))*r/2;return ln(m,0,Math.min(c,b))};return{outerStart:p(o.outerStart),outerEnd:p(o.outerEnd),innerStart:ln(o.innerStart,0,f),innerEnd:ln(o.innerEnd,0,f)}}function $s(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Kh(e,t,n,r,o){const{x:c,y:f,startAngle:p,pixelMargin:m,innerRadius:b}=t,y=Math.max(t.outerRadius+r+n-m,0),S=b>0?b+r+n+m:0;let O=0;const L=o-p;if(r){const pt=b>0?b-r:0,Ze=y>0?y-r:0,ye=(pt+Ze)/2,dn=ye!==0?L*ye/(ye+r):L;O=(L-dn)/2}const D=Math.max(.001,L*y-n/Te)/y,V=(L-D)/2,z=p+V+O,H=o-V-O,{outerStart:G,outerEnd:$,innerStart:Q,innerEnd:tt}=w8(t,S,y,H-z),Z=y-G,at=y-$,J=z+G/Z,dt=H-$/at,yt=S+Q,ut=S+tt,gt=z+Q/yt,Rt=H-tt/ut;if(e.beginPath(),e.arc(c,f,y,J,dt),$>0){const pt=$s(at,dt,c,f);e.arc(pt.x,pt.y,$,dt,H+ke)}const et=$s(ut,H,c,f);if(e.lineTo(et.x,et.y),tt>0){const pt=$s(ut,Rt,c,f);e.arc(pt.x,pt.y,tt,H+ke,Rt+Math.PI)}if(e.arc(c,f,S,H-tt/S,z+Q/S,!0),Q>0){const pt=$s(yt,gt,c,f);e.arc(pt.x,pt.y,Q,gt+Math.PI,z-ke)}const Et=$s(Z,z,c,f);if(e.lineTo(Et.x,Et.y),G>0){const pt=$s(Z,J,c,f);e.arc(pt.x,pt.y,G,z-ke,J)}e.closePath()}function _8(e,t,n,r){const{fullCircles:o,startAngle:c,circumference:f}=t;let p=t.endAngle;if(o){Kh(e,t,n,r,c+de);for(let m=0;m<o;++m)e.fill();isNaN(f)||(p=c+f%de,f%de===0&&(p+=de))}return Kh(e,t,n,r,p),e.fill(),p}function b8(e,t,n){const{x:r,y:o,startAngle:c,pixelMargin:f,fullCircles:p}=t,m=Math.max(t.outerRadius-f,0),b=t.innerRadius+f;let y;for(n&&Xx(e,t,c+de),e.beginPath(),e.arc(r,o,b,c+de,c,!0),y=0;y<p;++y)e.stroke();for(e.beginPath(),e.arc(r,o,m,c,c+de),y=0;y<p;++y)e.stroke()}function A8(e,t,n,r,o){const{options:c}=t,{borderWidth:f,borderJoinStyle:p}=c,m=c.borderAlign==="inner";!f||(m?(e.lineWidth=f*2,e.lineJoin=p||"round"):(e.lineWidth=f,e.lineJoin=p||"bevel"),t.fullCircles&&b8(e,t,m),m&&Xx(e,t,o),Kh(e,t,n,r,o),e.stroke())}class Oc extends Di{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const o=this.getProps(["x","y"],r),{angle:c,distance:f}=hx(o,{x:t,y:n}),{startAngle:p,endAngle:m,innerRadius:b,outerRadius:y,circumference:S}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),O=this.options.spacing/2,D=kt(S,m-p)>=de||ma(c,p,m),V=Er(f,b+O,y+O);return D&&V}getCenterPoint(t){const{x:n,y:r,startAngle:o,endAngle:c,innerRadius:f,outerRadius:p}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:m,spacing:b}=this.options,y=(o+c)/2,S=(f+p+b+m)/2;return{x:n+Math.cos(y)*S,y:r+Math.sin(y)*S}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,o=(n.offset||0)/2,c=(n.spacing||0)/2;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>de?Math.floor(r/de):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let f=0;if(o){f=o/2;const m=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(m)*f,Math.sin(m)*f),this.circumference>=Te&&(f=o)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor;const p=_8(t,this,f,c);A8(t,this,f,c,p),t.restore()}}Oc.id="arc";Oc.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};Oc.defaultRoutes={backgroundColor:"backgroundColor"};function Zx(e,t,n=t){e.lineCap=kt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(kt(n.borderDash,t.borderDash)),e.lineDashOffset=kt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=kt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=kt(n.borderWidth,t.borderWidth),e.strokeStyle=kt(n.borderColor,t.borderColor)}function y8(e,t,n){e.lineTo(n.x,n.y)}function E8(e){return e.stepped?U3:e.tension||e.cubicInterpolationMode==="monotone"?z3:y8}function Kx(e,t,n={}){const r=e.length,{start:o=0,end:c=r-1}=n,{start:f,end:p}=t,m=Math.max(o,f),b=Math.min(c,p),y=o<f&&c<f||o>p&&c>p;return{count:r,start:m,loop:t.loop,ilen:b<m&&!y?r+b-m:b-m}}function C8(e,t,n,r){const{points:o,options:c}=t,{count:f,start:p,loop:m,ilen:b}=Kx(o,n,r),y=E8(c);let{move:S=!0,reverse:O}=r||{},L,D,V;for(L=0;L<=b;++L)D=o[(p+(O?b-L:L))%f],!D.skip&&(S?(e.moveTo(D.x,D.y),S=!1):y(e,V,D,O,c.stepped),V=D);return m&&(D=o[(p+(O?b:0))%f],y(e,V,D,O,c.stepped)),!!m}function S8(e,t,n,r){const o=t.points,{count:c,start:f,ilen:p}=Kx(o,n,r),{move:m=!0,reverse:b}=r||{};let y=0,S=0,O,L,D,V,z,H;const G=Q=>(f+(b?p-Q:Q))%c,$=()=>{V!==z&&(e.lineTo(y,z),e.lineTo(y,V),e.lineTo(y,H))};for(m&&(L=o[G(0)],e.moveTo(L.x,L.y)),O=0;O<=p;++O){if(L=o[G(O)],L.skip)continue;const Q=L.x,tt=L.y,Z=Q|0;Z===D?(tt<V?V=tt:tt>z&&(z=tt),y=(S*y+Q)/++S):($(),e.lineTo(Q,tt),D=Z,S=0,V=z=tt),H=tt}$()}function qh(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?S8:C8}function I8(e){return e.stepped?bS:e.tension||e.cubicInterpolationMode==="monotone"?AS:bs}function T8(e,t,n,r){let o=t._path;o||(o=t._path=new Path2D,t.path(o,n,r)&&o.closePath()),Zx(e,t.options),e.stroke(o)}function v8(e,t,n,r){const{segments:o,options:c}=t,f=qh(t);for(const p of o)Zx(e,c,p.style),e.beginPath(),f(e,t,p,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const M8=typeof Path2D=="function";function O8(e,t,n,r){M8&&!t.options.segment?T8(e,t,n,r):v8(e,t,n,r)}class ts extends Di{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;fS(this._points,r,t,o,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vS(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,o=t[n],c=this.points,f=Rx(this,{property:n,start:o,end:o});if(!f.length)return;const p=[],m=I8(r);let b,y;for(b=0,y=f.length;b<y;++b){const{start:S,end:O}=f[b],L=c[S],D=c[O];if(L===D){p.push(L);continue}const V=Math.abs((o-L[n])/(D[n]-L[n])),z=m(L,D,V,r.stepped);z[n]=t[n],p.push(z)}return p.length===1?p[0]:p}pathSegment(t,n,r){return qh(this)(t,this,n,r)}path(t,n,r){const o=this.segments,c=qh(this);let f=this._loop;n=n||0,r=r||this.points.length-n;for(const p of o)f&=c(t,this,p,{start:n,end:n+r-1});return!!f}draw(t,n,r,o){const c=this.options||{};(this.points||[]).length&&c.borderWidth&&(t.save(),O8(t,this,r,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ts.id="line";ts.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};ts.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};ts.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function tg(e,t,n,r){const o=e.options,{[n]:c}=e.getProps([n],r);return Math.abs(t-c)<o.radius+o.hitRadius}class Nc extends Di{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const o=this.options,{x:c,y:f}=this.getProps(["x","y"],r);return Math.pow(t-c,2)+Math.pow(n-f,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,n){return tg(this,t,"x",n)}inYRange(t,n){return tg(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!wa(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Yh(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Nc.id="point";Nc.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Nc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function qx(e,t){const{x:n,y:r,base:o,width:c,height:f}=e.getProps(["x","y","base","width","height"],t);let p,m,b,y,S;return e.horizontal?(S=f/2,p=Math.min(n,o),m=Math.max(n,o),b=r-S,y=r+S):(S=c/2,p=n-S,m=n+S,b=Math.min(r,o),y=Math.max(r,o)),{left:p,top:b,right:m,bottom:y}}function Gr(e,t,n,r){return e?0:ln(t,n,r)}function N8(e,t,n){const r=e.options.borderWidth,o=e.borderSkipped,c=wx(r);return{t:Gr(o.top,c.top,0,n),r:Gr(o.right,c.right,0,t),b:Gr(o.bottom,c.bottom,0,n),l:Gr(o.left,c.left,0,t)}}function R8(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,c=Cs(o),f=Math.min(t,n),p=e.borderSkipped,m=r||Gt(o);return{topLeft:Gr(!m||p.top||p.left,c.topLeft,0,f),topRight:Gr(!m||p.top||p.right,c.topRight,0,f),bottomLeft:Gr(!m||p.bottom||p.left,c.bottomLeft,0,f),bottomRight:Gr(!m||p.bottom||p.right,c.bottomRight,0,f)}}function D8(e){const t=qx(e),n=t.right-t.left,r=t.bottom-t.top,o=N8(e,n/2,r/2),c=R8(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:c},inner:{x:t.left+o.l,y:t.top+o.t,w:n-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,c.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(o.b,o.r))}}}}function bh(e,t,n,r){const o=t===null,c=n===null,p=e&&!(o&&c)&&qx(e,r);return p&&(o||Er(t,p.left,p.right))&&(c||Er(n,p.top,p.bottom))}function L8(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function P8(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ah(e,t,n={}){const r=e.x!==n.x?-t:0,o=e.y!==n.y?-t:0,c=(e.x+e.w!==n.x+n.w?t:0)-r,f=(e.y+e.h!==n.y+n.h?t:0)-o;return{x:e.x+r,y:e.y+o,w:e.w+c,h:e.h+f,radius:e.radius}}class Rc extends Di{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:o}}=this,{inner:c,outer:f}=D8(this),p=L8(f.radius)?_a:P8;t.save(),(f.w!==c.w||f.h!==c.h)&&(t.beginPath(),p(t,Ah(f,n,c)),t.clip(),p(t,Ah(c,-n,f)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),p(t,Ah(c,n)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,n,r){return bh(this,t,n,r)}inXRange(t,n){return bh(this,t,null,n)}inYRange(t,n){return bh(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:o,horizontal:c}=this.getProps(["x","y","base","horizontal"],t);return{x:c?(n+o)/2:n,y:c?r:(r+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Rc.id="bar";Rc.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Rc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var B8=Object.freeze({__proto__:null,ArcElement:Oc,LineElement:ts,PointElement:Nc,BarElement:Rc});function k8(e,t,n,r,o){const c=o.samples||r;if(c>=n)return e.slice(t,t+n);const f=[],p=(n-2)/(c-2);let m=0;const b=t+n-1;let y=t,S,O,L,D,V;for(f[m++]=e[y],S=0;S<c-2;S++){let z=0,H=0,G;const $=Math.floor((S+1)*p)+1+t,Q=Math.min(Math.floor((S+2)*p)+1,n)+t,tt=Q-$;for(G=$;G<Q;G++)z+=e[G].x,H+=e[G].y;z/=tt,H/=tt;const Z=Math.floor(S*p)+1+t,at=Math.min(Math.floor((S+1)*p)+1,n)+t,{x:J,y:dt}=e[y];for(L=D=-1,G=Z;G<at;G++)D=.5*Math.abs((J-z)*(e[G].y-dt)-(J-e[G].x)*(H-dt)),D>L&&(L=D,O=e[G],V=G);f[m++]=O,y=V}return f[m++]=e[b],f}function F8(e,t,n,r){let o=0,c=0,f,p,m,b,y,S,O,L,D,V;const z=[],H=t+n-1,G=e[t].x,Q=e[H].x-G;for(f=t;f<t+n;++f){p=e[f],m=(p.x-G)/Q*r,b=p.y;const tt=m|0;if(tt===y)b<D?(D=b,S=f):b>V&&(V=b,O=f),o=(c*o+p.x)/++c;else{const Z=f-1;if(!ee(S)&&!ee(O)){const at=Math.min(S,O),J=Math.max(S,O);at!==L&&at!==Z&&z.push({...e[at],x:o}),J!==L&&J!==Z&&z.push({...e[J],x:o})}f>0&&Z!==L&&z.push(e[Z]),z.push(p),y=tt,c=0,D=V=b,S=O=L=f}}return z}function Qx(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function eg(e){e.data.datasets.forEach(t=>{Qx(t)})}function U8(e,t){const n=t.length;let r=0,o;const{iScale:c}=e,{min:f,max:p,minDefined:m,maxDefined:b}=c.getUserBounds();return m&&(r=ln(Cr(t,c.axis,f).lo,0,n-1)),b?o=ln(Cr(t,c.axis,p).hi+1,r,n)-r:o=n-r,{start:r,count:o}}var z8={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){eg(e);return}const r=e.width;e.data.datasets.forEach((o,c)=>{const{_data:f,indexAxis:p}=o,m=e.getDatasetMeta(c),b=f||o.data;if(ra([p,e.options.indexAxis])==="y"||!m.controller.supportsDecimation)return;const y=e.scales[m.xAxisID];if(y.type!=="linear"&&y.type!=="time"||e.options.parsing)return;let{start:S,count:O}=U8(m,b);const L=n.threshold||4*r;if(O<=L){Qx(o);return}ee(f)&&(o._data=b,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(V){this._data=V}}));let D;switch(n.algorithm){case"lttb":D=k8(b,S,O,r,n);break;case"min-max":D=F8(b,S,O,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}o._decimated=D})},destroy(e){eg(e)}};function W8(e,t,n){const r=e.segments,o=e.points,c=t.points,f=[];for(const p of r){let{start:m,end:b}=p;b=Bf(m,b,o);const y=Qh(n,o[m],o[b],p.loop);if(!t.segments){f.push({source:p,target:y,start:o[m],end:o[b]});continue}const S=Rx(t,y);for(const O of S){const L=Qh(n,c[O.start],c[O.end],O.loop),D=Nx(p,o,L);for(const V of D)f.push({source:V,target:O,start:{[n]:ng(y,L,"start",Math.max)},end:{[n]:ng(y,L,"end",Math.min)}})}}return f}function Qh(e,t,n,r){if(r)return;let o=t[e],c=n[e];return e==="angle"&&(o=$n(o),c=$n(c)),{property:e,start:o,end:c}}function H8(e,t){const{x:n=null,y:r=null}=e||{},o=t.points,c=[];return t.segments.forEach(({start:f,end:p})=>{p=Bf(f,p,o);const m=o[f],b=o[p];r!==null?(c.push({x:m.x,y:r}),c.push({x:b.x,y:r})):n!==null&&(c.push({x:n,y:m.y}),c.push({x:n,y:b.y}))}),c}function Bf(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function ng(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Jx(e,t){let n=[],r=!1;return Ae(e)?(r=!0,n=e):n=H8(e,t),n.length?new ts({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function ig(e){return e&&e.fill!==!1}function V8(e,t,n){let o=e[t].fill;const c=[t];let f;if(!n)return o;for(;o!==!1&&c.indexOf(o)===-1;){if(!He(o))return o;if(f=e[o],!f)return!1;if(f.visible)return o;c.push(o),o=f.fill}return!1}function j8(e,t,n){const r=Z8(e);if(Gt(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return He(o)&&Math.floor(o)===o?Y8(r[0],t,o,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Y8(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function G8(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Gt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function X8(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Gt(e)?r=e.value:r=t.getBaseValue(),r}function Z8(e){const t=e.options,n=t.fill;let r=kt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function K8(e){const{scale:t,index:n,line:r}=e,o=[],c=r.segments,f=r.points,p=q8(t,n);p.push(Jx({x:null,y:t.bottom},r));for(let m=0;m<c.length;m++){const b=c[m];for(let y=b.start;y<=b.end;y++)Q8(o,f[y],p)}return new ts({points:o,options:{}})}function q8(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const c=r[o];if(c.index===t)break;c.hidden||n.unshift(c.dataset)}return n}function Q8(e,t,n){const r=[];for(let o=0;o<n.length;o++){const c=n[o],{first:f,last:p,point:m}=J8(c,t,"x");if(!(!m||f&&p)){if(f)r.unshift(m);else if(e.push(m),!p)break}}e.push(...r)}function J8(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const o=r[n],c=e.segments,f=e.points;let p=!1,m=!1;for(let b=0;b<c.length;b++){const y=c[b],S=f[y.start][n],O=f[y.end][n];if(Er(o,S,O)){p=o===S,m=o===O;break}}return{first:p,last:m,point:r}}class $x{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:o,y:c,radius:f}=this;return n=n||{start:0,end:de},t.arc(o,c,f,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:o}=this,c=t.angle;return{x:n+Math.cos(c)*o,y:r+Math.sin(c)*o,angle:c}}}function $8(e){const{chart:t,fill:n,line:r}=e;if(He(n))return t4(t,n);if(n==="stack")return K8(e);if(n==="shape")return!0;const o=e4(e);return o instanceof $x?o:Jx(o,r)}function t4(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function e4(e){return(e.scale||{}).getPointPositionForValue?i4(e):n4(e)}function n4(e){const{scale:t={},fill:n}=e,r=G8(n,t);if(He(r)){const o=t.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function i4(e){const{scale:t,fill:n}=e,r=t.options,o=t.getLabels().length,c=r.reverse?t.max:t.min,f=X8(n,t,c),p=[];if(r.grid.circular){const m=t.getPointPositionForValue(0,c);return new $x({x:m.x,y:m.y,radius:t.getDistanceFromCenterForValue(f)})}for(let m=0;m<o;++m)p.push(t.getPointPositionForValue(m,f));return p}function yh(e,t,n){const r=$8(t),{line:o,scale:c,axis:f}=t,p=o.options,m=p.fill,b=p.backgroundColor,{above:y=b,below:S=b}=m||{};r&&o.points.length&&(bc(e,n),r4(e,{line:o,target:r,above:y,below:S,area:n,scale:c,axis:f}),Ac(e))}function r4(e,t){const{line:n,target:r,above:o,below:c,area:f,scale:p}=t,m=n._loop?"angle":t.axis;e.save(),m==="x"&&c!==o&&(rg(e,r,f.top),sg(e,{line:n,target:r,color:o,scale:p,property:m}),e.restore(),e.save(),rg(e,r,f.bottom)),sg(e,{line:n,target:r,color:c,scale:p,property:m}),e.restore()}function rg(e,t,n){const{segments:r,points:o}=t;let c=!0,f=!1;e.beginPath();for(const p of r){const{start:m,end:b}=p,y=o[m],S=o[Bf(m,b,o)];c?(e.moveTo(y.x,y.y),c=!1):(e.lineTo(y.x,n),e.lineTo(y.x,y.y)),f=!!t.pathSegment(e,p,{move:f}),f?e.closePath():e.lineTo(S.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function sg(e,t){const{line:n,target:r,property:o,color:c,scale:f}=t,p=W8(n,r,o);for(const{source:m,target:b,start:y,end:S}of p){const{style:{backgroundColor:O=c}={}}=m,L=r!==!0;e.save(),e.fillStyle=O,s4(e,f,L&&Qh(o,y,S)),e.beginPath();const D=!!n.pathSegment(e,m);let V;if(L){D?e.closePath():og(e,r,S,o);const z=!!r.pathSegment(e,b,{move:D,reverse:!0});V=D&&z,V||og(e,r,y,o)}e.closePath(),e.fill(V?"evenodd":"nonzero"),e.restore()}}function s4(e,t,n){const{top:r,bottom:o}=t.chart.chartArea,{property:c,start:f,end:p}=n||{};c==="x"&&(e.beginPath(),e.rect(f,r,p-f,o-r),e.clip())}function og(e,t,n,r){const o=t.interpolate(n,r);o&&e.lineTo(o.x,o.y)}var o4={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,o=[];let c,f,p,m;for(f=0;f<r;++f)c=e.getDatasetMeta(f),p=c.dataset,m=null,p&&p.options&&p instanceof ts&&(m={visible:e.isDatasetVisible(f),index:f,fill:j8(p,f,r),chart:e,axis:c.controller.options.indexAxis,scale:c.vScale,line:p}),c.$filler=m,o.push(m);for(f=0;f<r;++f)m=o[f],!(!m||m.fill===!1)&&(m.fill=V8(o,f,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",o=e.getSortedVisibleDatasetMetas(),c=e.chartArea;for(let f=o.length-1;f>=0;--f){const p=o[f].$filler;!p||(p.line.updateControlPoints(c,p.axis),r&&p.fill&&yh(e.ctx,p,c))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;ig(c)&&yh(e.ctx,c,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!ig(r)||n.drawTime!=="beforeDatasetDraw"||yh(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ag=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},a4=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class lg extends Di{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=be(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,o)=>t.sort(r,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,o=tn(r.font),c=o.size,f=this._computeTitleHeight(),{boxWidth:p,itemHeight:m}=ag(r,c);let b,y;n.font=o.string,this.isHorizontal()?(b=this.maxWidth,y=this._fitRows(f,c,p,m)+10):(y=this.maxHeight,b=this._fitCols(f,c,p,m)+10),this.width=Math.min(b,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,o){const{ctx:c,maxWidth:f,options:{labels:{padding:p}}}=this,m=this.legendHitBoxes=[],b=this.lineWidths=[0],y=o+p;let S=t;c.textAlign="left",c.textBaseline="middle";let O=-1,L=-y;return this.legendItems.forEach((D,V)=>{const z=r+n/2+c.measureText(D.text).width;(V===0||b[b.length-1]+z+2*p>f)&&(S+=y,b[b.length-(V>0?0:1)]=0,L+=y,O++),m[V]={left:0,top:L,row:O,width:z,height:o},b[b.length-1]+=z+p}),S}_fitCols(t,n,r,o){const{ctx:c,maxHeight:f,options:{labels:{padding:p}}}=this,m=this.legendHitBoxes=[],b=this.columnSizes=[],y=f-t;let S=p,O=0,L=0,D=0,V=0;return this.legendItems.forEach((z,H)=>{const G=r+n/2+c.measureText(z.text).width;H>0&&L+o+2*p>y&&(S+=O+p,b.push({width:O,height:L}),D+=O+p,V++,O=L=0),m[H]={left:D,top:L,col:V,width:G,height:o},O=Math.max(O,G),L+=o+p}),S+=O,b.push({width:O,height:L}),S}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:o},rtl:c}}=this,f=no(c,this.left,this.width);if(this.isHorizontal()){let p=0,m=Sn(r,this.left+o,this.right-this.lineWidths[p]);for(const b of n)p!==b.row&&(p=b.row,m=Sn(r,this.left+o,this.right-this.lineWidths[p])),b.top+=this.top+t+o,b.left=f.leftForLtr(f.x(m),b.width),m+=b.width+o}else{let p=0,m=Sn(r,this.top+t+o,this.bottom-this.columnSizes[p].height);for(const b of n)b.col!==p&&(p=b.col,m=Sn(r,this.top+t+o,this.bottom-this.columnSizes[p].height)),b.top=m,b.left+=this.left+o,b.left=f.leftForLtr(f.x(b.left),b.width),m+=b.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;bc(t,this),this._draw(),Ac(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:o}=this,{align:c,labels:f}=t,p=Kt.color,m=no(t.rtl,this.left,this.width),b=tn(f.font),{color:y,padding:S}=f,O=b.size,L=O/2;let D;this.drawTitle(),o.textAlign=m.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=b.string;const{boxWidth:V,boxHeight:z,itemHeight:H}=ag(f,O),G=function(at,J,dt){if(isNaN(V)||V<=0||isNaN(z)||z<0)return;o.save();const yt=kt(dt.lineWidth,1);if(o.fillStyle=kt(dt.fillStyle,p),o.lineCap=kt(dt.lineCap,"butt"),o.lineDashOffset=kt(dt.lineDashOffset,0),o.lineJoin=kt(dt.lineJoin,"miter"),o.lineWidth=yt,o.strokeStyle=kt(dt.strokeStyle,p),o.setLineDash(kt(dt.lineDash,[])),f.usePointStyle){const ut={radius:z*Math.SQRT2/2,pointStyle:dt.pointStyle,rotation:dt.rotation,borderWidth:yt},gt=m.xPlus(at,V/2),Rt=J+L;mx(o,ut,gt,Rt,V)}else{const ut=J+Math.max((O-z)/2,0),gt=m.leftForLtr(at,V),Rt=Cs(dt.borderRadius);o.beginPath(),Object.values(Rt).some(et=>et!==0)?_a(o,{x:gt,y:ut,w:V,h:z,radius:Rt}):o.rect(gt,ut,V,z),o.fill(),yt!==0&&o.stroke()}o.restore()},$=function(at,J,dt){vs(o,dt.text,at,J+H/2,b,{strikethrough:dt.hidden,textAlign:m.textAlign(dt.textAlign)})},Q=this.isHorizontal(),tt=this._computeTitleHeight();Q?D={x:Sn(c,this.left+S,this.right-r[0]),y:this.top+S+tt,line:0}:D={x:this.left+S,y:Sn(c,this.top+tt+S,this.bottom-n[0].height),line:0},vx(this.ctx,t.textDirection);const Z=H+S;this.legendItems.forEach((at,J)=>{o.strokeStyle=at.fontColor||y,o.fillStyle=at.fontColor||y;const dt=o.measureText(at.text).width,yt=m.textAlign(at.textAlign||(at.textAlign=f.textAlign)),ut=V+L+dt;let gt=D.x,Rt=D.y;m.setWidth(this.width),Q?J>0&&gt+ut+S>this.right&&(Rt=D.y+=Z,D.line++,gt=D.x=Sn(c,this.left+S,this.right-r[D.line])):J>0&&Rt+Z>this.bottom&&(gt=D.x=gt+n[D.line].width+S,D.line++,Rt=D.y=Sn(c,this.top+tt+S,this.bottom-n[D.line].height));const et=m.x(gt);G(et,Rt,at),gt=t3(yt,gt+V+L,Q?gt+ut:this.right,t.rtl),$(m.x(gt),Rt,at),Q?D.x+=ut+S:D.y+=Z}),Mx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=tn(n.font),o=Tn(n.padding);if(!n.display)return;const c=no(t.rtl,this.left,this.width),f=this.ctx,p=n.position,m=r.size/2,b=o.top+m;let y,S=this.left,O=this.width;if(this.isHorizontal())O=Math.max(...this.lineWidths),y=this.top+b,S=Sn(t.align,S,this.right-O);else{const D=this.columnSizes.reduce((V,z)=>Math.max(V,z.height),0);y=b+Sn(t.align,this.top,this.bottom-D-t.labels.padding-this._computeTitleHeight())}const L=Sn(p,S,S+O);f.textAlign=c.textAlign(Ef(p)),f.textBaseline="middle",f.strokeStyle=n.color,f.fillStyle=n.color,f.font=r.string,vs(f,n.text,L,y,r)}_computeTitleHeight(){const t=this.options.title,n=tn(t.font),r=Tn(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,o,c;if(Er(t,this.left,this.right)&&Er(n,this.top,this.bottom)){for(c=this.legendHitBoxes,r=0;r<c.length;++r)if(o=c[r],Er(t,o.left,o.left+o.width)&&Er(n,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!l4(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const o=this._hoveredItem,c=a4(o,r);o&&!c&&be(n.onLeave,[t,o,this],this),this._hoveredItem=r,r&&!c&&be(n.onHover,[t,r,this],this)}else r&&be(n.onClick,[t,r,this],this)}}function l4(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var c4={id:"legend",_element:lg,start(e,t,n){const r=e.legend=new lg({ctx:e.ctx,options:n,chart:e});In.configure(e,r,n),In.addBox(e,r)},stop(e){In.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;In.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,o=n.chart;o.isDatasetVisible(r)?(o.hide(r),t.hidden=!0):(o.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:o,color:c}}=e.legend.options;return e._getSortedDatasetMetas().map(f=>{const p=f.controller.getStyle(n?0:void 0),m=Tn(p.borderWidth);return{text:t[f.index].label,fillStyle:p.backgroundColor,fontColor:c,hidden:!f.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:o||p.textAlign,borderRadius:0,datasetIndex:f.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class kf extends Di{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const o=Ae(r.text)?r.text.length:1;this._padding=Tn(r.padding);const c=o*tn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:o,right:c,options:f}=this,p=f.align;let m=0,b,y,S;return this.isHorizontal()?(y=Sn(p,r,c),S=n+t,b=c-r):(f.position==="left"?(y=r+t,S=Sn(p,o,n),m=Te*-.5):(y=c-t,S=Sn(p,n,o),m=Te*.5),b=o-n),{titleX:y,titleY:S,maxWidth:b,rotation:m}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=tn(n.font),c=r.lineHeight/2+this._padding.top,{titleX:f,titleY:p,maxWidth:m,rotation:b}=this._drawArgs(c);vs(t,n.text,0,0,r,{color:n.color,maxWidth:m,rotation:b,textAlign:Ef(n.align),textBaseline:"middle",translation:[f,p]})}}function u4(e,t){const n=new kf({ctx:e.ctx,options:t,chart:e});In.configure(e,n,t),In.addBox(e,n),e.titleBlock=n}var h4={id:"title",_element:kf,start(e,t,n){u4(e,n)},stop(e){const t=e.titleBlock;In.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;In.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bl=new WeakMap;var f4={id:"subtitle",start(e,t,n){const r=new kf({ctx:e.ctx,options:n,chart:e});In.configure(e,r,n),In.addBox(e,r),Bl.set(e,r)},stop(e){In.removeBox(e,Bl.get(e)),Bl.delete(e)},beforeUpdate(e,t,n){const r=Bl.get(e);In.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const da={average(e){if(!e.length)return!1;let t,n,r=0,o=0,c=0;for(t=0,n=e.length;t<n;++t){const f=e[t].element;if(f&&f.hasValue()){const p=f.tooltipPosition();r+=p.x,o+=p.y,++c}}return{x:r/c,y:o/c}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,o=Number.POSITIVE_INFINITY,c,f,p;for(c=0,f=e.length;c<f;++c){const m=e[c].element;if(m&&m.hasValue()){const b=m.getCenterPoint(),y=Hh(t,b);y<o&&(o=y,p=m)}}if(p){const m=p.tooltipPosition();n=m.x,r=m.y}return{x:n,y:r}}};function Vi(e,t){return t&&(Ae(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ar(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function d4(e,t){const{element:n,datasetIndex:r,index:o}=t,c=e.getDatasetMeta(r).controller,{label:f,value:p}=c.getLabelAndValue(o);return{chart:e,label:f,parsed:c.getParsed(o),raw:e.data.datasets[r].data[o],formattedValue:p,dataset:c.getDataset(),dataIndex:o,datasetIndex:r,element:n}}function cg(e,t){const n=e.chart.ctx,{body:r,footer:o,title:c}=e,{boxWidth:f,boxHeight:p}=t,m=tn(t.bodyFont),b=tn(t.titleFont),y=tn(t.footerFont),S=c.length,O=o.length,L=r.length,D=Tn(t.padding);let V=D.height,z=0,H=r.reduce((Q,tt)=>Q+tt.before.length+tt.lines.length+tt.after.length,0);if(H+=e.beforeBody.length+e.afterBody.length,S&&(V+=S*b.lineHeight+(S-1)*t.titleSpacing+t.titleMarginBottom),H){const Q=t.displayColors?Math.max(p,m.lineHeight):m.lineHeight;V+=L*Q+(H-L)*m.lineHeight+(H-1)*t.bodySpacing}O&&(V+=t.footerMarginTop+O*y.lineHeight+(O-1)*t.footerSpacing);let G=0;const $=function(Q){z=Math.max(z,n.measureText(Q).width+G)};return n.save(),n.font=b.string,ue(e.title,$),n.font=m.string,ue(e.beforeBody.concat(e.afterBody),$),G=t.displayColors?f+2+t.boxPadding:0,ue(r,Q=>{ue(Q.before,$),ue(Q.lines,$),ue(Q.after,$)}),G=0,n.font=y.string,ue(e.footer,$),n.restore(),z+=D.width,{width:z,height:V}}function g4(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function p4(e,t,n,r){const{x:o,width:c}=r,f=n.caretSize+n.caretPadding;if(e==="left"&&o+c+f>t.width||e==="right"&&o-c-f<0)return!0}function x4(e,t,n,r){const{x:o,width:c}=n,{width:f,chartArea:{left:p,right:m}}=e;let b="center";return r==="center"?b=o<=(p+m)/2?"left":"right":o<=c/2?b="left":o>=f-c/2&&(b="right"),p4(b,e,t,n)&&(b="center"),b}function ug(e,t,n){const r=n.yAlign||t.yAlign||g4(e,n);return{xAlign:n.xAlign||t.xAlign||x4(e,t,n,r),yAlign:r}}function m4(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function w4(e,t,n){let{y:r,height:o}=e;return t==="top"?r+=n:t==="bottom"?r-=o+n:r-=o/2,r}function hg(e,t,n,r){const{caretSize:o,caretPadding:c,cornerRadius:f}=e,{xAlign:p,yAlign:m}=n,b=o+c,{topLeft:y,topRight:S,bottomLeft:O,bottomRight:L}=Cs(f);let D=m4(t,p);const V=w4(t,m,b);return m==="center"?p==="left"?D+=b:p==="right"&&(D-=b):p==="left"?D-=Math.max(y,O)+o:p==="right"&&(D+=Math.max(S,L)+o),{x:ln(D,0,r.width-t.width),y:ln(V,0,r.height-t.height)}}function kl(e,t,n){const r=Tn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function fg(e){return Vi([],Ar(e))}function _4(e,t,n){return $r(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function dg(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class Jh extends Di{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,c=new Dx(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=_4(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,o=r.beforeTitle.apply(this,[t]),c=r.title.apply(this,[t]),f=r.afterTitle.apply(this,[t]);let p=[];return p=Vi(p,Ar(o)),p=Vi(p,Ar(c)),p=Vi(p,Ar(f)),p}getBeforeBody(t,n){return fg(n.callbacks.beforeBody.apply(this,[t]))}getBody(t,n){const{callbacks:r}=n,o=[];return ue(t,c=>{const f={before:[],lines:[],after:[]},p=dg(r,c);Vi(f.before,Ar(p.beforeLabel.call(this,c))),Vi(f.lines,p.label.call(this,c)),Vi(f.after,Ar(p.afterLabel.call(this,c))),o.push(f)}),o}getAfterBody(t,n){return fg(n.callbacks.afterBody.apply(this,[t]))}getFooter(t,n){const{callbacks:r}=n,o=r.beforeFooter.apply(this,[t]),c=r.footer.apply(this,[t]),f=r.afterFooter.apply(this,[t]);let p=[];return p=Vi(p,Ar(o)),p=Vi(p,Ar(c)),p=Vi(p,Ar(f)),p}_createItems(t){const n=this._active,r=this.chart.data,o=[],c=[],f=[];let p=[],m,b;for(m=0,b=n.length;m<b;++m)p.push(d4(this.chart,n[m]));return t.filter&&(p=p.filter((y,S,O)=>t.filter(y,S,O,r))),t.itemSort&&(p=p.sort((y,S)=>t.itemSort(y,S,r))),ue(p,y=>{const S=dg(t.callbacks,y);o.push(S.labelColor.call(this,y)),c.push(S.labelPointStyle.call(this,y)),f.push(S.labelTextColor.call(this,y))}),this.labelColors=o,this.labelPointStyles=c,this.labelTextColors=f,this.dataPoints=p,p}update(t,n){const r=this.options.setContext(this.getContext()),o=this._active;let c,f=[];if(!o.length)this.opacity!==0&&(c={opacity:0});else{const p=da[r.position].call(this,o,this._eventPosition);f=this._createItems(r),this.title=this.getTitle(f,r),this.beforeBody=this.getBeforeBody(f,r),this.body=this.getBody(f,r),this.afterBody=this.getAfterBody(f,r),this.footer=this.getFooter(f,r);const m=this._size=cg(this,r),b=Object.assign({},p,m),y=ug(this.chart,r,b),S=hg(r,b,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,c={opacity:1,x:S.x,y:S.y,width:m.width,height:m.height,caretX:p.x,caretY:p.y}}this._tooltipItems=f,this.$context=void 0,c&&this._resolveAnimations().update(this,c),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,o){const c=this.getCaretPosition(t,r,o);n.lineTo(c.x1,c.y1),n.lineTo(c.x2,c.y2),n.lineTo(c.x3,c.y3)}getCaretPosition(t,n,r){const{xAlign:o,yAlign:c}=this,{caretSize:f,cornerRadius:p}=r,{topLeft:m,topRight:b,bottomLeft:y,bottomRight:S}=Cs(p),{x:O,y:L}=t,{width:D,height:V}=n;let z,H,G,$,Q,tt;return c==="center"?(Q=L+V/2,o==="left"?(z=O,H=z-f,$=Q+f,tt=Q-f):(z=O+D,H=z+f,$=Q-f,tt=Q+f),G=z):(o==="left"?H=O+Math.max(m,y)+f:o==="right"?H=O+D-Math.max(b,S)-f:H=this.caretX,c==="top"?($=L,Q=$-f,z=H-f,G=H+f):($=L+V,Q=$+f,z=H+f,G=H-f),tt=$),{x1:z,x2:H,x3:G,y1:$,y2:Q,y3:tt}}drawTitle(t,n,r){const o=this.title,c=o.length;let f,p,m;if(c){const b=no(r.rtl,this.x,this.width);for(t.x=kl(this,r.titleAlign,r),n.textAlign=b.textAlign(r.titleAlign),n.textBaseline="middle",f=tn(r.titleFont),p=r.titleSpacing,n.fillStyle=r.titleColor,n.font=f.string,m=0;m<c;++m)n.fillText(o[m],b.x(t.x),t.y+f.lineHeight/2),t.y+=f.lineHeight+p,m+1===c&&(t.y+=r.titleMarginBottom-p)}}_drawColorBox(t,n,r,o,c){const f=this.labelColors[r],p=this.labelPointStyles[r],{boxHeight:m,boxWidth:b,boxPadding:y}=c,S=tn(c.bodyFont),O=kl(this,"left",c),L=o.x(O),D=m<S.lineHeight?(S.lineHeight-m)/2:0,V=n.y+D;if(c.usePointStyle){const z={radius:Math.min(b,m)/2,pointStyle:p.pointStyle,rotation:p.rotation,borderWidth:1},H=o.leftForLtr(L,b)+b/2,G=V+m/2;t.strokeStyle=c.multiKeyBackground,t.fillStyle=c.multiKeyBackground,Yh(t,z,H,G),t.strokeStyle=f.borderColor,t.fillStyle=f.backgroundColor,Yh(t,z,H,G)}else{t.lineWidth=Gt(f.borderWidth)?Math.max(...Object.values(f.borderWidth)):f.borderWidth||1,t.strokeStyle=f.borderColor,t.setLineDash(f.borderDash||[]),t.lineDashOffset=f.borderDashOffset||0;const z=o.leftForLtr(L,b-y),H=o.leftForLtr(o.xPlus(L,1),b-y-2),G=Cs(f.borderRadius);Object.values(G).some($=>$!==0)?(t.beginPath(),t.fillStyle=c.multiKeyBackground,_a(t,{x:z,y:V,w:b,h:m,radius:G}),t.fill(),t.stroke(),t.fillStyle=f.backgroundColor,t.beginPath(),_a(t,{x:H,y:V+1,w:b-2,h:m-2,radius:G}),t.fill()):(t.fillStyle=c.multiKeyBackground,t.fillRect(z,V,b,m),t.strokeRect(z,V,b,m),t.fillStyle=f.backgroundColor,t.fillRect(H,V+1,b-2,m-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:o}=this,{bodySpacing:c,bodyAlign:f,displayColors:p,boxHeight:m,boxWidth:b,boxPadding:y}=r,S=tn(r.bodyFont);let O=S.lineHeight,L=0;const D=no(r.rtl,this.x,this.width),V=function(J){n.fillText(J,D.x(t.x+L),t.y+O/2),t.y+=O+c},z=D.textAlign(f);let H,G,$,Q,tt,Z,at;for(n.textAlign=f,n.textBaseline="middle",n.font=S.string,t.x=kl(this,z,r),n.fillStyle=r.bodyColor,ue(this.beforeBody,V),L=p&&z!=="right"?f==="center"?b/2+y:b+2+y:0,Q=0,Z=o.length;Q<Z;++Q){for(H=o[Q],G=this.labelTextColors[Q],n.fillStyle=G,ue(H.before,V),$=H.lines,p&&$.length&&(this._drawColorBox(n,t,Q,D,r),O=Math.max(S.lineHeight,m)),tt=0,at=$.length;tt<at;++tt)V($[tt]),O=S.lineHeight;ue(H.after,V)}L=0,O=S.lineHeight,ue(this.afterBody,V),t.y-=c}drawFooter(t,n,r){const o=this.footer,c=o.length;let f,p;if(c){const m=no(r.rtl,this.x,this.width);for(t.x=kl(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=m.textAlign(r.footerAlign),n.textBaseline="middle",f=tn(r.footerFont),n.fillStyle=r.footerColor,n.font=f.string,p=0;p<c;++p)n.fillText(o[p],m.x(t.x),t.y+f.lineHeight/2),t.y+=f.lineHeight+r.footerSpacing}}drawBackground(t,n,r,o){const{xAlign:c,yAlign:f}=this,{x:p,y:m}=t,{width:b,height:y}=r,{topLeft:S,topRight:O,bottomLeft:L,bottomRight:D}=Cs(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(p+S,m),f==="top"&&this.drawCaret(t,n,r,o),n.lineTo(p+b-O,m),n.quadraticCurveTo(p+b,m,p+b,m+O),f==="center"&&c==="right"&&this.drawCaret(t,n,r,o),n.lineTo(p+b,m+y-D),n.quadraticCurveTo(p+b,m+y,p+b-D,m+y),f==="bottom"&&this.drawCaret(t,n,r,o),n.lineTo(p+L,m+y),n.quadraticCurveTo(p,m+y,p,m+y-L),f==="center"&&c==="left"&&this.drawCaret(t,n,r,o),n.lineTo(p,m+S),n.quadraticCurveTo(p,m,p+S,m),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,o=r&&r.x,c=r&&r.y;if(o||c){const f=da[t.position].call(this,this._active,this._eventPosition);if(!f)return;const p=this._size=cg(this,t),m=Object.assign({},f,this._size),b=ug(n,t,m),y=hg(t,m,b,n);(o._to!==y.x||c._to!==y.y)&&(this.xAlign=b.xAlign,this.yAlign=b.yAlign,this.width=p.width,this.height=p.height,this.caretX=f.x,this.caretY=f.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},c={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const f=Tn(n.padding),p=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&p&&(t.save(),t.globalAlpha=r,this.drawBackground(c,t,o,n),vx(t,n.textDirection),c.y+=f.top,this.drawTitle(c,t,n),this.drawBody(c,t,n),this.drawFooter(c,t,n),Mx(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,o=t.map(({datasetIndex:p,index:m})=>{const b=this.chart.getDatasetMeta(p);if(!b)throw new Error("Cannot find a dataset at index "+p);return{datasetIndex:p,element:b.data[m],index:m}}),c=!Gl(r,o),f=this._positionChanged(o,n);(c||f)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,c=this._active||[],f=this._getActiveElements(t,c,n,r),p=this._positionChanged(f,t),m=n||!Gl(f,c)||p;return m&&(this._active=f,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),m}_getActiveElements(t,n,r,o){const c=this.options;if(t.type==="mouseout")return[];if(!o)return n;const f=this.chart.getElementsAtEventForMode(t,c.mode,c,r);return c.reverse&&f.reverse(),f}_positionChanged(t,n){const{caretX:r,caretY:o,options:c}=this,f=da[c.position].call(this,t,n);return f!==!1&&(r!==f.x||o!==f.y)}}Jh.positioners=da;var b4={id:"tooltip",_element:Jh,positioners:da,afterInit(e,t,n){n&&(e.tooltip=new Jh({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",n)===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:wr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:wr,beforeBody:wr,beforeLabel:wr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ee(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:wr,afterBody:wr,beforeFooter:wr,footer:wr,afterFooter:wr}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},A4=Object.freeze({__proto__:null,Decimation:z8,Filler:o4,Legend:c4,SubTitle:f4,Title:h4,Tooltip:b4});const y4=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function E4(e,t,n,r){const o=e.indexOf(t);if(o===-1)return y4(e,t,n,r);const c=e.lastIndexOf(t);return o!==c?n:o}const C4=(e,t)=>e===null?null:ln(Math.round(e),0,t);class tc extends Ms{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:o,label:c}of n)r[o]===c&&r.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ee(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:E4(r,t,kt(n,t),this._addedLabels),C4(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,o=[];let c=this.getLabels();c=t===0&&n===c.length-1?c:c.slice(t,n+1),this._valueRange=Math.max(c.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let f=t;f<=n;f++)o.push({value:f});return o}getLabelForValue(t){const n=this.getLabels();return t>=0&&t<n.length?n[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}tc.id="category";tc.defaults={ticks:{callback:tc.prototype.getLabelForValue}};function S4(e,t){const n=[],{bounds:o,step:c,min:f,max:p,precision:m,count:b,maxTicks:y,maxDigits:S,includeBounds:O}=e,L=c||1,D=y-1,{min:V,max:z}=t,H=!ee(f),G=!ee(p),$=!ee(b),Q=(z-V)/(S+1);let tt=u1((z-V)/D/L)*L,Z,at,J,dt;if(tt<1e-14&&!H&&!G)return[{value:V},{value:z}];dt=Math.ceil(z/tt)-Math.floor(V/tt),dt>D&&(tt=u1(dt*tt/D/L)*L),ee(m)||(Z=Math.pow(10,m),tt=Math.ceil(tt*Z)/Z),o==="ticks"?(at=Math.floor(V/tt)*tt,J=Math.ceil(z/tt)*tt):(at=V,J=z),H&&G&&c&&h3((p-f)/c,tt/1e3)?(dt=Math.round(Math.min((p-f)/tt,y)),tt=(p-f)/dt,at=f,J=p):$?(at=H?f:at,J=G?p:J,dt=b-1,tt=(J-at)/dt):(dt=(J-at)/tt,ua(dt,Math.round(dt),tt/1e3)?dt=Math.round(dt):dt=Math.ceil(dt));const yt=Math.max(h1(tt),h1(at));Z=Math.pow(10,ee(m)?yt:m),at=Math.round(at*Z)/Z,J=Math.round(J*Z)/Z;let ut=0;for(H&&(O&&at!==f?(n.push({value:f}),at<f&&ut++,ua(Math.round((at+ut*tt)*Z)/Z,f,gg(f,Q,e))&&ut++):at<f&&ut++);ut<dt;++ut)n.push({value:Math.round((at+ut*tt)*Z)/Z});return G&&O&&J!==p?n.length&&ua(n[n.length-1].value,p,gg(p,Q,e))?n[n.length-1].value=p:n.push({value:p}):(!G||J===p)&&n.push({value:J}),n}function gg(e,t,{horizontal:n,minRotation:r}){const o=Oi(r),c=(n?Math.sin(o):Math.cos(o))||.001,f=.75*t*(""+e).length;return Math.min(t/c,f)}class ec extends Ms{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ee(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:o,max:c}=this;const f=m=>o=n?o:m,p=m=>c=r?c:m;if(t){const m=Xi(o),b=Xi(c);m<0&&b<0?p(0):m>0&&b>0&&f(0)}if(o===c){let m=1;(c>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(m=Math.abs(c*.05)),p(c+m),t||f(o-m)}this.min=o,this.max=c}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},c=this._range||this,f=S4(o,c);return t.bounds==="ticks"&&ux(f,this,"value"),t.reverse?(f.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),f}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const o=(r-n)/Math.max(t.length-1,1)/2;n-=o,r+=o}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Ta(t,this.chart.options.locale,this.options.ticks.format)}}class Ff extends ec{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=He(t)?t:0,this.max=He(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Oi(this.options.ticks.minRotation),o=(t?Math.sin(r):Math.cos(r))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,c.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ff.id="linear";Ff.defaults={ticks:{callback:vc.formatters.numeric}};function pg(e){return e/Math.pow(10,Math.floor(gi(e)))===1}function I4(e,t){const n=Math.floor(gi(t.max)),r=Math.ceil(t.max/Math.pow(10,n)),o=[];let c=hi(e.min,Math.pow(10,Math.floor(gi(t.min)))),f=Math.floor(gi(c)),p=Math.floor(c/Math.pow(10,f)),m=f<0?Math.pow(10,Math.abs(f)):1;do o.push({value:c,major:pg(c)}),++p,p===10&&(p=1,++f,m=f>=0?1:m),c=Math.round(p*Math.pow(10,f)*m)/m;while(f<n||f===n&&p<r);const b=hi(e.max,c);return o.push({value:b,major:pg(c)}),o}class Uf extends Ms{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=ec.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return He(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=He(t)?Math.max(0,t):null,this.max=He(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,o=this.max;const c=m=>r=t?r:m,f=m=>o=n?o:m,p=(m,b)=>Math.pow(10,Math.floor(gi(m))+b);r===o&&(r<=0?(c(1),f(10)):(c(p(r,-1)),f(p(o,1)))),r<=0&&c(p(o,-1)),o<=0&&f(p(r,1)),this._zero&&this.min!==this._suggestedMin&&r===p(this.min,0)&&c(p(r,-1)),this.min=r,this.max=o}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=I4(n,this);return t.bounds==="ticks"&&ux(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Ta(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=gi(t),this._valueRange=gi(this.max)-gi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(gi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Uf.id="logarithmic";Uf.defaults={ticks:{callback:vc.formatters.logarithmic,major:{enabled:!0}}};function $h(e){const t=e.ticks;if(t.display&&e.display){const n=Tn(t.backdropPadding);return kt(t.font&&t.font.size,Kt.font.size)+n.height}return 0}function T4(e,t,n){return n=Ae(n)?n:[n],{w:F3(e,t.string,n),h:n.length*t.lineHeight}}function xg(e,t,n,r,o){return e===r||e===o?{start:t-n/2,end:t+n/2}:e<r||e>o?{start:t-n,end:t}:{start:t,end:t+n}}function v4(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],o=[],c=e._pointLabels.length,f=e.options.pointLabels,p=f.centerPointLabels?Te/c:0;for(let m=0;m<c;m++){const b=f.setContext(e.getPointLabelContext(m));o[m]=b.padding;const y=e.getPointPosition(m,e.drawingArea+o[m],p),S=tn(b.font),O=T4(e.ctx,S,e._pointLabels[m]);r[m]=O;const L=$n(e.getIndexAngle(m)+p),D=Math.round(Sf(L)),V=xg(D,y.x,O.w,0,180),z=xg(D,y.y,O.h,90,270);M4(n,t,L,V,z)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=O4(e,r,o)}function M4(e,t,n,r,o){const c=Math.abs(Math.sin(n)),f=Math.abs(Math.cos(n));let p=0,m=0;r.start<t.l?(p=(t.l-r.start)/c,e.l=Math.min(e.l,t.l-p)):r.end>t.r&&(p=(r.end-t.r)/c,e.r=Math.max(e.r,t.r+p)),o.start<t.t?(m=(t.t-o.start)/f,e.t=Math.min(e.t,t.t-m)):o.end>t.b&&(m=(o.end-t.b)/f,e.b=Math.max(e.b,t.b+m))}function O4(e,t,n){const r=[],o=e._pointLabels.length,c=e.options,f=$h(c)/2,p=e.drawingArea,m=c.pointLabels.centerPointLabels?Te/o:0;for(let b=0;b<o;b++){const y=e.getPointPosition(b,p+f+n[b],m),S=Math.round(Sf($n(y.angle+ke))),O=t[b],L=D4(y.y,O.h,S),D=N4(S),V=R4(y.x,O.w,D);r.push({x:y.x,y:L,textAlign:D,left:V,top:L,right:V+O.w,bottom:L+O.h})}return r}function N4(e){return e===0||e===180?"center":e<180?"left":"right"}function R4(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function D4(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function L4(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let o=t-1;o>=0;o--){const c=r.setContext(e.getPointLabelContext(o)),f=tn(c.font),{x:p,y:m,textAlign:b,left:y,top:S,right:O,bottom:L}=e._pointLabelItems[o],{backdropColor:D}=c;if(!ee(D)){const V=Cs(c.borderRadius),z=Tn(c.backdropPadding);n.fillStyle=D;const H=y-z.left,G=S-z.top,$=O-y+z.width,Q=L-S+z.height;Object.values(V).some(tt=>tt!==0)?(n.beginPath(),_a(n,{x:H,y:G,w:$,h:Q,radius:V}),n.fill()):n.fillRect(H,G,$,Q)}vs(n,e._pointLabels[o],p,m+f.lineHeight/2,f,{color:c.color,textAlign:b,textBaseline:"middle"})}}function t2(e,t,n,r){const{ctx:o}=e;if(n)o.arc(e.xCenter,e.yCenter,t,0,de);else{let c=e.getPointPosition(0,t);o.moveTo(c.x,c.y);for(let f=1;f<r;f++)c=e.getPointPosition(f,t),o.lineTo(c.x,c.y)}}function P4(e,t,n,r){const o=e.ctx,c=t.circular,{color:f,lineWidth:p}=t;!c&&!r||!f||!p||n<0||(o.save(),o.strokeStyle=f,o.lineWidth=p,o.setLineDash(t.borderDash),o.lineDashOffset=t.borderDashOffset,o.beginPath(),t2(e,n,c,r),o.closePath(),o.stroke(),o.restore())}function B4(e,t,n){return $r(e,{label:n,index:t,type:"pointLabel"})}class Oa extends ec{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Tn($h(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=He(t)&&!isNaN(t)?t:0,this.max=He(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$h(this.options))}generateTickLabels(t){ec.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const o=be(this.options.pointLabels.callback,[n,r],this);return o||o===0?o:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?v4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,o){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,o))}getIndexAngle(t){const n=de/(this._pointLabels.length||1),r=this.options.startAngle||0;return $n(t*n+Oi(r))}getDistanceFromCenterForValue(t){if(ee(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(ee(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return B4(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const o=this.getIndexAngle(t)-ke+r;return{x:Math.cos(o)*n+this.xCenter,y:Math.sin(o)*n+this.yCenter,angle:o}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:o,bottom:c}=this._pointLabelItems[t];return{left:n,top:r,right:o,bottom:c}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),t2(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:o}=n,c=this._pointLabels.length;let f,p,m;if(n.pointLabels.display&&L4(this,c),o.display&&this.ticks.forEach((b,y)=>{if(y!==0){p=this.getDistanceFromCenterForValue(b.value);const S=o.setContext(this.getContext(y-1));P4(this,S,p,c)}}),r.display){for(t.save(),f=c-1;f>=0;f--){const b=r.setContext(this.getPointLabelContext(f)),{color:y,lineWidth:S}=b;!S||!y||(t.lineWidth=S,t.strokeStyle=y,t.setLineDash(b.borderDash),t.lineDashOffset=b.borderDashOffset,p=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),m=this.getPointPosition(f,p),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(m.x,m.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const o=this.getIndexAngle(0);let c,f;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((p,m)=>{if(m===0&&!n.reverse)return;const b=r.setContext(this.getContext(m)),y=tn(b.font);if(c=this.getDistanceFromCenterForValue(this.ticks[m].value),b.showLabelBackdrop){t.font=y.string,f=t.measureText(p.label).width,t.fillStyle=b.backdropColor;const S=Tn(b.backdropPadding);t.fillRect(-f/2-S.left,-c-y.size/2-S.top,f+S.width,y.size+S.height)}vs(t,p.label,0,-c,y,{color:b.color})}),t.restore()}drawTitle(){}}Oa.id="radialLinear";Oa.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:vc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};Oa.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Oa.descriptors={angleLines:{_fallback:"grid"}};const Dc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vn=Object.keys(Dc);function k4(e,t){return e-t}function mg(e,t){if(ee(t))return null;const n=e._adapter,{parser:r,round:o,isoWeekday:c}=e._parseOpts;let f=t;return typeof r=="function"&&(f=r(f)),He(f)||(f=typeof r=="string"?n.parse(f,r):n.parse(f)),f===null?null:(o&&(f=o==="week"&&(xa(c)||c===!0)?n.startOf(f,"isoWeek",c):n.startOf(f,o)),+f)}function wg(e,t,n,r){const o=Vn.length;for(let c=Vn.indexOf(e);c<o-1;++c){const f=Dc[Vn[c]],p=f.steps?f.steps:Number.MAX_SAFE_INTEGER;if(f.common&&Math.ceil((n-t)/(p*f.size))<=r)return Vn[c]}return Vn[o-1]}function F4(e,t,n,r,o){for(let c=Vn.length-1;c>=Vn.indexOf(n);c--){const f=Vn[c];if(Dc[f].common&&e._adapter.diff(o,r,f)>=t-1)return f}return Vn[n?Vn.indexOf(n):0]}function U4(e){for(let t=Vn.indexOf(e)+1,n=Vn.length;t<n;++t)if(Dc[Vn[t]].common)return Vn[t]}function _g(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:o}=Of(n,t),c=n[r]>=t?n[r]:n[o];e[c]=!0}}function z4(e,t,n,r){const o=e._adapter,c=+o.startOf(t[0].value,r),f=t[t.length-1].value;let p,m;for(p=c;p<=f;p=+o.add(p,1,r))m=n[p],m>=0&&(t[m].major=!0);return t}function bg(e,t,n){const r=[],o={},c=t.length;let f,p;for(f=0;f<c;++f)p=t[f],o[p]=f,r.push({value:p,major:!1});return c===0||!n?r:z4(e,r,o,n)}class Na extends Ms{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n){const r=t.time||(t.time={}),o=this._adapter=new lI._date(t.adapters.date);ca(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:mg(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:o,max:c,minDefined:f,maxDefined:p}=this.getUserBounds();function m(b){!f&&!isNaN(b.min)&&(o=Math.min(o,b.min)),!p&&!isNaN(b.max)&&(c=Math.max(c,b.max))}(!f||!p)&&(m(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&m(this.getMinMax(!1))),o=He(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),c=He(c)&&!isNaN(c)?c:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,c-1),this.max=Math.max(o+1,c)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const c=this.min,f=this.max,p=K3(o,c,f);return this._unit=n.unit||(r.autoSkip?wg(n.minUnit,this.min,this.max,this._getLabelCapacity(c)):F4(this,p.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:U4(this._unit),this.initOffsets(o),t.reverse&&p.reverse(),bg(this,p,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let n=0,r=0,o,c;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?n=1-o:n=(this.getDecimalForValue(t[1])-o)/2,c=this.getDecimalForValue(t[t.length-1]),t.length===1?r=c:r=(c-this.getDecimalForValue(t[t.length-2]))/2);const f=t.length<3?.5:.25;n=ln(n,0,f),r=ln(r,0,f),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,o=this.options,c=o.time,f=c.unit||wg(c.minUnit,n,r,this._getLabelCapacity(n)),p=kt(c.stepSize,1),m=f==="week"?c.isoWeekday:!1,b=xa(m)||m===!0,y={};let S=n,O,L;if(b&&(S=+t.startOf(S,"isoWeek",m)),S=+t.startOf(S,b?"day":f),t.diff(r,n,f)>1e5*p)throw new Error(n+" and "+r+" are too far apart with stepSize of "+p+" "+f);const D=o.ticks.source==="data"&&this.getDataTimestamps();for(O=S,L=0;O<r;O=+t.add(O,p,f),L++)_g(y,O,D);return(O===r||o.bounds==="ticks"||L===1)&&_g(y,O,D),Object.keys(y).sort((V,z)=>V-z).map(V=>+V)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}_tickFormatFunction(t,n,r,o){const c=this.options,f=c.time.displayFormats,p=this._unit,m=this._majorUnit,b=p&&f[p],y=m&&f[m],S=r[n],O=m&&y&&S&&S.major,L=this._adapter.format(t,o||(O?y:b)),D=c.ticks.callback;return D?be(D,[L,n,r],this):L}generateTickLabels(t){let n,r,o;for(n=0,r=t.length;n<r;++n)o=t[n],o.label=this._tickFormatFunction(o.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,o=Oi(this.isHorizontal()?n.maxRotation:n.minRotation),c=Math.cos(o),f=Math.sin(o),p=this._resolveTickFontOptions(0).size;return{w:r*c+p*f,h:r*f+p*c}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,c=this._tickFormatFunction(t,0,bg(this,[t],this._majorUnit),o),f=this._getLabelSize(c),p=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return p>0?p:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)t=t.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const o=this.getLabels();for(n=0,r=o.length;n<r;++n)t.push(mg(this,o[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bx(t.sort(k4))}}Na.id="time";Na.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Fl(e,t,n){let r=0,o=e.length-1,c,f,p,m;n?(t>=e[r].pos&&t<=e[o].pos&&({lo:r,hi:o}=Cr(e,"pos",t)),{pos:c,time:p}=e[r],{pos:f,time:m}=e[o]):(t>=e[r].time&&t<=e[o].time&&({lo:r,hi:o}=Cr(e,"time",t)),{time:c,pos:p}=e[r],{time:f,pos:m}=e[o]);const b=f-c;return b?p+(m-p)*(t-c)/b:p}class zf extends Na{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Fl(n,this.min),this._tableRange=Fl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,o=[],c=[];let f,p,m,b,y;for(f=0,p=t.length;f<p;++f)b=t[f],b>=n&&b<=r&&o.push(b);if(o.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(f=0,p=o.length;f<p;++f)y=o[f+1],m=o[f-1],b=o[f],Math.round((y+m)/2)!==b&&c.push({time:b,pos:f/(p-1)});return c}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Fl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Fl(this._table,r*this._tableRange+this._minPos,!0)}}zf.id="timeseries";zf.defaults=Na.defaults;var W4=Object.freeze({__proto__:null,CategoryScale:tc,LinearScale:Ff,LogarithmicScale:Uf,RadialLinearScale:Oa,TimeScale:Na,TimeSeriesScale:zf});const H4=[aI,B8,A4,W4];Mc.register(...H4);var wt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wt||(wt={}));var Ag=new Map([[wt.QR_CODE,"QR_CODE"],[wt.AZTEC,"AZTEC"],[wt.CODABAR,"CODABAR"],[wt.CODE_39,"CODE_39"],[wt.CODE_93,"CODE_93"],[wt.CODE_128,"CODE_128"],[wt.DATA_MATRIX,"DATA_MATRIX"],[wt.MAXICODE,"MAXICODE"],[wt.ITF,"ITF"],[wt.EAN_13,"EAN_13"],[wt.EAN_8,"EAN_8"],[wt.PDF_417,"PDF_417"],[wt.RSS_14,"RSS_14"],[wt.RSS_EXPANDED,"RSS_EXPANDED"],[wt.UPC_A,"UPC_A"],[wt.UPC_E,"UPC_E"],[wt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),yg;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(yg||(yg={}));function V4(e){return Object.values(wt).includes(e)}var Ir;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ir||(Ir={}));var Yi=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ir.SCAN_TYPE_CAMERA,Ir.SCAN_TYPE_FILE],e}(),e2=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Ag.has(t))throw t+" not in html5QrcodeSupportedFormatsTextMap";return new e(t,Ag.get(t))},e}(),Eg=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),tf;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(tf||(tf={}));var n2=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:tf.UNKWOWN_ERROR}},e}(),i2=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function to(e){return typeof e>"u"||e===null}var ea=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = "+t},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = "+t},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e}(),Mi=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: "+t},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e}(),Cg=function(){function e(){}return e.builtUsing=function(){return"Built using "},e.reportIssues=function(){return"Report issues"},e}(),r2=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+("object passed is of type "+r+"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(o),f=Object.keys(t),p=0,m=f;p<m.length;p++){var b=m[p];if(c.has(b))return n.logError(b+" is not supported videoConstaints.",!0),!1}return!0},e}(),_e={exports:{}};(function(e,t){(function(n,r){r(t)})(Gi,function(n){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation. All rights reserved.
	    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	    this file except in compliance with the License. You may obtain a copy of the
	    License at http://www.apache.org/licenses/LICENSE-2.0

	    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	    MERCHANTABLITY OR NON-INFRINGEMENT.

	    See the Apache Version 2.0 License for specific language governing permissions
	    and limitations under the License.
	    ***************************************************************************** */var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,i){I.__proto__=i}||function(I,i){for(var s in i)i.hasOwnProperty(s)&&(I[s]=i[s])};function o(I,i){r(I,i);function s(){this.constructor=I}I.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}function c(I,i){var s=Object.setPrototypeOf;s?s(I,i):I.__proto__=i}function f(I,i){i===void 0&&(i=I.constructor);var s=Error.captureStackTrace;s&&s(I,i)}var p=function(I){o(i,I);function i(s){var a=this.constructor,u=I.call(this,s)||this;return Object.defineProperty(u,"name",{value:a.name,enumerable:!1}),c(u,a.prototype),f(u),u}return i}(Error);class m extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}m.kind="Exception";class b extends m{}b.kind="ArgumentException";class y extends m{}y.kind="IllegalArgumentException";class S{constructor(i){if(this.binarizer=i,i===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,s){return this.binarizer.getBlackRow(i,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,s,a,u){const h=this.binarizer.getLuminanceSource().crop(i,s,a,u);return new S(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends m{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class L{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(i,s,a,u,h){for(;h--;)a[u++]=i[s++]}static currentTimeMillis(){return Date.now()}}class V extends m{}V.kind="IndexOutOfBoundsException";class z extends V{constructor(i=void 0,s=void 0){super(s),this.index=i,this.message=s}}z.kind="ArrayIndexOutOfBoundsException";class H{static fill(i,s){for(let a=0,u=i.length;a<u;a++)i[a]=s}static fillWithin(i,s,a,u){H.rangeCheck(i.length,s,a);for(let h=s;h<a;h++)i[h]=u}static rangeCheck(i,s,a){if(s>a)throw new y("fromIndex("+s+") > toIndex("+a+")");if(s<0)throw new z(s);if(a>i)throw new z(a)}static asList(...i){return i}static create(i,s,a){return Array.from({length:i}).map(h=>Array.from({length:s}).fill(a))}static createInt32Array(i,s,a){return Array.from({length:i}).map(h=>Int32Array.from({length:s}).fill(a))}static equals(i,s){if(!i||!s||!i.length||!s.length||i.length!==s.length)return!1;for(let a=0,u=i.length;a<u;a++)if(i[a]!==s[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let s=1;for(const a of i)s=31*s+a;return s}static fillUint8Array(i,s){for(let a=0;a!==i.length;a++)i[a]=s}static copyOf(i,s){return i.slice(0,s)}static copyOfUint8Array(i,s){if(i.length<=s){const a=new Uint8Array(s);return a.set(i),a}return i.slice(0,s)}static copyOfRange(i,s,a){const u=a-s,h=new Int32Array(u);return D.arraycopy(i,s,h,0,u),h}static binarySearch(i,s,a){a===void 0&&(a=H.numberComparator);let u=0,h=i.length-1;for(;u<=h;){const g=h+u>>1,x=a(s,i[g]);if(x>0)u=g+1;else if(x<0)h=g-1;else return g}return-u-1}static numberComparator(i,s){return i-s}}class G{static numberOfTrailingZeros(i){let s;if(i===0)return 32;let a=31;return s=i<<16,s!==0&&(a-=16,i=s),s=i<<8,s!==0&&(a-=8,i=s),s=i<<4,s!==0&&(a-=4,i=s),s=i<<2,s!==0&&(a-=2,i=s),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let s=1;return i>>>16===0&&(s+=16,i<<=16),i>>>24===0&&(s+=8,i<<=8),i>>>28===0&&(s+=4,i<<=4),i>>>30===0&&(s+=2,i<<=2),s-=i>>>31,s}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,s){return Math.trunc(i/s)}static parseInt(i,s=void 0){return parseInt(i,s)}}G.MIN_VALUE_32_BITS=-2147483648,G.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ${constructor(i,s){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,s==null?this.bits=$.makeArray(i):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const s=$.makeArray(i);D.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const s=this.size;if(i>=s)return s;const a=this.bits;let u=Math.floor(i/32),h=a[u];h&=~((1<<(i&31))-1);const g=a.length;for(;h===0;){if(++u===g)return s;h=a[u]}const x=u*32+G.numberOfTrailingZeros(h);return x>s?s:x}getNextUnset(i){const s=this.size;if(i>=s)return s;const a=this.bits;let u=Math.floor(i/32),h=~a[u];h&=~((1<<(i&31))-1);const g=a.length;for(;h===0;){if(++u===g)return s;h=~a[u]}const x=u*32+G.numberOfTrailingZeros(h);return x>s?s:x}setBulk(i,s){this.bits[Math.floor(i/32)]=s}setRange(i,s){if(s<i||i<0||s>this.size)throw new y;if(s===i)return;s--;const a=Math.floor(i/32),u=Math.floor(s/32),h=this.bits;for(let g=a;g<=u;g++){const x=g>a?0:i&31,_=g<u?31:s&31,A=(2<<_)-(1<<x);h[g]|=A}}clear(){const i=this.bits.length,s=this.bits;for(let a=0;a<i;a++)s[a]=0}isRange(i,s,a){if(s<i||i<0||s>this.size)throw new y;if(s===i)return!0;s--;const u=Math.floor(i/32),h=Math.floor(s/32),g=this.bits;for(let x=u;x<=h;x++){const _=x>u?0:i&31,A=x<h?31:s&31,C=(2<<A)-(1<<_)&4294967295;if((g[x]&C)!==(a?C:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,s){if(s<0||s>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let a=s;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){const s=i.size;this.ensureCapacity(this.size+s);for(let a=0;a<s;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new y("Sizes don't match");const s=this.bits;for(let a=0,u=s.length;a<u;a++)s[a]^=i.bits[a]}toBytes(i,s,a,u){for(let h=0;h<u;h++){let g=0;for(let x=0;x<8;x++)this.get(i)&&(g|=1<<7-x),i++;s[a+h]=g}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),a=s+1,u=this.bits;for(let h=0;h<a;h++){let g=u[h];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,i[s-h]=g}if(this.size!==a*32){const h=a*32-this.size;let g=i[0]>>>h;for(let x=1;x<a;x++){const _=i[x];g|=_<<32-h,i[x-1]=g,g=_>>>h}i[a-1]=g}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof $))return!1;const s=i;return this.size===s.size&&H.equals(this.bits,s.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let i="";for(let s=0,a=this.size;s<a;s++)(s&7)===0&&(i+=" "),i+=this.get(s)?"X":".";return i}clone(){return new $(this.size,this.bits.slice())}}var Q;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var tt=Q;class Z extends m{static getFormatInstance(){return new Z}}Z.kind="FormatException";var at;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(at||(at={}));class J{constructor(i,s,a,...u){this.valueIdentifier=i,this.name=a,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=u,J.VALUE_IDENTIFIER_TO_ECI.set(i,this),J.NAME_TO_ECI.set(a,this);const h=this.values;for(let g=0,x=h.length;g!==x;g++){const _=h[g];J.VALUES_TO_ECI.set(_,this)}for(const g of u)J.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new Z("incorect value");const s=J.VALUES_TO_ECI.get(i);if(s===void 0)throw new Z("incorect value");return s}static getCharacterSetECIByName(i){const s=J.NAME_TO_ECI.get(i);if(s===void 0)throw new Z("incorect value");return s}equals(i){if(!(i instanceof J))return!1;const s=i;return this.getName()===s.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(at.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(at.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(at.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(at.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(at.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(at.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(at.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(at.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(at.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(at.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(at.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(at.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(at.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(at.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(at.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(at.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(at.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(at.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(at.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(at.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(at.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(at.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(at.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(at.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(at.Big5,28,"Big5"),J.GB18030=new J(at.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(at.EUC_KR,30,"EUC_KR","EUC-KR");class dt extends m{}dt.kind="UnsupportedOperationException";class yt{static decode(i,s){const a=this.encodingName(s);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!yt.isBrowser()&&i==="ISO-8859-1"}static encode(i,s){const a=this.encodingName(s);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof J?i:J.getCharacterSetECIByName(i)}static decodeFallback(i,s){const a=this.encodingCharacterSet(s);if(yt.isDecodeFallbackSupported(a)){let u="";for(let h=0,g=i.length;h<g;h++){let x=i[h].toString(16);x.length<2&&(x="0"+x),u+="%"+x}return decodeURIComponent(u)}if(a.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new dt(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(J.UTF8)||i.equals(J.ISO8859_1)||i.equals(J.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),u=[];for(let h=0;h<a.length;h++)u.push(a[h].charCodeAt(0));return new Uint8Array(u)}}class ut{static castAsNonUtf8Char(i,s=null){const a=s?s.getName():this.ISO88591;return yt.decode(new Uint8Array([i]),a)}static guessEncoding(i,s){if(s!=null&&s.get(tt.CHARACTER_SET)!==void 0)return s.get(tt.CHARACTER_SET).toString();const a=i.length;let u=!0,h=!0,g=!0,x=0,_=0,A=0,C=0,T=0,N=0,U=0,j=0,M=0,k=0,F=0;const q=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let it=0;it<a&&(u||h||g);it++){const rt=i[it]&255;g&&(x>0?(rt&128)===0?g=!1:x--:(rt&128)!==0&&((rt&64)===0?g=!1:(x++,(rt&32)===0?_++:(x++,(rt&16)===0?A++:(x++,(rt&8)===0?C++:g=!1))))),u&&(rt>127&&rt<160?u=!1:rt>159&&(rt<192||rt===215||rt===247)&&F++),h&&(T>0?rt<64||rt===127||rt>252?h=!1:T--:rt===128||rt===160||rt>239?h=!1:rt>160&&rt<224?(N++,j=0,U++,U>M&&(M=U)):rt>127?(T++,U=0,j++,j>k&&(k=j)):(U=0,j=0))}return g&&x>0&&(g=!1),h&&T>0&&(h=!1),g&&(q||_+A+C>0)?ut.UTF8:h&&(ut.ASSUME_SHIFT_JIS||M>=3||k>=3)?ut.SHIFT_JIS:u&&h?M===2&&N===2||F*10>=a?ut.SHIFT_JIS:ut.ISO88591:u?ut.ISO88591:h?ut.SHIFT_JIS:g?ut.UTF8:ut.PLATFORM_DEFAULT_ENCODING}static format(i,...s){let a=-1;function u(g,x,_,A,C,T){if(g==="%%")return"%";if(s[++a]===void 0)return;g=A?parseInt(A.substr(1)):void 0;let N=C?parseInt(C.substr(1)):void 0,U;switch(T){case"s":U=s[a];break;case"c":U=s[a][0];break;case"f":U=parseFloat(s[a]).toFixed(g);break;case"p":U=parseFloat(s[a]).toPrecision(g);break;case"e":U=parseFloat(s[a]).toExponential(g);break;case"x":U=parseInt(s[a]).toString(N||16);break;case"d":U=parseFloat(parseInt(s[a],N||10).toPrecision(g)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(N);let j=parseInt(_),M=_&&_[0]+""=="0"?"0":" ";for(;U.length<j;)U=x!==void 0?U+M:M+U;return U}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,u)}static getBytes(i,s){return yt.encode(i,s)}static getCharCode(i,s=0){return i.charCodeAt(s)}static getCharAt(i){return String.fromCharCode(i)}}ut.SHIFT_JIS=J.SJIS.getName(),ut.GB2312="GB2312",ut.ISO88591=J.ISO8859_1.getName(),ut.EUC_JP="EUC_JP",ut.UTF8=J.UTF8.getName(),ut.PLATFORM_DEFAULT_ENCODING=ut.UTF8,ut.ASSUME_SHIFT_JIS=!1;class gt{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ut.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,s,a){for(let u=s;s<s+a;u++)this.append(i[u]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+1)}substring(i,s){return this.value.substring(i,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+s.length)}}class Rt{constructor(i,s,a,u){if(this.width=i,this.height=s,this.rowSize=a,this.bits=u,s==null&&(s=i),this.height=s,i<1||s<1)throw new y("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const s=i.length,a=i[0].length,u=new Rt(a,s);for(let h=0;h<s;h++){const g=i[h];for(let x=0;x<a;x++)g[x]&&u.set(x,h)}return u}static parseFromString(i,s,a){if(i===null)throw new y("stringRepresentation cannot be null");const u=new Array(i.length);let h=0,g=0,x=-1,_=0,A=0;for(;A<i.length;)if(i.charAt(A)===`
`||i.charAt(A)==="\r"){if(h>g){if(x===-1)x=h-g;else if(h-g!==x)throw new y("row lengths do not match");g=h,_++}A++}else if(i.substring(A,A+s.length)===s)A+=s.length,u[h]=!0,h++;else if(i.substring(A,A+a.length)===a)A+=a.length,u[h]=!1,h++;else throw new y("illegal character encountered: "+i.substring(A));if(h>g){if(x===-1)x=h-g;else if(h-g!==x)throw new y("row lengths do not match");_++}const C=new Rt(x,_);for(let T=0;T<h;T++)u[T]&&C.set(Math.floor(T%x),Math.floor(T/x));return C}get(i,s){const a=s*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,s){const a=s*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new y("input matrix dimensions do not match");const s=new $(Math.floor(this.width/32)+1),a=this.rowSize,u=this.bits;for(let h=0,g=this.height;h<g;h++){const x=h*a,_=i.getRow(h,s).getBitArray();for(let A=0;A<a;A++)u[x+A]^=_[A]}}clear(){const i=this.bits,s=i.length;for(let a=0;a<s;a++)i[a]=0}setRegion(i,s,a,u){if(s<0||i<0)throw new y("Left and top must be nonnegative");if(u<1||a<1)throw new y("Height and width must be at least 1");const h=i+a,g=s+u;if(g>this.height||h>this.width)throw new y("The region must fit inside the matrix");const x=this.rowSize,_=this.bits;for(let A=s;A<g;A++){const C=A*x;for(let T=i;T<h;T++)_[C+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(i,s){s==null||s.getSize()<this.width?s=new $(this.width):s.clear();const a=this.rowSize,u=this.bits,h=i*a;for(let g=0;g<a;g++)s.setBulk(g*32,u[h+g]);return s}setRow(i,s){D.arraycopy(s.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),s=this.getHeight();let a=new $(i),u=new $(i);for(let h=0,g=Math.floor((s+1)/2);h<g;h++)a=this.getRow(h,a),u=this.getRow(s-1-h,u),a.reverse(),u.reverse(),this.setRow(h,u),this.setRow(s-1-h,a)}getEnclosingRectangle(){const i=this.width,s=this.height,a=this.rowSize,u=this.bits;let h=i,g=s,x=-1,_=-1;for(let A=0;A<s;A++)for(let C=0;C<a;C++){const T=u[A*a+C];if(T!==0){if(A<g&&(g=A),A>_&&(_=A),C*32<h){let N=0;for(;(T<<31-N&4294967295)===0;)N++;C*32+N<h&&(h=C*32+N)}if(C*32+31>x){let N=31;for(;T>>>N===0;)N--;C*32+N>x&&(x=C*32+N)}}}return x<h||_<g?null:Int32Array.from([h,g,x-h+1,_-g+1])}getTopLeftOnBit(){const i=this.rowSize,s=this.bits;let a=0;for(;a<s.length&&s[a]===0;)a++;if(a===s.length)return null;const u=a/i;let h=a%i*32;const g=s[a];let x=0;for(;(g<<31-x&4294967295)===0;)x++;return h+=x,Int32Array.from([h,u])}getBottomRightOnBit(){const i=this.rowSize,s=this.bits;let a=s.length-1;for(;a>=0&&s[a]===0;)a--;if(a<0)return null;const u=Math.floor(a/i);let h=Math.floor(a%i)*32;const g=s[a];let x=31;for(;g>>>x===0;)x--;return h+=x,Int32Array.from([h,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Rt))return!1;const s=i;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&H.equals(this.bits,s.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+H.hashCode(this.bits),i}toString(i="X ",s="  ",a=`
`){return this.buildToString(i,s,a)}buildToString(i,s,a){let u=new gt;for(let h=0,g=this.height;h<g;h++){for(let x=0,_=this.width;x<_;x++)u.append(this.get(x,h)?i:s);u.append(a)}return u.toString()}clone(){return new Rt(this.width,this.height,this.rowSize,this.bits.slice())}}class et extends m{static getNotFoundInstance(){return new et}}et.kind="NotFoundException";class Et extends L{constructor(i){super(i),this.luminances=Et.EMPTY,this.buckets=new Int32Array(Et.LUMINANCE_BUCKETS)}getBlackRow(i,s){const a=this.getLuminanceSource(),u=a.getWidth();s==null||s.getSize()<u?s=new $(u):s.clear(),this.initArrays(u);const h=a.getRow(i,this.luminances),g=this.buckets;for(let _=0;_<u;_++)g[(h[_]&255)>>Et.LUMINANCE_SHIFT]++;const x=Et.estimateBlackPoint(g);if(u<3)for(let _=0;_<u;_++)(h[_]&255)<x&&s.set(_);else{let _=h[0]&255,A=h[1]&255;for(let C=1;C<u-1;C++){const T=h[C+1]&255;(A*4-_-T)/2<x&&s.set(C),_=A,A=T}}return s}getBlackMatrix(){const i=this.getLuminanceSource(),s=i.getWidth(),a=i.getHeight(),u=new Rt(s,a);this.initArrays(s);const h=this.buckets;for(let _=1;_<5;_++){const A=Math.floor(a*_/5),C=i.getRow(A,this.luminances),T=Math.floor(s*4/5);for(let N=Math.floor(s/5);N<T;N++){const U=C[N]&255;h[U>>Et.LUMINANCE_SHIFT]++}}const g=Et.estimateBlackPoint(h),x=i.getMatrix();for(let _=0;_<a;_++){const A=_*s;for(let C=0;C<s;C++)(x[A+C]&255)<g&&u.set(C,_)}return u}createBinarizer(i){return new Et(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const s=this.buckets;for(let a=0;a<Et.LUMINANCE_BUCKETS;a++)s[a]=0}static estimateBlackPoint(i){const s=i.length;let a=0,u=0,h=0;for(let C=0;C<s;C++)i[C]>h&&(u=C,h=i[C]),i[C]>a&&(a=i[C]);let g=0,x=0;for(let C=0;C<s;C++){const T=C-u,N=i[C]*T*T;N>x&&(g=C,x=N)}if(u>g){const C=u;u=g,g=C}if(g-u<=s/16)throw new et;let _=g-1,A=-1;for(let C=g-1;C>u;C--){const T=C-u,N=T*T*(g-C)*(a-i[C]);N>A&&(_=C,A=N)}return _<<Et.LUMINANCE_SHIFT}}Et.LUMINANCE_BITS=5,Et.LUMINANCE_SHIFT=8-Et.LUMINANCE_BITS,Et.LUMINANCE_BUCKETS=1<<Et.LUMINANCE_BITS,Et.EMPTY=Uint8ClampedArray.from([0]);class pt extends Et{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),s=i.getWidth(),a=i.getHeight();if(s>=pt.MINIMUM_DIMENSION&&a>=pt.MINIMUM_DIMENSION){const u=i.getMatrix();let h=s>>pt.BLOCK_SIZE_POWER;(s&pt.BLOCK_SIZE_MASK)!==0&&h++;let g=a>>pt.BLOCK_SIZE_POWER;(a&pt.BLOCK_SIZE_MASK)!==0&&g++;const x=pt.calculateBlackPoints(u,h,g,s,a),_=new Rt(s,a);pt.calculateThresholdForBlock(u,h,g,s,a,x,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new pt(i)}static calculateThresholdForBlock(i,s,a,u,h,g,x){const _=h-pt.BLOCK_SIZE,A=u-pt.BLOCK_SIZE;for(let C=0;C<a;C++){let T=C<<pt.BLOCK_SIZE_POWER;T>_&&(T=_);const N=pt.cap(C,2,a-3);for(let U=0;U<s;U++){let j=U<<pt.BLOCK_SIZE_POWER;j>A&&(j=A);const M=pt.cap(U,2,s-3);let k=0;for(let q=-2;q<=2;q++){const it=g[N+q];k+=it[M-2]+it[M-1]+it[M]+it[M+1]+it[M+2]}const F=k/25;pt.thresholdBlock(i,j,T,F,u,x)}}}static cap(i,s,a){return i<s?s:i>a?a:i}static thresholdBlock(i,s,a,u,h,g){for(let x=0,_=a*h+s;x<pt.BLOCK_SIZE;x++,_+=h)for(let A=0;A<pt.BLOCK_SIZE;A++)(i[_+A]&255)<=u&&g.set(s+A,a+x)}static calculateBlackPoints(i,s,a,u,h){const g=h-pt.BLOCK_SIZE,x=u-pt.BLOCK_SIZE,_=new Array(a);for(let A=0;A<a;A++){_[A]=new Int32Array(s);let C=A<<pt.BLOCK_SIZE_POWER;C>g&&(C=g);for(let T=0;T<s;T++){let N=T<<pt.BLOCK_SIZE_POWER;N>x&&(N=x);let U=0,j=255,M=0;for(let F=0,q=C*u+N;F<pt.BLOCK_SIZE;F++,q+=u){for(let it=0;it<pt.BLOCK_SIZE;it++){const rt=i[q+it]&255;U+=rt,rt<j&&(j=rt),rt>M&&(M=rt)}if(M-j>pt.MIN_DYNAMIC_RANGE)for(F++,q+=u;F<pt.BLOCK_SIZE;F++,q+=u)for(let it=0;it<pt.BLOCK_SIZE;it++)U+=i[q+it]&255}let k=U>>pt.BLOCK_SIZE_POWER*2;if(M-j<=pt.MIN_DYNAMIC_RANGE&&(k=j/2,A>0&&T>0)){const F=(_[A-1][T]+2*_[A][T-1]+_[A-1][T-1])/4;j<F&&(k=F)}_[A][T]=k}}return _}}pt.BLOCK_SIZE_POWER=3,pt.BLOCK_SIZE=1<<pt.BLOCK_SIZE_POWER,pt.BLOCK_SIZE_MASK=pt.BLOCK_SIZE-1,pt.MINIMUM_DIMENSION=pt.BLOCK_SIZE*5,pt.MIN_DYNAMIC_RANGE=24;class Ze{constructor(i,s){this.width=i,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,s,a,u){throw new dt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new dt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new dt("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let s=new gt;for(let a=0;a<this.height;a++){const u=this.getRow(a,i);for(let h=0;h<this.width;h++){const g=u[h]&255;let x;g<64?x="#":g<128?x="+":g<192?x=".":x=" ",s.append(x)}s.append(`
`)}return s.toString()}}class ye extends Ze{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,s){const a=this.delegate.getRow(i,s),u=this.getWidth();for(let h=0;h<u;h++)a[h]=255-(a[h]&255);return a}getMatrix(){const i=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(s);for(let u=0;u<s;u++)a[u]=255-(i[u]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,s,a,u){return new ye(this.delegate.crop(i,s,a,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ye(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ye(this.delegate.rotateCounterClockwise45())}}class dn extends Ze{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=dn.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const s=i.getContext("2d").getImageData(0,0,i.width,i.height);return dn.toGrayscaleBuffer(s.data,i.width,i.height)}static toGrayscaleBuffer(i,s,a){const u=new Uint8ClampedArray(s*a);for(let h=0,g=0,x=i.length;h<x;h+=4,g++){let _;if(i[h+3]===0)_=255;else{const C=i[h],T=i[h+1],N=i[h+2];_=306*C+601*T+117*N+512>>10}u[g]=_}return u}getRow(i,s){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);const a=this.getWidth(),u=i*a;return s===null?s=this.buffer.slice(u,u+a):(s.length<a&&(s=new Uint8ClampedArray(a)),s.set(this.buffer.slice(u,u+a))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,s,a,u){return super.crop(i,s,a,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const s=this.getTempCanvasElement(),a=s.getContext("2d"),u=i*dn.DEGREE_TO_RADIANS,h=this.canvas.width,g=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(u))*h+Math.abs(Math.sin(u))*g),_=Math.ceil(Math.abs(Math.sin(u))*h+Math.abs(Math.cos(u))*g);return s.width=x,s.height=_,a.translate(x/2,_/2),a.rotate(u),a.drawImage(this.canvas,h/-2,g/-2),this.buffer=dn.makeBufferFromCanvasImageData(s),this}invert(){return new ye(this)}}dn.DEGREE_TO_RADIANS=Math.PI/180;class Ln{constructor(i,s,a){this.deviceId=i,this.label=s,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ne=(globalThis||Gi||self||window||void 0)&&(globalThis||Gi||self||window||void 0).__awaiter||function(I,i,s,a){function u(h){return h instanceof s?h:new s(function(g){g(h)})}return new(s||(s=Promise))(function(h,g){function x(C){try{A(a.next(C))}catch(T){g(T)}}function _(C){try{A(a.throw(C))}catch(T){g(T)}}function A(C){C.done?h(C.value):u(C.value).then(x,_)}A((a=a.apply(I,i||[])).next())})};class gn{constructor(i,s=500,a){this.reader=i,this.timeBetweenScansMillis=s,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const a of i){const u=a.kind==="video"?"videoinput":a.kind;if(u!=="videoinput")continue;const h=a.deviceId||a.id,g=a.label||`Video device ${s.length+1}`,x=a.groupId,_={deviceId:h,label:g,kind:u,groupId:x};s.push(_)}return s})}getVideoInputDevices(){return ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Ln(s.deviceId,s.label))})}findDeviceById(i){return ne(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,s){return ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,s)})}decodeOnceFromVideoDevice(i,s){return ne(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const u={video:a};return yield this.decodeOnceFromConstraints(u,s)})}decodeOnceFromConstraints(i,s){return ne(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,s)})}decodeOnceFromStream(i,s){return ne(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,s);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,s,a){return ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,s,a)})}decodeFromVideoDevice(i,s,a){return ne(this,void 0,void 0,function*(){let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeFromConstraints(h,s,a)})}decodeFromConstraints(i,s,a){return ne(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(u,s,a)})}decodeFromStream(i,s,a){return ne(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,s);return yield this.decodeContinuously(u,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,s){return ne(this,void 0,void 0,function*(){const a=this.prepareVideoElement(s);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((s,a)=>this.playVideoOnLoad(i,()=>s()))}playVideoOnLoad(i,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",s),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,s){const a=document.getElementById(i);if(!a)throw new b(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==s.toLowerCase())throw new b(`element with id '${i}' must be an ${s} element`);return a}decodeFromImage(i,s){if(!i&&!s)throw new b("either imageElement with a src set or an url must be provided");return s&&!i?this.decodeFromImageUrl(s):this.decodeFromImageElement(i)}decodeFromVideo(i,s){if(!i&&!s)throw new b("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,s,a){if(i===void 0&&s===void 0)throw new b("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrlContinuously(s,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new b("An image element must be provided.");this.reset();const s=this.prepareImageElement(i);this.imageElement=s;let a;return this.isImageLoaded(s)?a=this.decodeOnce(s,!1,!0):a=this._decodeOnLoadImage(s),a}decodeFromVideoElement(i){const s=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(i,s){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,s)}_decodeFromVideoElementSetup(i){if(!i)throw new b("A video element must be provided.");this.reset();const s=this.prepareVideoElement(i);return this.videoElement=s,s}decodeFromImageUrl(i){if(!i)throw new b("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const a=this._decodeOnLoadImage(s);return s.src=i,a}decodeFromVideoUrl(i){if(!i)throw new b("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElement(s);return s.src=i,a}decodeFromVideoUrlContinuously(i,s){if(!i)throw new b("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(a,s);return a.src=i,u}_decodeOnLoadImage(i){return new Promise((s,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(s,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,s){return ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,s)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let s;return typeof i>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(s=i),s}prepareVideoElement(i){let s;return!i&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(s=i),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(i,s=!0,a=!0){this._stopAsyncDecode=!1;const u=(h,g)=>{if(this._stopAsyncDecode){g(new et("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(i);h(x)}catch(x){const _=s&&x instanceof et,C=(x instanceof O||x instanceof Z)&&a;if(_||C)return setTimeout(u,this._timeBetweenDecodingAttempts,h,g);g(x)}};return new Promise((h,g)=>u(h,g))}decodeContinuously(i,s){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(i);s(u,null),setTimeout(a,this.timeBetweenScansMillis)}catch(u){s(null,u);const h=u instanceof O||u instanceof Z,g=u instanceof et;(h||g)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const s=this.createBinaryBitmap(i);return this.decodeBitmap(s)}createBinaryBitmap(i){const s=this.getCaptureCanvasContext(i);this.drawImageOnCanvas(s,i);const a=this.getCaptureCanvas(i),u=new dn(a),h=new pt(u);return new S(h)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const s=this.createCaptureCanvas(i);this.captureCanvas=s}return this.captureCanvas}drawImageOnCanvas(i,s){i.drawImage(s,0,0)}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let a,u;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,u=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,u=i.naturalHeight||i.height)),s.style.width=a+"px",s.style.height=u+"px",s.width=a,s.height=u,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,s){try{i.srcObject=s}catch{i.src=URL.createObjectURL(s)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class ve{constructor(i,s,a=s==null?0:8*s.length,u,h,g=D.currentTimeMillis()){this.text=i,this.rawBytes=s,this.numBits=a,this.resultPoints=u,this.format=h,this.timestamp=g,this.text=i,this.rawBytes=s,a==null?this.numBits=s==null?0:8*s.length:this.numBits=a,this.resultPoints=u,this.format=h,this.resultMetadata=null,g==null?this.timestamp=D.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,s)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const s=this.resultPoints;if(s===null)this.resultPoints=i;else if(i!==null&&i.length>0){const a=new Array(s.length+i.length);D.arraycopy(s,0,a,0,s.length),D.arraycopy(i,0,a,s.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qi;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qi||(qi={}));var bt=qi,ti;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ti||(ti={}));var Ve=ti;class xi{constructor(i,s,a,u,h=-1,g=-1){this.rawBytes=i,this.text=s,this.byteSegments=a,this.ecLevel=u,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=g,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class mi{exp(i){return this.expTable[i]}log(i){if(i===0)throw new y;return this.logTable[i]}static addOrSubtract(i,s){return i^s}}class pn{constructor(i,s){if(s.length===0)throw new y;this.field=i;const a=s.length;if(a>1&&s[0]===0){let u=1;for(;u<a&&s[u]===0;)u++;u===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-u),D.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const s=this.coefficients;let a;if(i===1){a=0;for(let g=0,x=s.length;g!==x;g++){const _=s[g];a=mi.addOrSubtract(a,_)}return a}a=s[0];const u=s.length,h=this.field;for(let g=1;g<u;g++)a=mi.addOrSubtract(h.multiply(i,a),s[g]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,a=i.coefficients;if(s.length>a.length){const g=s;s=a,a=g}let u=new Int32Array(a.length);const h=a.length-s.length;D.arraycopy(a,0,u,0,h);for(let g=h;g<a.length;g++)u[g]=mi.addOrSubtract(s[g-h],a[g]);return new pn(this.field,u)}multiply(i){if(!this.field.equals(i.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const s=this.coefficients,a=s.length,u=i.coefficients,h=u.length,g=new Int32Array(a+h-1),x=this.field;for(let _=0;_<a;_++){const A=s[_];for(let C=0;C<h;C++)g[_+C]=mi.addOrSubtract(g[_+C],x.multiply(A,u[C]))}return new pn(x,g)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const s=this.coefficients.length,a=this.field,u=new Int32Array(s),h=this.coefficients;for(let g=0;g<s;g++)u[g]=a.multiply(h[g],i);return new pn(a,u)}multiplyByMonomial(i,s){if(i<0)throw new y;if(s===0)return this.field.getZero();const a=this.coefficients,u=a.length,h=new Int32Array(u+i),g=this.field;for(let x=0;x<u;x++)h[x]=g.multiply(a[x],s);return new pn(g,h)}divide(i){if(!this.field.equals(i.field))throw new y("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new y("Divide by 0");const s=this.field;let a=s.getZero(),u=this;const h=i.getCoefficient(i.getDegree()),g=s.inverse(h);for(;u.getDegree()>=i.getDegree()&&!u.isZero();){const x=u.getDegree()-i.getDegree(),_=s.multiply(u.getCoefficient(u.getDegree()),g),A=i.multiplyByMonomial(x,_),C=s.buildMonomial(x,_);a=a.addOrSubtract(C),u=u.addOrSubtract(A)}return[a,u]}toString(){let i="";for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),s===0||a!==1){const u=this.field.log(a);u===0?i+="1":u===1?i+="a":(i+="a^",i+=u)}s!==0&&(s===1?i+="x":(i+="x^",i+=s))}}return i}}class Qi extends m{}Qi.kind="ArithmeticException";class Ht extends mi{constructor(i,s,a){super(),this.primitive=i,this.size=s,this.generatorBase=a;const u=new Int32Array(s);let h=1;for(let x=0;x<s;x++)u[x]=h,h*=2,h>=s&&(h^=i,h&=s-1);this.expTable=u;const g=new Int32Array(s);for(let x=0;x<s-1;x++)g[u[x]]=x;this.logTable=g,this.zero=new pn(this,Int32Array.from([0])),this.one=new pn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new y;if(s===0)return this.zero;const a=new Int32Array(i+1);return a[0]=s,new pn(this,a)}inverse(i){if(i===0)throw new Qi;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+G.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Ht.AZTEC_DATA_12=new Ht(4201,4096,1),Ht.AZTEC_DATA_10=new Ht(1033,1024,1),Ht.AZTEC_DATA_6=new Ht(67,64,1),Ht.AZTEC_PARAM=new Ht(19,16,1),Ht.QR_CODE_FIELD_256=new Ht(285,256,0),Ht.DATA_MATRIX_FIELD_256=new Ht(301,256,1),Ht.AZTEC_DATA_8=Ht.DATA_MATRIX_FIELD_256,Ht.MAXICODE_FIELD_64=Ht.AZTEC_DATA_6;class Ji extends m{}Ji.kind="ReedSolomonException";class Re extends m{}Re.kind="IllegalStateException";class wi{constructor(i){this.field=i}decode(i,s){const a=this.field,u=new pn(a,i),h=new Int32Array(s);let g=!0;for(let U=0;U<s;U++){const j=u.evaluateAt(a.exp(U+a.getGeneratorBase()));h[h.length-1-U]=j,j!==0&&(g=!1)}if(g)return;const x=new pn(a,h),_=this.runEuclideanAlgorithm(a.buildMonomial(s,1),x,s),A=_[0],C=_[1],T=this.findErrorLocations(A),N=this.findErrorMagnitudes(C,T);for(let U=0;U<T.length;U++){const j=i.length-1-a.log(T[U]);if(j<0)throw new Ji("Bad error location");i[j]=Ht.addOrSubtract(i[j],N[U])}}runEuclideanAlgorithm(i,s,a){if(i.getDegree()<s.getDegree()){const U=i;i=s,s=U}const u=this.field;let h=i,g=s,x=u.getZero(),_=u.getOne();for(;g.getDegree()>=(a/2|0);){let U=h,j=x;if(h=g,x=_,h.isZero())throw new Ji("r_{i-1} was zero");g=U;let M=u.getZero();const k=h.getCoefficient(h.getDegree()),F=u.inverse(k);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){const q=g.getDegree()-h.getDegree(),it=u.multiply(g.getCoefficient(g.getDegree()),F);M=M.addOrSubtract(u.buildMonomial(q,it)),g=g.addOrSubtract(h.multiplyByMonomial(q,it))}if(_=M.multiply(x).addOrSubtract(j),g.getDegree()>=h.getDegree())throw new Re("Division algorithm failed to reduce polynomial?")}const A=_.getCoefficient(0);if(A===0)throw new Ji("sigmaTilde(0) was zero");const C=u.inverse(A),T=_.multiplyScalar(C),N=g.multiplyScalar(C);return[T,N]}findErrorLocations(i){const s=i.getDegree();if(s===1)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(s);let u=0;const h=this.field;for(let g=1;g<h.getSize()&&u<s;g++)i.evaluateAt(g)===0&&(a[u]=h.inverse(g),u++);if(u!==s)throw new Ji("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,s){const a=s.length,u=new Int32Array(a),h=this.field;for(let g=0;g<a;g++){const x=h.inverse(s[g]);let _=1;for(let A=0;A<a;A++)if(g!==A){const C=h.multiply(s[A],x),T=(C&1)===0?C|1:C&-2;_=h.multiply(_,T)}u[g]=h.multiply(i.evaluateAt(x),h.inverse(_)),h.getGeneratorBase()!==0&&(u[g]=h.multiply(u[g],x))}return u}}var Ke;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(Ke||(Ke={}));class Vt{decode(i){this.ddata=i;let s=i.getBits(),a=this.extractBits(s),u=this.correctBits(a),h=Vt.convertBoolArrayToByteArray(u),g=Vt.getEncodedData(u),x=new xi(h,g,null,null);return x.setNumBits(u.length),x}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let s=i.length,a=Ke.UPPER,u=Ke.UPPER,h="",g=0;for(;g<s;)if(u===Ke.BINARY){if(s-g<5)break;let x=Vt.readCode(i,g,5);if(g+=5,x===0){if(s-g<11)break;x=Vt.readCode(i,g,11)+31,g+=11}for(let _=0;_<x;_++){if(s-g<8){g=s;break}const A=Vt.readCode(i,g,8);h+=ut.castAsNonUtf8Char(A),g+=8}u=a}else{let x=u===Ke.DIGIT?4:5;if(s-g<x)break;let _=Vt.readCode(i,g,x);g+=x;let A=Vt.getCharacter(u,_);A.startsWith("CTRL_")?(a=u,u=Vt.getTable(A.charAt(5)),A.charAt(6)==="L"&&(a=u)):(h+=A,u=a)}return h}static getTable(i){switch(i){case"L":return Ke.LOWER;case"P":return Ke.PUNCT;case"M":return Ke.MIXED;case"D":return Ke.DIGIT;case"B":return Ke.BINARY;case"U":default:return Ke.UPPER}}static getCharacter(i,s){switch(i){case Ke.UPPER:return Vt.UPPER_TABLE[s];case Ke.LOWER:return Vt.LOWER_TABLE[s];case Ke.MIXED:return Vt.MIXED_TABLE[s];case Ke.PUNCT:return Vt.PUNCT_TABLE[s];case Ke.DIGIT:return Vt.DIGIT_TABLE[s];default:throw new Re("Bad table")}}correctBits(i){let s,a;this.ddata.getNbLayers()<=2?(a=6,s=Ht.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,s=Ht.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,s=Ht.AZTEC_DATA_10):(a=12,s=Ht.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=i.length/a;if(h<u)throw new Z;let g=i.length%a,x=new Int32Array(h);for(let N=0;N<h;N++,g+=a)x[N]=Vt.readCode(i,g,a);try{new wi(s).decode(x,h-u)}catch(N){throw new Z(N)}let _=(1<<a)-1,A=0;for(let N=0;N<u;N++){let U=x[N];if(U===0||U===_)throw new Z;(U===1||U===_-1)&&A++}let C=new Array(u*a-A),T=0;for(let N=0;N<u;N++){let U=x[N];if(U===1||U===_-1)C.fill(U>1,T,T+a-1),T+=a-1;else for(let j=a-1;j>=0;--j)C[T++]=(U&1<<j)!==0}return C}extractBits(i){let s=this.ddata.isCompact(),a=this.ddata.getNbLayers(),u=(s?11:14)+a*4,h=new Int32Array(u),g=new Array(this.totalBitsInLayer(a,s));if(s)for(let x=0;x<h.length;x++)h[x]=x;else{let x=u+1+2*G.truncDivision(G.truncDivision(u,2)-1,15),_=u/2,A=G.truncDivision(x,2);for(let C=0;C<_;C++){let T=C+G.truncDivision(C,15);h[_-C-1]=A-T-1,h[_+C]=A+T+1}}for(let x=0,_=0;x<a;x++){let A=(a-x)*4+(s?9:12),C=x*2,T=u-1-C;for(let N=0;N<A;N++){let U=N*2;for(let j=0;j<2;j++)g[_+U+j]=i.get(h[C+j],h[C+N]),g[_+2*A+U+j]=i.get(h[C+N],h[T-j]),g[_+4*A+U+j]=i.get(h[T-j],h[T-N]),g[_+6*A+U+j]=i.get(h[T-N],h[C+j])}_+=A*8}return g}static readCode(i,s,a){let u=0;for(let h=s;h<s+a;h++)u<<=1,i[h]&&(u|=1);return u}static readByte(i,s){let a=i.length-s;return a>=8?Vt.readCode(i,s,8):Vt.readCode(i,s,a)<<8-a}static convertBoolArrayToByteArray(i){let s=new Uint8Array((i.length+7)/8);for(let a=0;a<s.length;a++)s[a]=Vt.readByte(i,8*a);return s}totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}Vt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Vt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Vt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Vt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Vt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class jt{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,s,a,u){const h=i-a,g=s-u;return Math.sqrt(h*h+g*g)}static sum(i){let s=0;for(let a=0,u=i.length;a!==u;a++)s+=i[a];return s}}class Os{static floatToIntBits(i){return i}}Os.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _t{constructor(i,s){this.x=i,this.y=s}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof _t){const s=i;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Os.floatToIntBits(this.x)+Os.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const s=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),u=this.distance(i[0],i[2]);let h,g,x;if(a>=s&&a>=u?(g=i[0],h=i[1],x=i[2]):u>=a&&u>=s?(g=i[1],h=i[0],x=i[2]):(g=i[2],h=i[0],x=i[1]),this.crossProductZ(h,g,x)<0){const _=h;h=x,x=_}i[0]=h,i[1]=g,i[2]=x}static distance(i,s){return jt.distance(i.x,i.y,s.x,s.y)}static crossProductZ(i,s,a){const u=s.x,h=s.y;return(a.x-u)*(i.y-h)-(a.y-h)*(i.x-u)}}class xn{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Tr extends xn{constructor(i,s,a,u,h){super(i,s),this.compact=a,this.nbDatablocks=u,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pn{constructor(i,s,a,u){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),s==null&&(s=Pn.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),u==null&&(u=i.getHeight()/2|0);const h=s/2|0;if(this.leftInit=a-h,this.rightInit=a+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new et}detect(){let i=this.leftInit,s=this.rightInit,a=this.upInit,u=this.downInit,h=!1,g=!0,x=!1,_=!1,A=!1,C=!1,T=!1;const N=this.width,U=this.height;for(;g;){g=!1;let j=!0;for(;(j||!_)&&s<N;)j=this.containsBlackPoint(a,u,s,!1),j?(s++,g=!0,_=!0):_||s++;if(s>=N){h=!0;break}let M=!0;for(;(M||!A)&&u<U;)M=this.containsBlackPoint(i,s,u,!0),M?(u++,g=!0,A=!0):A||u++;if(u>=U){h=!0;break}let k=!0;for(;(k||!C)&&i>=0;)k=this.containsBlackPoint(a,u,i,!1),k?(i--,g=!0,C=!0):C||i--;if(i<0){h=!0;break}let F=!0;for(;(F||!T)&&a>=0;)F=this.containsBlackPoint(i,s,a,!0),F?(a--,g=!0,T=!0):T||a--;if(a<0){h=!0;break}g&&(x=!0)}if(!h&&x){const j=s-i;let M=null;for(let it=1;M===null&&it<j;it++)M=this.getBlackPointOnSegment(i,u-it,i+it,u);if(M==null)throw new et;let k=null;for(let it=1;k===null&&it<j;it++)k=this.getBlackPointOnSegment(i,a+it,i+it,a);if(k==null)throw new et;let F=null;for(let it=1;F===null&&it<j;it++)F=this.getBlackPointOnSegment(s,a+it,s-it,a);if(F==null)throw new et;let q=null;for(let it=1;q===null&&it<j;it++)q=this.getBlackPointOnSegment(s,u-it,s-it,u);if(q==null)throw new et;return this.centerEdges(q,M,F,k)}else throw new et}getBlackPointOnSegment(i,s,a,u){const h=jt.round(jt.distance(i,s,a,u)),g=(a-i)/h,x=(u-s)/h,_=this.image;for(let A=0;A<h;A++){const C=jt.round(i+A*g),T=jt.round(s+A*x);if(_.get(C,T))return new _t(C,T)}return null}centerEdges(i,s,a,u){const h=i.getX(),g=i.getY(),x=s.getX(),_=s.getY(),A=a.getX(),C=a.getY(),T=u.getX(),N=u.getY(),U=Pn.CORR;return h<this.width/2?[new _t(T-U,N+U),new _t(x+U,_+U),new _t(A-U,C-U),new _t(h+U,g-U)]:[new _t(T+U,N+U),new _t(x+U,_-U),new _t(A-U,C+U),new _t(h-U,g-U)]}containsBlackPoint(i,s,a,u){const h=this.image;if(u){for(let g=i;g<=s;g++)if(h.get(g,a))return!0}else for(let g=i;g<=s;g++)if(h.get(a,g))return!0;return!1}}Pn.INIT_SIZE=10,Pn.CORR=1;class ho{static checkAndNudgePoints(i,s){const a=i.getWidth(),u=i.getHeight();let h=!0;for(let g=0;g<s.length&&h;g+=2){const x=Math.floor(s[g]),_=Math.floor(s[g+1]);if(x<-1||x>a||_<-1||_>u)throw new et;h=!1,x===-1?(s[g]=0,h=!0):x===a&&(s[g]=a-1,h=!0),_===-1?(s[g+1]=0,h=!0):_===u&&(s[g+1]=u-1,h=!0)}h=!0;for(let g=s.length-2;g>=0&&h;g-=2){const x=Math.floor(s[g]),_=Math.floor(s[g+1]);if(x<-1||x>a||_<-1||_>u)throw new et;h=!1,x===-1?(s[g]=0,h=!0):x===a&&(s[g]=a-1,h=!0),_===-1?(s[g+1]=0,h=!0):_===u&&(s[g+1]=u-1,h=!0)}}}class cn{constructor(i,s,a,u,h,g,x,_,A){this.a11=i,this.a21=s,this.a31=a,this.a12=u,this.a22=h,this.a32=g,this.a13=x,this.a23=_,this.a33=A}static quadrilateralToQuadrilateral(i,s,a,u,h,g,x,_,A,C,T,N,U,j,M,k){const F=cn.quadrilateralToSquare(i,s,a,u,h,g,x,_);return cn.squareToQuadrilateral(A,C,T,N,U,j,M,k).times(F)}transformPoints(i){const s=i.length,a=this.a11,u=this.a12,h=this.a13,g=this.a21,x=this.a22,_=this.a23,A=this.a31,C=this.a32,T=this.a33;for(let N=0;N<s;N+=2){const U=i[N],j=i[N+1],M=h*U+_*j+T;i[N]=(a*U+g*j+A)/M,i[N+1]=(u*U+x*j+C)/M}}transformPointsWithValues(i,s){const a=this.a11,u=this.a12,h=this.a13,g=this.a21,x=this.a22,_=this.a23,A=this.a31,C=this.a32,T=this.a33,N=i.length;for(let U=0;U<N;U++){const j=i[U],M=s[U],k=h*j+_*M+T;i[U]=(a*j+g*M+A)/k,s[U]=(u*j+x*M+C)/k}}static squareToQuadrilateral(i,s,a,u,h,g,x,_){const A=i-a+h-x,C=s-u+g-_;if(A===0&&C===0)return new cn(a-i,h-a,i,u-s,g-u,s,0,0,1);{const T=a-h,N=x-h,U=u-g,j=_-g,M=T*j-N*U,k=(A*j-N*C)/M,F=(T*C-A*U)/M;return new cn(a-i+k*a,x-i+F*x,i,u-s+k*u,_-s+F*_,s,k,F,1)}}static quadrilateralToSquare(i,s,a,u,h,g,x,_){return cn.squareToQuadrilateral(i,s,a,u,h,g,x,_).buildAdjoint()}buildAdjoint(){return new cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new cn(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Ra extends ho{sampleGrid(i,s,a,u,h,g,x,_,A,C,T,N,U,j,M,k,F,q,it){const rt=cn.quadrilateralToQuadrilateral(u,h,g,x,_,A,C,T,N,U,j,M,k,F,q,it);return this.sampleGridWithTransform(i,s,a,rt)}sampleGridWithTransform(i,s,a,u){if(s<=0||a<=0)throw new et;const h=new Rt(s,a),g=new Float32Array(2*s);for(let x=0;x<a;x++){const _=g.length,A=x+.5;for(let C=0;C<_;C+=2)g[C]=C/2+.5,g[C+1]=A;u.transformPoints(g),ho.checkAndNudgePoints(i,g);try{for(let C=0;C<_;C+=2)i.get(Math.floor(g[C]),Math.floor(g[C+1]))&&h.set(C/2,x)}catch{throw new et}}return h}}class Bn{static setGridSampler(i){Bn.gridSampler=i}static getInstance(){return Bn.gridSampler}}Bn.gridSampler=new Ra;class De{constructor(i,s){this.x=i,this.y=s}toResultPoint(){return new _t(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ns{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let s=this.getMatrixCenter(),a=this.getBullsEyeCorners(s);if(i){let g=a[0];a[0]=a[2],a[2]=g}this.extractParameters(a);let u=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),h=this.getMatrixCornerPoints(a);return new Tr(u,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new et;let s=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],s),this.sampleLine(i[1],i[2],s),this.sampleLine(i[2],i[3],s),this.sampleLine(i[3],i[0],s)]);this.shift=this.getRotation(a,s);let u=0;for(let g=0;g<4;g++){let x=a[(this.shift+g)%4];this.compact?(u<<=7,u+=x>>1&127):(u<<=10,u+=(x>>2&31<<5)+(x>>1&31))}let h=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(i,s){let a=0;i.forEach((u,h,g)=>{let x=(u>>s-2<<1)+(u&1);a=(a<<3)+x}),a=((a&1)<<11)+(a>>1);for(let u=0;u<4;u++)if(G.bitCount(a^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new et}getCorrectedParameterData(i,s){let a,u;s?(a=7,u=2):(a=10,u=4);let h=a-u,g=new Int32Array(a);for(let _=a-1;_>=0;--_)g[_]=i&15,i>>=4;try{new wi(Ht.AZTEC_PARAM).decode(g,h)}catch{throw new et}let x=0;for(let _=0;_<u;_++)x=(x<<4)+g[_];return x}getBullsEyeCorners(i){let s=i,a=i,u=i,h=i,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(s,g,1,-1),N=this.getFirstDifferent(a,g,1,1),U=this.getFirstDifferent(u,g,-1,1),j=this.getFirstDifferent(h,g,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(j,T)*this.nbCenterLayers/(this.distancePoint(h,s)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(T,N,U,j))break}s=T,a=N,u=U,h=j,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new et;this.compact=this.nbCenterLayers===5;let x=new _t(s.getX()+.5,s.getY()-.5),_=new _t(a.getX()+.5,a.getY()+.5),A=new _t(u.getX()-.5,u.getY()+.5),C=new _t(h.getX()-.5,h.getY()-.5);return this.expandSquare([x,_,A,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,s,a,u;try{let x=new Pn(this.image).detect();i=x[0],s=x[1],a=x[2],u=x[3]}catch{let _=this.image.getWidth()/2,A=this.image.getHeight()/2;i=this.getFirstDifferent(new De(_+7,A-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new De(_+7,A+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new De(_-7,A+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new De(_-7,A-7),!1,-1,-1).toResultPoint()}let h=jt.round((i.getX()+u.getX()+s.getX()+a.getX())/4),g=jt.round((i.getY()+u.getY()+s.getY()+a.getY())/4);try{let x=new Pn(this.image,15,h,g).detect();i=x[0],s=x[1],a=x[2],u=x[3]}catch{i=this.getFirstDifferent(new De(h+7,g-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new De(h+7,g+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new De(h-7,g+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new De(h-7,g-7),!1,-1,-1).toResultPoint()}return h=jt.round((i.getX()+u.getX()+s.getX()+a.getX())/4),g=jt.round((i.getY()+u.getY()+s.getY()+a.getY())/4),new De(h,g)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,s,a,u,h){let g=Bn.getInstance(),x=this.getDimension(),_=x/2-this.nbCenterLayers,A=x/2+this.nbCenterLayers;return g.sampleGrid(i,x,x,_,_,A,_,A,A,_,A,s.getX(),s.getY(),a.getX(),a.getY(),u.getX(),u.getY(),h.getX(),h.getY())}sampleLine(i,s,a){let u=0,h=this.distanceResultPoint(i,s),g=h/a,x=i.getX(),_=i.getY(),A=g*(s.getX()-i.getX())/h,C=g*(s.getY()-i.getY())/h;for(let T=0;T<a;T++)this.image.get(jt.round(x+T*A),jt.round(_+T*C))&&(u|=1<<a-T-1);return u}isWhiteOrBlackRectangle(i,s,a,u){let h=3;i=new De(i.getX()-h,i.getY()+h),s=new De(s.getX()-h,s.getY()-h),a=new De(a.getX()+h,a.getY()-h),u=new De(u.getX()+h,u.getY()+h);let g=this.getColor(u,i);if(g===0)return!1;let x=this.getColor(i,s);return x!==g||(x=this.getColor(s,a),x!==g)?!1:(x=this.getColor(a,u),x===g)}getColor(i,s){let a=this.distancePoint(i,s),u=(s.getX()-i.getX())/a,h=(s.getY()-i.getY())/a,g=0,x=i.getX(),_=i.getY(),A=this.image.get(i.getX(),i.getY()),C=Math.ceil(a);for(let N=0;N<C;N++)x+=u,_+=h,this.image.get(jt.round(x),jt.round(_))!==A&&g++;let T=g/a;return T>.1&&T<.9?0:T<=.1===A?1:-1}getFirstDifferent(i,s,a,u){let h=i.getX()+a,g=i.getY()+u;for(;this.isValid(h,g)&&this.image.get(h,g)===s;)h+=a,g+=u;for(h-=a,g-=u;this.isValid(h,g)&&this.image.get(h,g)===s;)h+=a;for(h-=a;this.isValid(h,g)&&this.image.get(h,g)===s;)g+=u;return g-=u,new De(h,g)}expandSquare(i,s,a){let u=a/(2*s),h=i[0].getX()-i[2].getX(),g=i[0].getY()-i[2].getY(),x=(i[0].getX()+i[2].getX())/2,_=(i[0].getY()+i[2].getY())/2,A=new _t(x+u*h,_+u*g),C=new _t(x-u*h,_-u*g);h=i[1].getX()-i[3].getX(),g=i[1].getY()-i[3].getY(),x=(i[1].getX()+i[3].getX())/2,_=(i[1].getY()+i[3].getY())/2;let T=new _t(x+u*h,_+u*g),N=new _t(x-u*h,_-u*g);return[A,T,C,N]}isValid(i,s){return i>=0&&i<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(i){let s=jt.round(i.getX()),a=jt.round(i.getY());return this.isValid(s,a)}distancePoint(i,s){return jt.distance(i.getX(),i.getY(),s.getX(),s.getY())}distanceResultPoint(i,s){return jt.distance(i.getX(),i.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(G.truncDivision(this.nbLayers-4,8)+1)+15}}class vr{decode(i,s=null){let a=null,u=new Ns(i.getBlackMatrix()),h=null,g=null;try{let C=u.detectMirror(!1);h=C.getPoints(),this.reportFoundResultPoints(s,h),g=new Vt().decode(C)}catch(C){a=C}if(g==null)try{let C=u.detectMirror(!0);h=C.getPoints(),this.reportFoundResultPoints(s,h),g=new Vt().decode(C)}catch(C){throw a!=null?a:C}let x=new ve(g.getText(),g.getRawBytes(),g.getNumBits(),h,bt.AZTEC,D.currentTimeMillis()),_=g.getByteSegments();_!=null&&x.putMetadata(Ve.BYTE_SEGMENTS,_);let A=g.getECLevel();return A!=null&&x.putMetadata(Ve.ERROR_CORRECTION_LEVEL,A),x}reportFoundResultPoints(i,s){if(i!=null){let a=i.get(tt.NEED_RESULT_POINT_CALLBACK);a!=null&&s.forEach((u,h,g)=>{a.foundPossibleResultPoint(u)})}}reset(){}}class fo extends gn{constructor(i=500){super(new vr,i)}}class Ce{decode(i,s){try{return this.doDecode(i,s)}catch{if(s&&s.get(tt.TRY_HARDER)===!0&&i.isRotateSupported()){const h=i.rotateCounterClockwise(),g=this.doDecode(h,s),x=g.getResultMetadata();let _=270;x!==null&&x.get(Ve.ORIENTATION)===!0&&(_=_+x.get(Ve.ORIENTATION)%360),g.putMetadata(Ve.ORIENTATION,_);const A=g.getResultPoints();if(A!==null){const C=h.getHeight();for(let T=0;T<A.length;T++)A[T]=new _t(C-A[T].getY()-1,A[T].getX())}return g}else throw new et}}reset(){}doDecode(i,s){const a=i.getWidth(),u=i.getHeight();let h=new $(a);const g=s&&s.get(tt.TRY_HARDER)===!0,x=Math.max(1,u>>(g?8:5));let _;g?_=u:_=15;const A=Math.trunc(u/2);for(let C=0;C<_;C++){const T=Math.trunc((C+1)/2),N=(C&1)===0,U=A+x*(N?T:-T);if(U<0||U>=u)break;try{h=i.getBlackRow(U,h)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(h.reverse(),s&&s.get(tt.NEED_RESULT_POINT_CALLBACK)===!0)){const M=new Map;s.forEach((k,F)=>M.set(F,k)),M.delete(tt.NEED_RESULT_POINT_CALLBACK),s=M}try{const M=this.decodeRow(U,h,s);if(j===1){M.putMetadata(Ve.ORIENTATION,180);const k=M.getResultPoints();k!==null&&(k[0]=new _t(a-k[0].getX()-1,k[0].getY()),k[1]=new _t(a-k[1].getX()-1,k[1].getY()))}return M}catch{}}}throw new et}static recordPattern(i,s,a){const u=a.length;for(let A=0;A<u;A++)a[A]=0;const h=i.getSize();if(s>=h)throw new et;let g=!i.get(s),x=0,_=s;for(;_<h;){if(i.get(_)!==g)a[x]++;else{if(++x===u)break;a[x]=1,g=!g}_++}if(!(x===u||x===u-1&&_===h))throw new et}static recordPatternInReverse(i,s,a){let u=a.length,h=i.get(s);for(;s>0&&u>=0;)i.get(--s)!==h&&(u--,h=!h);if(u>=0)throw new et;Ce.recordPattern(i,s+1,a)}static patternMatchVariance(i,s,a){const u=i.length;let h=0,g=0;for(let A=0;A<u;A++)h+=i[A],g+=s[A];if(h<g)return Number.POSITIVE_INFINITY;const x=h/g;a*=x;let _=0;for(let A=0;A<u;A++){const C=i[A],T=s[A]*x,N=C>T?C-T:T-C;if(N>a)return Number.POSITIVE_INFINITY;_+=N}return _/h}}class ht extends Ce{static findStartPattern(i){const s=i.getSize(),a=i.getNextSet(0);let u=0,h=Int32Array.from([0,0,0,0,0,0]),g=a,x=!1;const _=6;for(let A=a;A<s;A++)if(i.get(A)!==x)h[u]++;else{if(u===_-1){let C=ht.MAX_AVG_VARIANCE,T=-1;for(let N=ht.CODE_START_A;N<=ht.CODE_START_C;N++){const U=Ce.patternMatchVariance(h,ht.CODE_PATTERNS[N],ht.MAX_INDIVIDUAL_VARIANCE);U<C&&(C=U,T=N)}if(T>=0&&i.isRange(Math.max(0,g-(A-g)/2),g,!1))return Int32Array.from([g,A,T]);g+=h[0]+h[1],h=h.slice(2,h.length-1),h[u-1]=0,h[u]=0,u--}else u++;h[u]=1,x=!x}throw new et}static decodeCode(i,s,a){Ce.recordPattern(i,a,s);let u=ht.MAX_AVG_VARIANCE,h=-1;for(let g=0;g<ht.CODE_PATTERNS.length;g++){const x=ht.CODE_PATTERNS[g],_=this.patternMatchVariance(s,x,ht.MAX_INDIVIDUAL_VARIANCE);_<u&&(u=_,h=g)}if(h>=0)return h;throw new et}decodeRow(i,s,a){const u=a&&a.get(tt.ASSUME_GS1)===!0,h=ht.findStartPattern(s),g=h[2];let x=0;const _=new Uint8Array(20);_[x++]=g;let A;switch(g){case ht.CODE_START_A:A=ht.CODE_CODE_A;break;case ht.CODE_START_B:A=ht.CODE_CODE_B;break;case ht.CODE_START_C:A=ht.CODE_CODE_C;break;default:throw new Z}let C=!1,T=!1,N="",U=h[0],j=h[1];const M=Int32Array.from([0,0,0,0,0,0]);let k=0,F=0,q=g,it=0,rt=!0,It=!1,xt=!1;for(;!C;){const Si=T;switch(T=!1,k=F,F=ht.decodeCode(s,M,j),_[x++]=F,F!==ht.CODE_STOP&&(rt=!0),F!==ht.CODE_STOP&&(it++,q+=it*F),U=j,j+=M.reduce((ae,Zc)=>ae+Zc,0),F){case ht.CODE_START_A:case ht.CODE_START_B:case ht.CODE_START_C:throw new Z}switch(A){case ht.CODE_CODE_A:if(F<64)xt===It?N+=String.fromCharCode(" ".charCodeAt(0)+F):N+=String.fromCharCode(" ".charCodeAt(0)+F+128),xt=!1;else if(F<96)xt===It?N+=String.fromCharCode(F-64):N+=String.fromCharCode(F+64),xt=!1;else switch(F!==ht.CODE_STOP&&(rt=!1),F){case ht.CODE_FNC_1:u&&(N.length===0?N+="]C1":N+=String.fromCharCode(29));break;case ht.CODE_FNC_2:case ht.CODE_FNC_3:break;case ht.CODE_FNC_4_A:!It&&xt?(It=!0,xt=!1):It&&xt?(It=!1,xt=!1):xt=!0;break;case ht.CODE_SHIFT:T=!0,A=ht.CODE_CODE_B;break;case ht.CODE_CODE_B:A=ht.CODE_CODE_B;break;case ht.CODE_CODE_C:A=ht.CODE_CODE_C;break;case ht.CODE_STOP:C=!0;break}break;case ht.CODE_CODE_B:if(F<96)xt===It?N+=String.fromCharCode(" ".charCodeAt(0)+F):N+=String.fromCharCode(" ".charCodeAt(0)+F+128),xt=!1;else switch(F!==ht.CODE_STOP&&(rt=!1),F){case ht.CODE_FNC_1:u&&(N.length===0?N+="]C1":N+=String.fromCharCode(29));break;case ht.CODE_FNC_2:case ht.CODE_FNC_3:break;case ht.CODE_FNC_4_B:!It&&xt?(It=!0,xt=!1):It&&xt?(It=!1,xt=!1):xt=!0;break;case ht.CODE_SHIFT:T=!0,A=ht.CODE_CODE_A;break;case ht.CODE_CODE_A:A=ht.CODE_CODE_A;break;case ht.CODE_CODE_C:A=ht.CODE_CODE_C;break;case ht.CODE_STOP:C=!0;break}break;case ht.CODE_CODE_C:if(F<100)F<10&&(N+="0"),N+=F;else switch(F!==ht.CODE_STOP&&(rt=!1),F){case ht.CODE_FNC_1:u&&(N.length===0?N+="]C1":N+=String.fromCharCode(29));break;case ht.CODE_CODE_A:A=ht.CODE_CODE_A;break;case ht.CODE_CODE_B:A=ht.CODE_CODE_B;break;case ht.CODE_STOP:C=!0;break}break}Si&&(A=A===ht.CODE_CODE_A?ht.CODE_CODE_B:ht.CODE_CODE_A)}const sn=j-U;if(j=s.getNextUnset(j),!s.isRange(j,Math.min(s.getSize(),j+(j-U)/2),!1))throw new et;if(q-=it*k,q%103!==k)throw new O;const Xn=N.length;if(Xn===0)throw new et;Xn>0&&rt&&(A===ht.CODE_CODE_C?N=N.substring(0,Xn-2):N=N.substring(0,Xn-1));const pe=(h[1]+h[0])/2,te=U+sn/2,Je=_.length,Ge=new Uint8Array(Je);for(let Si=0;Si<Je;Si++)Ge[Si]=_[Si];const Ci=[new _t(pe,i),new _t(te,i)];return new ve(N,Ge,0,Ci,bt.CODE_128,new Date().getTime())}}ht.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ht.MAX_AVG_VARIANCE=.25,ht.MAX_INDIVIDUAL_VARIANCE=.7,ht.CODE_SHIFT=98,ht.CODE_CODE_C=99,ht.CODE_CODE_B=100,ht.CODE_CODE_A=101,ht.CODE_FNC_1=102,ht.CODE_FNC_2=97,ht.CODE_FNC_3=96,ht.CODE_FNC_4_A=101,ht.CODE_FNC_4_B=100,ht.CODE_START_A=103,ht.CODE_START_B=104,ht.CODE_START_C=105,ht.CODE_STOP=106;class Me extends Ce{constructor(i=!1,s=!1){super(),this.usingCheckDigit=i,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,s,a){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=Me.findAsteriskPattern(s,u),g=s.getNextSet(h[1]),x=s.getSize(),_,A;do{Me.recordPattern(s,g,u);let M=Me.toNarrowWidePattern(u);if(M<0)throw new et;_=Me.patternToChar(M),this.decodeRowResult+=_,A=g;for(let k of u)g+=k;g=s.getNextSet(g)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let M of u)C+=M;let T=g-A-C;if(g!==x&&T*2<C)throw new et;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,k=0;for(let F=0;F<M;F++)k+=Me.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(F));if(this.decodeRowResult.charAt(M)!==Me.ALPHABET_STRING.charAt(k%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new et;let N;this.extendedMode?N=Me.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let U=(h[1]+h[0])/2,j=A+C/2;return new ve(N,null,0,[new _t(U,i),new _t(j,i)],bt.CODE_39,new Date().getTime())}static findAsteriskPattern(i,s){let a=i.getSize(),u=i.getNextSet(0),h=0,g=u,x=!1,_=s.length;for(let A=u;A<a;A++)if(i.get(A)!==x)s[h]++;else{if(h===_-1){if(this.toNarrowWidePattern(s)===Me.ASTERISK_ENCODING&&i.isRange(Math.max(0,g-Math.floor((A-g)/2)),g,!1))return[g,A];g+=s[0]+s[1],s.copyWithin(0,2,2+h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,x=!x}throw new et}static toNarrowWidePattern(i){let s=i.length,a=0,u;do{let h=2147483647;for(let _ of i)_<h&&_>a&&(h=_);a=h,u=0;let g=0,x=0;for(let _=0;_<s;_++){let A=i[_];A>a&&(x|=1<<s-1-_,u++,g+=A)}if(u===3){for(let _=0;_<s&&u>0;_++){let A=i[_];if(A>a&&(u--,A*2>=g))return-1}return x}}while(u>3);return-1}static patternToChar(i){for(let s=0;s<Me.CHARACTER_ENCODINGS.length;s++)if(Me.CHARACTER_ENCODINGS[s]===i)return Me.ALPHABET_STRING.charAt(s);if(i===Me.ASTERISK_ENCODING)return"*";throw new et}static decodeExtended(i){let s=i.length,a="";for(let u=0;u<s;u++){let h=i.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let g=i.charAt(u+1),x="\0";switch(h){case"+":if(g>="A"&&g<="Z")x=String.fromCharCode(g.charCodeAt(0)+32);else throw new Z;break;case"$":if(g>="A"&&g<="Z")x=String.fromCharCode(g.charCodeAt(0)-64);else throw new Z;break;case"%":if(g>="A"&&g<="E")x=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")x=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")x=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")x=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")x="\0";else if(g==="V")x="@";else if(g==="W")x="`";else if(g==="X"||g==="Y"||g==="Z")x="\x7F";else throw new Z;break;case"/":if(g>="A"&&g<="O")x=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")x=":";else throw new Z;break}a+=x,u++}else a+=h}return a}}Me.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Me.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Me.ASTERISK_ENCODING=148;class ie extends Ce{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,s,a){let u=this.decodeStart(s),h=this.decodeEnd(s),g=new gt;ie.decodeMiddle(s,u[1],h[0],g);let x=g.toString(),_=null;a!=null&&(_=a.get(tt.ALLOWED_LENGTHS)),_==null&&(_=ie.DEFAULT_ALLOWED_LENGTHS);let A=x.length,C=!1,T=0;for(let j of _){if(A===j){C=!0;break}j>T&&(T=j)}if(!C&&A>T&&(C=!0),!C)throw new Z;const N=[new _t(u[1],i),new _t(h[0],i)];return new ve(x,null,0,N,bt.ITF,new Date().getTime())}static decodeMiddle(i,s,a,u){let h=new Int32Array(10),g=new Int32Array(5),x=new Int32Array(5);for(h.fill(0),g.fill(0),x.fill(0);s<a;){Ce.recordPattern(i,s,h);for(let A=0;A<5;A++){let C=2*A;g[A]=h[C],x[A]=h[C+1]}let _=ie.decodeDigit(g);u.append(_.toString()),_=this.decodeDigit(x),u.append(_.toString()),h.forEach(function(A){s+=A})}}decodeStart(i){let s=ie.skipWhiteSpace(i),a=ie.findGuardPattern(i,s,ie.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,s){let a=this.narrowLineWidth*10;a=a<s?a:s;for(let u=s-1;a>0&&u>=0&&!i.get(u);u--)a--;if(a!==0)throw new et}static skipWhiteSpace(i){const s=i.getSize(),a=i.getNextSet(0);if(a===s)throw new et;return a}decodeEnd(i){i.reverse();try{let s=ie.skipWhiteSpace(i),a;try{a=ie.findGuardPattern(i,s,ie.END_PATTERN_REVERSED[0])}catch(h){h instanceof et&&(a=ie.findGuardPattern(i,s,ie.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let u=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-u,a}finally{i.reverse()}}static findGuardPattern(i,s,a){let u=a.length,h=new Int32Array(u),g=i.getSize(),x=!1,_=0,A=s;h.fill(0);for(let C=s;C<g;C++)if(i.get(C)!==x)h[_]++;else{if(_===u-1){if(Ce.patternMatchVariance(h,a,ie.MAX_INDIVIDUAL_VARIANCE)<ie.MAX_AVG_VARIANCE)return[A,C];A+=h[0]+h[1],D.arraycopy(h,2,h,0,_-1),h[_-1]=0,h[_]=0,_--}else _++;h[_]=1,x=!x}throw new et}static decodeDigit(i){let s=ie.MAX_AVG_VARIANCE,a=-1,u=ie.PATTERNS.length;for(let h=0;h<u;h++){let g=ie.PATTERNS[h],x=Ce.patternMatchVariance(i,g,ie.MAX_INDIVIDUAL_VARIANCE);x<s?(s=x,a=h):x===s&&(a=-1)}if(a>=0)return a%10;throw new et}}ie.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ie.MAX_AVG_VARIANCE=.38,ie.MAX_INDIVIDUAL_VARIANCE=.5,ie.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ie.START_PATTERN=Int32Array.from([1,1,1,1]),ie.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xe extends Ce{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let s=!1,a,u=0,h=Int32Array.from([0,0,0]);for(;!s;){h=Int32Array.from([0,0,0]),a=xe.findGuardPattern(i,u,!1,this.START_END_PATTERN,h);let g=a[0];u=a[1];let x=g-(u-g);x>=0&&(s=i.isRange(x,g,!1))}return a}static checkChecksum(i){return xe.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let a=parseInt(i.charAt(s-1),10);return xe.getStandardUPCEANChecksum(i.substring(0,s-1))===a}static getStandardUPCEANChecksum(i){let s=i.length,a=0;for(let u=s-1;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new Z;a+=h}a*=3;for(let u=s-2;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new Z;a+=h}return(1e3-a)%10}static decodeEnd(i,s){return xe.findGuardPattern(i,s,!1,xe.START_END_PATTERN,new Int32Array(xe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,s,a,u){return this.findGuardPattern(i,s,a,u,new Int32Array(u.length))}static findGuardPattern(i,s,a,u,h){let g=i.getSize();s=a?i.getNextUnset(s):i.getNextSet(s);let x=0,_=s,A=u.length,C=a;for(let T=s;T<g;T++)if(i.get(T)!==C)h[x]++;else{if(x===A-1){if(Ce.patternMatchVariance(h,u,xe.MAX_INDIVIDUAL_VARIANCE)<xe.MAX_AVG_VARIANCE)return Int32Array.from([_,T]);_+=h[0]+h[1];let N=h.slice(2,h.length-1);for(let U=0;U<x-1;U++)h[U]=N[U];h[x-1]=0,h[x]=0,x--}else x++;h[x]=1,C=!C}throw new et}static decodeDigit(i,s,a,u){this.recordPattern(i,a,s);let h=this.MAX_AVG_VARIANCE,g=-1,x=u.length;for(let _=0;_<x;_++){let A=u[_],C=Ce.patternMatchVariance(s,A,xe.MAX_INDIVIDUAL_VARIANCE);C<h&&(h=C,g=_)}if(g>=0)return g;throw new et}}xe.MAX_AVG_VARIANCE=.48,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.START_END_PATTERN=Int32Array.from([1,1,1]),xe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class $i{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,a){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(s,a,u),g=u.toString(),x=$i.parseExtensionString(g),_=[new _t((a[0]+a[1])/2,i),new _t(h,i)],A=new ve(g,null,0,_,bt.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&A.putAllMetadata(x),A}decodeMiddle(i,s,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),g=s[1],x=0;for(let A=0;A<5&&g<h;A++){let C=xe.decodeDigit(i,u,g,xe.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let T of u)g+=T;C>=10&&(x|=1<<4-A),A!==4&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(a.length!==5)throw new et;let _=this.determineCheckDigit(x);if($i.extensionChecksum(a.toString())!==_)throw new et;return g}static extensionChecksum(i){let s=i.length,a=0;for(let u=s-2;u>=0;u-=2)a+=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);a*=3;for(let u=s-1;u>=0;u-=2)a+=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return a*=3,a%10}determineCheckDigit(i){for(let s=0;s<10;s++)if(i===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new et}static parseExtensionString(i){if(i.length!==5)return null;let s=$i.parseExtension5String(i);return s==null?null:new Map([[Ve.SUGGESTED_PRICE,s]])}static parseExtension5String(i){let s;switch(i.charAt(0)){case"0":s="\xA3";break;case"5":s="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let a=parseInt(i.substring(1)),u=(a/100).toString(),h=a%100,g=h<10?"0"+h:h.toString();return s+u+"."+g}}class go{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,a){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(s,a,u),g=u.toString(),x=go.parseExtensionString(g),_=[new _t((a[0]+a[1])/2,i),new _t(h,i)],A=new ve(g,null,0,_,bt.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&A.putAllMetadata(x),A}decodeMiddle(i,s,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),g=s[1],x=0;for(let _=0;_<2&&g<h;_++){let A=xe.decodeDigit(i,u,g,xe.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let C of u)g+=C;A>=10&&(x|=1<<1-_),_!==1&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(a.length!==2)throw new et;if(parseInt(a.toString())%4!==x)throw new et;return g}static parseExtensionString(i){return i.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(i)]])}}class Da{static decodeRow(i,s,a){let u=xe.findGuardPattern(s,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new $i().decodeRow(i,s,u)}catch{return new go().decodeRow(i,s,u)}}}Da.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class qt extends xe{constructor(){super(),this.decodeRowStringBuffer="",qt.L_AND_G_PATTERNS=qt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let s=qt.L_PATTERNS[i-10],a=new Int32Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[s.length-u-1];qt.L_AND_G_PATTERNS[i]=a}}decodeRow(i,s,a){let u=qt.findStartGuardPattern(s),h=a==null?null:a.get(tt.NEED_RESULT_POINT_CALLBACK);if(h!=null){const rt=new _t((u[0]+u[1])/2,i);h.foundPossibleResultPoint(rt)}let g=this.decodeMiddle(s,u,this.decodeRowStringBuffer),x=g.rowOffset,_=g.resultString;if(h!=null){const rt=new _t(x,i);h.foundPossibleResultPoint(rt)}let A=qt.decodeEnd(s,x);if(h!=null){const rt=new _t((A[0]+A[1])/2,i);h.foundPossibleResultPoint(rt)}let C=A[1],T=C+(C-A[0]);if(T>=s.getSize()||!s.isRange(C,T,!1))throw new et;let N=_.toString();if(N.length<8)throw new Z;if(!qt.checkChecksum(N))throw new O;let U=(u[1]+u[0])/2,j=(A[1]+A[0])/2,M=this.getBarcodeFormat(),k=[new _t(U,i),new _t(j,i)],F=new ve(N,null,0,k,M,new Date().getTime()),q=0;try{let rt=Da.decodeRow(i,s,A[1]);F.putMetadata(Ve.UPC_EAN_EXTENSION,rt.getText()),F.putAllMetadata(rt.getResultMetadata()),F.addResultPoints(rt.getResultPoints()),q=rt.getText().length}catch{}let it=a==null?null:a.get(tt.ALLOWED_EAN_EXTENSIONS);if(it!=null){let rt=!1;for(let It in it)if(q.toString()===It){rt=!0;break}if(!rt)throw new et}return M===bt.EAN_13||bt.UPC_A,F}static checkChecksum(i){return qt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let a=parseInt(i.charAt(s-1),10);return qt.getStandardUPCEANChecksum(i.substring(0,s-1))===a}static getStandardUPCEANChecksum(i){let s=i.length,a=0;for(let u=s-1;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new Z;a+=h}a*=3;for(let u=s-2;u>=0;u-=2){let h=i.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new Z;a+=h}return(1e3-a)%10}static decodeEnd(i,s){return qt.findGuardPattern(i,s,!1,qt.START_END_PATTERN,new Int32Array(qt.START_END_PATTERN.length).fill(0))}}class Li extends qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),g=s[1],x=0;for(let A=0;A<6&&g<h;A++){let C=qt.decodeDigit(i,u,g,qt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let T of u)g+=T;C>=10&&(x|=1<<5-A)}a=Li.determineFirstDigit(a,x),g=qt.findGuardPattern(i,g,!0,qt.MIDDLE_PATTERN,new Int32Array(qt.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&g<h;A++){let C=qt.decodeDigit(i,u,g,qt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+C);for(let T of u)g+=T}return{rowOffset:g,resultString:a}}getBarcodeFormat(){return bt.EAN_13}static determineFirstDigit(i,s){for(let a=0;a<10;a++)if(s===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode("0".charCodeAt(0)+a)+i,i;throw new et}}Li.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class po extends qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),g=s[1];for(let _=0;_<4&&g<h;_++){let A=qt.decodeDigit(i,u,g,qt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+A);for(let C of u)g+=C}g=qt.findGuardPattern(i,g,!0,qt.MIDDLE_PATTERN,new Int32Array(qt.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&g<h;_++){let A=qt.decodeDigit(i,u,g,qt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+A);for(let C of u)g+=C}return{rowOffset:g,resultString:a}}getBarcodeFormat(){return bt.EAN_8}}class Lc extends qt{constructor(){super(...arguments),this.ean13Reader=new Li}getBarcodeFormat(){return bt.UPC_A}decode(i,s){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,s,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,s,a))}decodeMiddle(i,s,a){return this.ean13Reader.decodeMiddle(i,s,a)}maybeReturnResult(i){let s=i.getText();if(s.charAt(0)==="0"){let a=new ve(s.substring(1),null,null,i.getResultPoints(),bt.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new et}reset(){this.ean13Reader.reset()}}class Yn extends qt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,s,a){const u=this.decodeMiddleCounters.map(_=>_);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const h=i.getSize();let g=s[1],x=0;for(let _=0;_<6&&g<h;_++){const A=Yn.decodeDigit(i,u,g,Yn.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let C of u)g+=C;A>=10&&(x|=1<<5-_)}return Yn.determineNumSysAndCheckDigit(new gt(a),x),g}decodeEnd(i,s){return Yn.findGuardPatternWithoutCounters(i,s,!0,Yn.MIDDLE_END_PATTERN)}checkChecksum(i){return qt.checkChecksum(Yn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,s){for(let a=0;a<=1;a++)for(let u=0;u<10;u++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][u]){i.insert(0,"0"+a),i.append("0"+u);return}throw et.getNotFoundInstance()}getBarcodeFormat(){return bt.UPC_E}static convertUPCEtoUPCA(i){const s=i.slice(1,7).split("").map(h=>h.charCodeAt(0)),a=new gt;a.append(i.charAt(0));let u=s[5];switch(u){case 0:case 1:case 2:a.appendChars(s,0,2),a.append(u),a.append("0000"),a.appendChars(s,2,3);break;case 3:a.appendChars(s,0,3),a.append("00000"),a.appendChars(s,3,2);break;case 4:a.appendChars(s,0,4),a.append("00000"),a.append(s[4]);break;default:a.appendChars(s,0,5),a.append("0000"),a.append(u);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}Yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class xo extends Ce{constructor(i){super();let s=i==null?null:i.get(tt.POSSIBLE_FORMATS),a=[];s!=null&&(s.indexOf(bt.EAN_13)>-1?a.push(new Li):s.indexOf(bt.UPC_A)>-1&&a.push(new Lc),s.indexOf(bt.EAN_8)>-1&&a.push(new po),s.indexOf(bt.UPC_E)>-1&&a.push(new Yn)),a.length===0&&(a.push(new Li),a.push(new po),a.push(new Yn)),this.readers=a}decodeRow(i,s,a){for(let u of this.readers)try{const h=u.decodeRow(i,s,a),g=h.getBarcodeFormat()===bt.EAN_13&&h.getText().charAt(0)==="0",x=a==null?null:a.get(tt.POSSIBLE_FORMATS),_=x==null||x.includes(bt.UPC_A);if(g&&_){const A=h.getRawBytes(),C=new ve(h.getText().substring(1),A,A.length,h.getResultPoints(),bt.UPC_A);return C.putAllMetadata(h.getResultMetadata()),C}return h}catch{}throw new et}reset(){for(let i of this.readers)i.reset()}}class en extends Ce{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,s){for(let a=0;a<s.length;a++)if(Ce.patternMatchVariance(i,s[a],en.MAX_INDIVIDUAL_VARIANCE)<en.MAX_AVG_VARIANCE)return a;throw new et}static count(i){return jt.sum(new Int32Array(i))}static increment(i,s){let a=0,u=s[0];for(let h=1;h<i.length;h++)s[h]>u&&(u=s[h],a=h);i[a]++}static decrement(i,s){let a=0,u=s[0];for(let h=1;h<i.length;h++)s[h]<u&&(u=s[h],a=h);i[a]--}static isFinderPattern(i){let s=i[0]+i[1],a=s+i[2]+i[3],u=s/a;if(u>=en.MIN_FINDER_PATTERN_RATIO&&u<=en.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let x of i)x>g&&(g=x),x<h&&(h=x);return g<10*h}return!1}}en.MAX_AVG_VARIANCE=.2,en.MAX_INDIVIDUAL_VARIANCE=.45,en.MIN_FINDER_PATTERN_RATIO=9.5/12,en.MAX_FINDER_PATTERN_RATIO=12.5/14;class tr{constructor(i,s){this.value=i,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof tr))return!1;const s=i;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Rs{constructor(i,s,a,u,h){this.value=i,this.startEnd=s,this.value=i,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new _t(a,h)),this.resultPoints.push(new _t(u,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Rs))return!1;const s=i;return this.value===s.value}hashCode(){return this.value}}class ei{constructor(){}static getRSSvalue(i,s,a){let u=0;for(let _ of i)u+=_;let h=0,g=0,x=i.length;for(let _=0;_<x-1;_++){let A;for(A=1,g|=1<<_;A<i[_];A++,g&=~(1<<_)){let C=ei.combins(u-A-1,x-_-2);if(a&&g===0&&u-A-(x-_-1)>=x-_-1&&(C-=ei.combins(u-A-(x-_),x-_-2)),x-_-1>1){let T=0;for(let N=u-A-(x-_-2);N>s;N--)T+=ei.combins(u-A-N-1,x-_-3);C-=T*(x-1-_)}else u-A>s&&C--;h+=C}u-=A}return h}static combins(i,s){let a,u;i-s>s?(u=s,a=i-s):(u=i-s,a=s);let h=1,g=1;for(let x=i;x>a;x--)h*=x,g<=u&&(h/=g,g++);for(;g<=u;)h/=g,g++;return h}}class Pc{static buildBitArray(i){let s=i.length*2-1;i[i.length-1].getRightChar()==null&&(s-=1);let a=12*s,u=new $(a),h=0,x=i[0].getRightChar().getValue();for(let _=11;_>=0;--_)(x&1<<_)!=0&&u.set(h),h++;for(let _=1;_<i.length;++_){let A=i[_],C=A.getLeftChar().getValue();for(let T=11;T>=0;--T)(C&1<<T)!=0&&u.set(h),h++;if(A.getRightChar()!=null){let T=A.getRightChar().getValue();for(let N=11;N>=0;--N)(T&1<<N)!=0&&u.set(h),h++}}return u}}class _i{constructor(i,s){s?this.decodedInformation=null:(this.finished=i,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class mo{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class nn extends mo{constructor(i,s){super(i),this.value=s}getValue(){return this.value}isFNC1(){return this.value===nn.FNC1}}nn.FNC1="$";class er extends mo{constructor(i,s,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class kn extends mo{constructor(i,s,a){if(super(i),s<0||s>10||a<0||a>10)throw new Z;this.firstDigit=s,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===kn.FNC1}isSecondDigitFNC1(){return this.secondDigit===kn.FNC1}isAnyFNC1(){return this.firstDigit===kn.FNC1||this.secondDigit===kn.FNC1}}kn.FNC1=10;class mt{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new et;let s=i.substring(0,2);for(let h of mt.TWO_DIGIT_DATA_LENGTH)if(h[0]===s)return h[1]===mt.VARIABLE_LENGTH?mt.processVariableAI(2,h[2],i):mt.processFixedAI(2,h[1],i);if(i.length<3)throw new et;let a=i.substring(0,3);for(let h of mt.THREE_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===mt.VARIABLE_LENGTH?mt.processVariableAI(3,h[2],i):mt.processFixedAI(3,h[1],i);for(let h of mt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===mt.VARIABLE_LENGTH?mt.processVariableAI(4,h[2],i):mt.processFixedAI(4,h[1],i);if(i.length<4)throw new et;let u=i.substring(0,4);for(let h of mt.FOUR_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===mt.VARIABLE_LENGTH?mt.processVariableAI(4,h[2],i):mt.processFixedAI(4,h[1],i);throw new et}static processFixedAI(i,s,a){if(a.length<i)throw new et;let u=a.substring(0,i);if(a.length<i+s)throw new et;let h=a.substring(i,i+s),g=a.substring(i+s),x="("+u+")"+h,_=mt.parseFieldsInGeneralPurpose(g);return _==null?x:x+_}static processVariableAI(i,s,a){let u=a.substring(0,i),h;a.length<i+s?h=a.length:h=i+s;let g=a.substring(i,h),x=a.substring(h),_="("+u+")"+g,A=mt.parseFieldsInGeneralPurpose(x);return A==null?_:_+A}}mt.VARIABLE_LENGTH=[],mt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",mt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",mt.VARIABLE_LENGTH,20],["22",mt.VARIABLE_LENGTH,29],["30",mt.VARIABLE_LENGTH,8],["37",mt.VARIABLE_LENGTH,8],["90",mt.VARIABLE_LENGTH,30],["91",mt.VARIABLE_LENGTH,30],["92",mt.VARIABLE_LENGTH,30],["93",mt.VARIABLE_LENGTH,30],["94",mt.VARIABLE_LENGTH,30],["95",mt.VARIABLE_LENGTH,30],["96",mt.VARIABLE_LENGTH,30],["97",mt.VARIABLE_LENGTH,3],["98",mt.VARIABLE_LENGTH,30],["99",mt.VARIABLE_LENGTH,30]],mt.THREE_DIGIT_DATA_LENGTH=[["240",mt.VARIABLE_LENGTH,30],["241",mt.VARIABLE_LENGTH,30],["242",mt.VARIABLE_LENGTH,6],["250",mt.VARIABLE_LENGTH,30],["251",mt.VARIABLE_LENGTH,30],["253",mt.VARIABLE_LENGTH,17],["254",mt.VARIABLE_LENGTH,20],["400",mt.VARIABLE_LENGTH,30],["401",mt.VARIABLE_LENGTH,30],["402",17],["403",mt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",mt.VARIABLE_LENGTH,20],["421",mt.VARIABLE_LENGTH,15],["422",3],["423",mt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],mt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",mt.VARIABLE_LENGTH,15],["391",mt.VARIABLE_LENGTH,18],["392",mt.VARIABLE_LENGTH,15],["393",mt.VARIABLE_LENGTH,18],["703",mt.VARIABLE_LENGTH,30]],mt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",mt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",mt.VARIABLE_LENGTH,20],["8003",mt.VARIABLE_LENGTH,30],["8004",mt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",mt.VARIABLE_LENGTH,30],["8008",mt.VARIABLE_LENGTH,12],["8018",18],["8020",mt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",mt.VARIABLE_LENGTH,70],["8200",mt.VARIABLE_LENGTH,70]];class Mr{constructor(i){this.buffer=new gt,this.information=i}decodeAllCodes(i,s){let a=s,u=null;do{let h=this.decodeGeneralPurposeField(a,u),g=mt.parseFieldsInGeneralPurpose(h.getNewString());if(g!=null&&i.append(g),h.isRemaining()?u=""+h.getRemainingValue():u=null,a===h.getNewPosition())break;a=h.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let s=i;s<i+3;++s)if(this.information.get(s))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(i,4);return h===0?new kn(this.information.getSize(),kn.FNC1,kn.FNC1):new kn(this.information.getSize(),h-1,kn.FNC1)}let s=this.extractNumericValueFromBitArray(i,7),a=(s-8)/11,u=(s-8)%11;return new kn(i+7,a,u)}extractNumericValueFromBitArray(i,s){return Mr.extractNumericValueFromBitArray(this.information,i,s)}static extractNumericValueFromBitArray(i,s,a){let u=0;for(let h=0;h<a;++h)i.get(s+h)&&(u|=1<<a-h-1);return u}decodeGeneralPurposeField(i,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new er(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new er(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,s;do{let a=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),i=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),i=s.isFinished()):(s=this.parseNumericBlock(),i=s.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let s;return i.isSecondDigitFNC1()?s=new er(this.current.getPosition(),this.buffer.toString()):s=new er(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new _i(!0,s)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let s=new er(this.current.getPosition(),this.buffer.toString());return new _i(!0,s)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new _i(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new er(this.current.getPosition(),this.buffer.toString());return new _i(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new _i(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new er(this.current.getPosition(),this.buffer.toString());return new _i(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new _i(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,8);return u>=232&&u<253}decodeIsoIec646(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new nn(i+5,nn.FNC1);if(s>=5&&s<15)return new nn(i+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new nn(i+7,""+(a+1));if(a>=90&&a<116)return new nn(i+7,""+(a+7));let u=this.extractNumericValueFromBitArray(i,8),h;switch(u){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new Z}return new nn(i+8,h)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new nn(i+5,nn.FNC1);if(s>=5&&s<15)return new nn(i+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new nn(i+6,""+(a+33));let u;switch(a){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Re("Decoding invalid alphanumeric value: "+a)}return new nn(i+6,u)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<5&&s+i<this.information.getSize();++s)if(s===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+s))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let s=i;s<i+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<4&&s+i<this.information.getSize();++s)if(this.information.get(i+s))return!1;return!0}}class La{constructor(i){this.information=i,this.generalDecoder=new Mr(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class mn extends La{constructor(i){super(i)}encodeCompressedGtin(i,s){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,s,a)}encodeCompressedGtinWithoutAI(i,s,a){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*u,10);h/100===0&&i.append("0"),h/10===0&&i.append("0"),i.append(h)}mn.appendCheckDigit(i,a)}static appendCheckDigit(i,s){let a=0;for(let u=0;u<13;u++){let h=i.charAt(u+s).charCodeAt(0)-"0".charCodeAt(0);a+=(u&1)===0?3*h:h}a=10-a%10,a===10&&(a=0),i.append(a)}}mn.GTIN_SIZE=40;class Or extends mn{constructor(i){super(i)}parseInformation(){let i=new gt;i.append("(01)");let s=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Or.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,Or.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(i,Or.HEADER_SIZE+44)}}Or.HEADER_SIZE=1+1+2;class Ds extends La{constructor(i){super(i)}parseInformation(){let i=new gt;return this.getGeneralDecoder().decodeAllCodes(i,Ds.HEADER_SIZE)}}Ds.HEADER_SIZE=2+1+2;class es extends mn{constructor(i){super(i)}encodeCompressedWeight(i,s,a){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s,a);this.addWeightCode(i,u);let h=this.checkWeight(u),g=1e5;for(let x=0;x<5;++x)h/g===0&&i.append("0"),g/=10;i.append(h)}}class ni extends es{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=ni.HEADER_SIZE+es.GTIN_SIZE+ni.WEIGHT_SIZE)throw new et;let i=new gt;return this.encodeCompressedGtin(i,ni.HEADER_SIZE),this.encodeCompressedWeight(i,ni.HEADER_SIZE+es.GTIN_SIZE,ni.WEIGHT_SIZE),i.toString()}}ni.HEADER_SIZE=4+1,ni.WEIGHT_SIZE=15;class Bc extends ni{constructor(i){super(i)}addWeightCode(i,s){i.append("(3103)")}checkWeight(i){return i}}class kc extends ni{constructor(i){super(i)}addWeightCode(i,s){s<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class ii extends mn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<ii.HEADER_SIZE+mn.GTIN_SIZE)throw new et;let i=new gt;this.encodeCompressedGtin(i,ii.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(ii.HEADER_SIZE+mn.GTIN_SIZE,ii.LAST_DIGIT_SIZE);i.append("(392"),i.append(s),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(ii.HEADER_SIZE+mn.GTIN_SIZE+ii.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}ii.HEADER_SIZE=5+1+2,ii.LAST_DIGIT_SIZE=2;class un extends mn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<un.HEADER_SIZE+mn.GTIN_SIZE)throw new et;let i=new gt;this.encodeCompressedGtin(i,un.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+mn.GTIN_SIZE,un.LAST_DIGIT_SIZE);i.append("(393"),i.append(s),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+mn.GTIN_SIZE+un.LAST_DIGIT_SIZE,un.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let u=this.getGeneralDecoder().decodeGeneralPurposeField(un.HEADER_SIZE+mn.GTIN_SIZE+un.LAST_DIGIT_SIZE+un.FIRST_THREE_DIGITS_SIZE,null);return i.append(u.getNewString()),i.toString()}}un.HEADER_SIZE=5+1+2,un.LAST_DIGIT_SIZE=2,un.FIRST_THREE_DIGITS_SIZE=10;class me extends es{constructor(i,s,a){super(i),this.dateCode=a,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=me.HEADER_SIZE+me.GTIN_SIZE+me.WEIGHT_SIZE+me.DATE_SIZE)throw new et;let i=new gt;return this.encodeCompressedGtin(i,me.HEADER_SIZE),this.encodeCompressedWeight(i,me.HEADER_SIZE+me.GTIN_SIZE,me.WEIGHT_SIZE),this.encodeCompressedDate(i,me.HEADER_SIZE+me.GTIN_SIZE+me.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(s,me.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let u=a%32;a/=32;let h=a%12+1;a/=12;let g=a;g/10==0&&i.append("0"),i.append(g),h/10==0&&i.append("0"),i.append(h),u/10==0&&i.append("0"),i.append(u)}addWeightCode(i,s){i.append("("),i.append(this.firstAIdigits),i.append(s/1e5),i.append(")")}checkWeight(i){return i%1e5}}me.HEADER_SIZE=7+1,me.WEIGHT_SIZE=20,me.DATE_SIZE=16;function Ls(I){try{if(I.get(1))return new Or(I);if(!I.get(2))return new Ds(I);switch(Mr.extractNumericValueFromBitArray(I,1,4)){case 4:return new Bc(I);case 5:return new kc(I)}switch(Mr.extractNumericValueFromBitArray(I,1,5)){case 12:return new ii(I);case 13:return new un(I)}switch(Mr.extractNumericValueFromBitArray(I,1,7)){case 56:return new me(I,"310","11");case 57:return new me(I,"320","11");case 58:return new me(I,"310","13");case 59:return new me(I,"320","13");case 60:return new me(I,"310","15");case 61:return new me(I,"320","15");case 62:return new me(I,"310","17");case 63:return new me(I,"320","17")}}catch(i){throw console.log(i),new Re("unknown decoder: "+I)}}class Pi{constructor(i,s,a,u){this.leftchar=i,this.rightchar=s,this.finderpattern=a,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,s){return i instanceof Pi?Pi.equalsOrNull(i.leftchar,s.leftchar)&&Pi.equalsOrNull(i.rightchar,s.rightchar)&&Pi.equalsOrNull(i.finderpattern,s.finderpattern):!1}static equalsOrNull(i,s){return i===null?s===null:Pi.equals(i,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Nr{constructor(i,s,a){this.pairs=i,this.rowNumber=s,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,s){return i instanceof Nr?this.checkEqualitity(i,s)&&i.wasReversed===s.wasReversed:!1}checkEqualitity(i,s){if(!i||!s)return;let a;return i.forEach((u,h)=>{s.forEach(g=>{u.getLeftChar().getValue()===g.getLeftChar().getValue()&&u.getRightChar().getValue()===g.getRightChar().getValue()&&u.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(a=!0)})}),a}}class lt extends en{constructor(i){super(...arguments),this.pairs=new Array(lt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,s,a){this.pairs.length=0,this.startFromEven=!1;try{return lt.constructResult(this.decodeRow2pairs(i,s))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,lt.constructResult(this.decodeRow2pairs(i,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,s){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,i))}catch(h){if(h instanceof et){if(!this.pairs.length)throw new et;a=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(i,!1),u){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new et}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),s}checkRows(i,s){for(let a=s;a<this.rows.length;a++){let u=this.rows[a];this.pairs.length=0;for(let g of i)this.pairs.push(g.getPairs());if(this.pairs.push(u.getPairs()),!lt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(i);h.push(u);try{return this.checkRows(h,a+1)}catch(g){this.verbose&&console.log(g)}}throw new et}static isValidSequence(i){for(let s of lt.FINDER_PATTERN_SEQUENCES){if(i.length>s.length)continue;let a=!0;for(let u=0;u<i.length;u++)if(i[u].getFinderPattern().getValue()!=s[u]){a=!1;break}if(a)return!0}return!1}storeRow(i,s){let a=0,u=!1,h=!1;for(;a<this.rows.length;){let g=this.rows[a];if(g.getRowNumber()>i){h=g.isEquivalent(this.pairs);break}u=g.isEquivalent(this.pairs),a++}h||u||lt.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Nr(this.pairs,i,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,s){for(let a of s)if(a.getPairs().length!==i.length){for(let u of a.getPairs())for(let h of i)if(Pi.equals(u,h))break}}static isPartialRow(i,s){for(let a of s){let u=!0;for(let h of i){let g=!1;for(let x of a.getPairs())if(h.equals(x)){g=!0;break}if(!g){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(i){let s=Pc.buildBitArray(i),u=Ls(s).parseInformation(),h=i[0].getFinderPattern().getResultPoints(),g=i[i.length-1].getFinderPattern().getResultPoints(),x=[h[0],h[1],g[0],g[1]];return new ve(u,null,null,x,bt.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),s=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let u=a.getChecksumPortion(),h=2;for(let x=1;x<this.pairs.size();++x){let _=this.pairs.get(x);u+=_.getLeftChar().getChecksumPortion(),h++;let A=_.getRightChar();A!=null&&(u+=A.getChecksumPortion(),h++)}return u%=211,211*(h-4)+u==s.getValue()}static getNextSecondBar(i,s){let a;return i.get(s)?(a=i.getNextUnset(s),a=i.getNextSet(a)):(a=i.getNextSet(s),a=i.getNextUnset(a)),a}retrieveNextPair(i,s,a){let u=s.length%2==0;this.startFromEven&&(u=!u);let h,g=!0,x=-1;do this.findNextPair(i,s,x),h=this.parseFoundFinderPattern(i,a,u),h==null?x=lt.getNextSecondBar(i,this.startEnd[0]):g=!1;while(g);let _=this.decodeDataCharacter(i,h,u,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new et;let A;try{A=this.decodeDataCharacter(i,h,u,!1)}catch(C){A=null,this.verbose&&console.log(C)}return new Pi(_,A,h,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,s,a){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),g;a>=0?g=a:this.isEmptyPair(s)?g=0:g=s[s.length-1].getFinderPattern().getStartEnd()[1];let x=s.length%2!=0;this.startFromEven&&(x=!x);let _=!1;for(;g<h&&(_=!i.get(g),!!_);)g++;let A=0,C=g;for(let T=g;T<h;T++)if(i.get(T)!=_)u[A]++;else{if(A==3){if(x&&lt.reverseCounters(u),lt.isFinderPattern(u)){this.startEnd[0]=C,this.startEnd[1]=T;return}x&&lt.reverseCounters(u),C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,A--}else A++;u[A]=1,_=!_}throw new et}static reverseCounters(i){let s=i.length;for(let a=0;a<s/2;++a){let u=i[a];i[a]=i[s-a-1],i[s-a-1]=u}}parseFoundFinderPattern(i,s,a){let u,h,g;if(a){let A=this.startEnd[0]-1;for(;A>=0&&!i.get(A);)A--;A++,u=this.startEnd[0]-A,h=A,g=this.startEnd[1]}else h=this.startEnd[0],g=i.getNextUnset(this.startEnd[1]+1),u=g-this.startEnd[1];let x=this.getDecodeFinderCounters();D.arraycopy(x,0,x,1,x.length-1),x[0]=u;let _;try{_=this.parseFinderValue(x,lt.FINDER_PATTERNS)}catch{return null}return new Rs(_,[h,g],h,g,s)}decodeDataCharacter(i,s,a,u){let h=this.getDataCharacterCounters();for(let te=0;te<h.length;te++)h[te]=0;if(u)lt.recordPatternInReverse(i,s.getStartEnd()[0],h);else{lt.recordPattern(i,s.getStartEnd()[1],h);for(let te=0,Je=h.length-1;te<Je;te++,Je--){let Ge=h[te];h[te]=h[Je],h[Je]=Ge}}let g=17,x=jt.sum(new Int32Array(h))/g,_=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(x-_)/_>.3)throw new et;let A=this.getOddCounts(),C=this.getEvenCounts(),T=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let te=0;te<h.length;te++){let Je=1*h[te]/x,Ge=Je+.5;if(Ge<1){if(Je<.3)throw new et;Ge=1}else if(Ge>8){if(Je>8.7)throw new et;Ge=8}let Ci=te/2;(te&1)==0?(A[Ci]=Ge,T[Ci]=Je-Ge):(C[Ci]=Ge,N[Ci]=Je-Ge)}this.adjustOddEvenCounts(g);let U=4*s.getValue()+(a?0:2)+(u?0:1)-1,j=0,M=0;for(let te=A.length-1;te>=0;te--){if(lt.isNotA1left(s,a,u)){let Je=lt.WEIGHTS[U][2*te];M+=A[te]*Je}j+=A[te]}let k=0;for(let te=C.length-1;te>=0;te--)if(lt.isNotA1left(s,a,u)){let Je=lt.WEIGHTS[U][2*te+1];k+=C[te]*Je}let F=M+k;if((j&1)!=0||j>13||j<4)throw new et;let q=(13-j)/2,it=lt.SYMBOL_WIDEST[q],rt=9-it,It=ei.getRSSvalue(A,it,!0),xt=ei.getRSSvalue(C,rt,!1),sn=lt.EVEN_TOTAL_SUBSET[q],Xn=lt.GSUM[q],pe=It*sn+xt+Xn;return new tr(pe,F)}static isNotA1left(i,s,a){return!(i.getValue()==0&&s&&a)}adjustOddEvenCounts(i){let s=jt.sum(new Int32Array(this.getOddCounts())),a=jt.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1;s>13?h=!0:s<4&&(u=!0);let g=!1,x=!1;a>13?x=!0:a<4&&(g=!0);let _=s+a-i,A=(s&1)==1,C=(a&1)==0;if(_==1)if(A){if(C)throw new et;h=!0}else{if(!C)throw new et;x=!0}else if(_==-1)if(A){if(C)throw new et;u=!0}else{if(!C)throw new et;g=!0}else if(_==0){if(A){if(!C)throw new et;s<a?(u=!0,x=!0):(h=!0,g=!0)}else if(C)throw new et}else throw new et;if(u){if(h)throw new et;lt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&lt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(x)throw new et;lt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&lt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}lt.SYMBOL_WIDEST=[7,5,4,3,1],lt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],lt.GSUM=[0,348,1388,2948,3988],lt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],lt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],lt.FINDER_PAT_A=0,lt.FINDER_PAT_B=1,lt.FINDER_PAT_C=2,lt.FINDER_PAT_D=3,lt.FINDER_PAT_E=4,lt.FINDER_PAT_F=5,lt.FINDER_PATTERN_SEQUENCES=[[lt.FINDER_PAT_A,lt.FINDER_PAT_A],[lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B],[lt.FINDER_PAT_A,lt.FINDER_PAT_C,lt.FINDER_PAT_B,lt.FINDER_PAT_D],[lt.FINDER_PAT_A,lt.FINDER_PAT_E,lt.FINDER_PAT_B,lt.FINDER_PAT_D,lt.FINDER_PAT_C],[lt.FINDER_PAT_A,lt.FINDER_PAT_E,lt.FINDER_PAT_B,lt.FINDER_PAT_D,lt.FINDER_PAT_D,lt.FINDER_PAT_F],[lt.FINDER_PAT_A,lt.FINDER_PAT_E,lt.FINDER_PAT_B,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_F,lt.FINDER_PAT_F],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_D],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_E],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_F,lt.FINDER_PAT_F],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_E,lt.FINDER_PAT_F,lt.FINDER_PAT_F]],lt.MAX_PAIRS=11;class Fc extends tr{constructor(i,s,a){super(i,s),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Se extends en{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,s,a){const u=this.decodePair(s,!1,i,a);Se.addOrTally(this.possibleLeftPairs,u),s.reverse();let h=this.decodePair(s,!0,i,a);Se.addOrTally(this.possibleRightPairs,h),s.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&Se.checkChecksum(g,x))return Se.constructResult(g,x)}throw new et}static addOrTally(i,s){if(s==null)return;let a=!1;for(let u of i)if(u.getValue()===s.getValue()){u.incrementCount(),a=!0;break}a||i.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,s){let a=4537077*i.getValue()+s.getValue(),u=new String(a).toString(),h=new gt;for(let A=13-u.length;A>0;A--)h.append("0");h.append(u);let g=0;for(let A=0;A<13;A++){let C=h.charAt(A).charCodeAt(0)-"0".charCodeAt(0);g+=(A&1)===0?3*C:C}g=10-g%10,g===10&&(g=0),h.append(g.toString());let x=i.getFinderPattern().getResultPoints(),_=s.getFinderPattern().getResultPoints();return new ve(h.toString(),null,0,[x[0],x[1],_[0],_[1]],bt.RSS_14,new Date().getTime())}static checkChecksum(i,s){let a=(i.getChecksumPortion()+16*s.getChecksumPortion())%79,u=9*i.getFinderPattern().getValue()+s.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,a===u}decodePair(i,s,a,u){try{let h=this.findFinderPattern(i,s),g=this.parseFoundFinderPattern(i,a,s,h),x=u==null?null:u.get(tt.NEED_RESULT_POINT_CALLBACK);if(x!=null){let C=(h[0]+h[1])/2;s&&(C=i.getSize()-1-C),x.foundPossibleResultPoint(new _t(C,a))}let _=this.decodeDataCharacter(i,g,!0),A=this.decodeDataCharacter(i,g,!1);return new Fc(1597*_.getValue()+A.getValue(),_.getChecksumPortion()+4*A.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(i,s,a){let u=this.getDataCharacterCounters();for(let k=0;k<u.length;k++)u[k]=0;if(a)Ce.recordPatternInReverse(i,s.getStartEnd()[0],u);else{Ce.recordPattern(i,s.getStartEnd()[1]+1,u);for(let k=0,F=u.length-1;k<F;k++,F--){let q=u[k];u[k]=u[F],u[F]=q}}let h=a?16:15,g=jt.sum(new Int32Array(u))/h,x=this.getOddCounts(),_=this.getEvenCounts(),A=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let k=0;k<u.length;k++){let F=u[k]/g,q=Math.floor(F+.5);q<1?q=1:q>8&&(q=8);let it=Math.floor(k/2);(k&1)===0?(x[it]=q,A[it]=F-q):(_[it]=q,C[it]=F-q)}this.adjustOddEvenCounts(a,h);let T=0,N=0;for(let k=x.length-1;k>=0;k--)N*=9,N+=x[k],T+=x[k];let U=0,j=0;for(let k=_.length-1;k>=0;k--)U*=9,U+=_[k],j+=_[k];let M=N+3*U;if(a){if((T&1)!==0||T>12||T<4)throw new et;let k=(12-T)/2,F=Se.OUTSIDE_ODD_WIDEST[k],q=9-F,it=ei.getRSSvalue(x,F,!1),rt=ei.getRSSvalue(_,q,!0),It=Se.OUTSIDE_EVEN_TOTAL_SUBSET[k],xt=Se.OUTSIDE_GSUM[k];return new tr(it*It+rt+xt,M)}else{if((j&1)!==0||j>10||j<4)throw new et;let k=(10-j)/2,F=Se.INSIDE_ODD_WIDEST[k],q=9-F,it=ei.getRSSvalue(x,F,!0),rt=ei.getRSSvalue(_,q,!1),It=Se.INSIDE_ODD_TOTAL_SUBSET[k],xt=Se.INSIDE_GSUM[k];return new tr(rt*It+it+xt,M)}}findFinderPattern(i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let u=i.getSize(),h=!1,g=0;for(;g<u&&(h=!i.get(g),s!==h);)g++;let x=0,_=g;for(let A=g;A<u;A++)if(i.get(A)!==h)a[x]++;else{if(x===3){if(en.isFinderPattern(a))return[_,A];_+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,h=!h}throw new et}parseFoundFinderPattern(i,s,a,u){let h=i.get(u[0]),g=u[0]-1;for(;g>=0&&h!==i.get(g);)g--;g++;const x=u[0]-g,_=this.getDecodeFinderCounters(),A=new Int32Array(_.length);D.arraycopy(_,0,A,1,_.length-1),A[0]=x;const C=this.parseFinderValue(A,Se.FINDER_PATTERNS);let T=g,N=u[1];return a&&(T=i.getSize()-1-T,N=i.getSize()-1-N),new Rs(C,[g,u[1]],T,N,s)}adjustOddEvenCounts(i,s){let a=jt.sum(new Int32Array(this.getOddCounts())),u=jt.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1,x=!1,_=!1;i?(a>12?g=!0:a<4&&(h=!0),u>12?_=!0:u<4&&(x=!0)):(a>11?g=!0:a<5&&(h=!0),u>10?_=!0:u<4&&(x=!0));let A=a+u-s,C=(a&1)===(i?1:0),T=(u&1)===1;if(A===1)if(C){if(T)throw new et;g=!0}else{if(!T)throw new et;_=!0}else if(A===-1)if(C){if(T)throw new et;h=!0}else{if(!T)throw new et;x=!0}else if(A===0){if(C){if(!T)throw new et;a<u?(h=!0,_=!0):(g=!0,x=!0)}else if(T)throw new et}else throw new et;if(h){if(g)throw new et;en.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&en.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(_)throw new et;en.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&en.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Se.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Se.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Se.OUTSIDE_GSUM=[0,161,961,2015,2715],Se.INSIDE_GSUM=[0,336,1036,1516],Se.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Se.INSIDE_ODD_WIDEST=[2,4,6,8],Se.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class nr extends Ce{constructor(i,s){super(),this.readers=[],this.verbose=s===!0;const a=i?i.get(tt.POSSIBLE_FORMATS):null,u=i&&i.get(tt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a&&((a.includes(bt.EAN_13)||a.includes(bt.UPC_A)||a.includes(bt.EAN_8)||a.includes(bt.UPC_E))&&this.readers.push(new xo(i)),a.includes(bt.CODE_39)&&this.readers.push(new Me(u)),a.includes(bt.CODE_128)&&this.readers.push(new ht),a.includes(bt.ITF)&&this.readers.push(new ie),a.includes(bt.RSS_14)&&this.readers.push(new Se),a.includes(bt.RSS_EXPANDED)&&this.readers.push(new lt(this.verbose))),this.readers.length===0&&(this.readers.push(new xo(i)),this.readers.push(new Me),this.readers.push(new xo(i)),this.readers.push(new ht),this.readers.push(new ie),this.readers.push(new Se),this.readers.push(new lt(this.verbose)))}decodeRow(i,s,a){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(i,s,a)}catch{}throw new et}reset(){this.readers.forEach(i=>i.reset())}}class Pa extends gn{constructor(i=500,s){super(new nr(s),i,s)}}class Qt{constructor(i,s,a){this.ecCodewords=i,this.ecBlocks=[s],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Jt{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class zt{constructor(i,s,a,u,h,g){this.versionNumber=i,this.symbolSizeRows=s,this.symbolSizeColumns=a,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=h,this.ecBlocks=g;let x=0;const _=g.getECCodewords(),A=g.getECBlocks();for(let C of A)x+=C.getCount()*(C.getDataCodewords()+_);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,s){if((i&1)!==0||(s&1)!==0)throw new Z;for(let a of zt.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===s)return a;throw new Z}toString(){return""+this.versionNumber}static buildVersions(){return[new zt(1,10,10,8,8,new Qt(5,new Jt(1,3))),new zt(2,12,12,10,10,new Qt(7,new Jt(1,5))),new zt(3,14,14,12,12,new Qt(10,new Jt(1,8))),new zt(4,16,16,14,14,new Qt(12,new Jt(1,12))),new zt(5,18,18,16,16,new Qt(14,new Jt(1,18))),new zt(6,20,20,18,18,new Qt(18,new Jt(1,22))),new zt(7,22,22,20,20,new Qt(20,new Jt(1,30))),new zt(8,24,24,22,22,new Qt(24,new Jt(1,36))),new zt(9,26,26,24,24,new Qt(28,new Jt(1,44))),new zt(10,32,32,14,14,new Qt(36,new Jt(1,62))),new zt(11,36,36,16,16,new Qt(42,new Jt(1,86))),new zt(12,40,40,18,18,new Qt(48,new Jt(1,114))),new zt(13,44,44,20,20,new Qt(56,new Jt(1,144))),new zt(14,48,48,22,22,new Qt(68,new Jt(1,174))),new zt(15,52,52,24,24,new Qt(42,new Jt(2,102))),new zt(16,64,64,14,14,new Qt(56,new Jt(2,140))),new zt(17,72,72,16,16,new Qt(36,new Jt(4,92))),new zt(18,80,80,18,18,new Qt(48,new Jt(4,114))),new zt(19,88,88,20,20,new Qt(56,new Jt(4,144))),new zt(20,96,96,22,22,new Qt(68,new Jt(4,174))),new zt(21,104,104,24,24,new Qt(56,new Jt(6,136))),new zt(22,120,120,18,18,new Qt(68,new Jt(6,175))),new zt(23,132,132,20,20,new Qt(62,new Jt(8,163))),new zt(24,144,144,22,22,new Qt(62,new Jt(8,156),new Jt(2,155))),new zt(25,8,18,6,16,new Qt(7,new Jt(1,5))),new zt(26,8,32,6,14,new Qt(11,new Jt(1,10))),new zt(27,12,26,10,24,new Qt(14,new Jt(1,16))),new zt(28,12,36,10,16,new Qt(18,new Jt(1,22))),new zt(29,16,36,14,16,new Qt(24,new Jt(1,32))),new zt(30,16,48,14,22,new Qt(28,new Jt(1,49)))]}}zt.VERSIONS=zt.buildVersions();class wo{constructor(i){const s=i.getHeight();if(s<8||s>144||(s&1)!==0)throw new Z;this.version=wo.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Rt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const s=i.getHeight(),a=i.getWidth();return zt.getVersionForDimensions(s,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let s=0,a=4,u=0;const h=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let x=!1,_=!1,A=!1,C=!1;do if(a===h&&u===0&&!x)i[s++]=this.readCorner1(h,g)&255,a-=2,u+=2,x=!0;else if(a===h-2&&u===0&&(g&3)!==0&&!_)i[s++]=this.readCorner2(h,g)&255,a-=2,u+=2,_=!0;else if(a===h+4&&u===2&&(g&7)===0&&!A)i[s++]=this.readCorner3(h,g)&255,a-=2,u+=2,A=!0;else if(a===h-2&&u===0&&(g&7)===4&&!C)i[s++]=this.readCorner4(h,g)&255,a-=2,u+=2,C=!0;else{do a<h&&u>=0&&!this.readMappingMatrix.get(u,a)&&(i[s++]=this.readUtah(a,u,h,g)&255),a-=2,u+=2;while(a>=0&&u<g);a+=1,u+=3;do a>=0&&u<g&&!this.readMappingMatrix.get(u,a)&&(i[s++]=this.readUtah(a,u,h,g)&255),a+=2,u-=2;while(a<h&&u>=0);a+=3,u+=1}while(a<h||u<g);if(s!==this.version.getTotalCodewords())throw new Z;return i}readModule(i,s,a,u){return i<0&&(i+=a,s+=4-(a+4&7)),s<0&&(s+=u,i+=4-(u+4&7)),this.readMappingMatrix.set(s,i),this.mappingBitMatrix.get(s,i)}readUtah(i,s,a,u){let h=0;return this.readModule(i-2,s-2,a,u)&&(h|=1),h<<=1,this.readModule(i-2,s-1,a,u)&&(h|=1),h<<=1,this.readModule(i-1,s-2,a,u)&&(h|=1),h<<=1,this.readModule(i-1,s-1,a,u)&&(h|=1),h<<=1,this.readModule(i-1,s,a,u)&&(h|=1),h<<=1,this.readModule(i,s-2,a,u)&&(h|=1),h<<=1,this.readModule(i,s-1,a,u)&&(h|=1),h<<=1,this.readModule(i,s,a,u)&&(h|=1),h}readCorner1(i,s){let a=0;return this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,1,i,s)&&(a|=1),a<<=1,this.readModule(i-1,2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(2,s-1,i,s)&&(a|=1),a<<=1,this.readModule(3,s-1,i,s)&&(a|=1),a}readCorner2(i,s){let a=0;return this.readModule(i-3,0,i,s)&&(a|=1),a<<=1,this.readModule(i-2,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(0,s-4,i,s)&&(a|=1),a<<=1,this.readModule(0,s-3,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a}readCorner3(i,s){let a=0;return this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(0,s-3,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-3,i,s)&&(a|=1),a<<=1,this.readModule(1,s-2,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a}readCorner4(i,s){let a=0;return this.readModule(i-3,0,i,s)&&(a|=1),a<<=1,this.readModule(i-2,0,i,s)&&(a|=1),a<<=1,this.readModule(i-1,0,i,s)&&(a|=1),a<<=1,this.readModule(0,s-2,i,s)&&(a|=1),a<<=1,this.readModule(0,s-1,i,s)&&(a|=1),a<<=1,this.readModule(1,s-1,i,s)&&(a|=1),a<<=1,this.readModule(2,s-1,i,s)&&(a|=1),a<<=1,this.readModule(3,s-1,i,s)&&(a|=1),a}extractDataRegion(i){const s=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==s)throw new y("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),g=s/u|0,x=a/h|0,_=g*u,A=x*h,C=new Rt(A,_);for(let T=0;T<g;++T){const N=T*u;for(let U=0;U<x;++U){const j=U*h;for(let M=0;M<u;++M){const k=T*(u+2)+1+M,F=N+M;for(let q=0;q<h;++q){const it=U*(h+2)+1+q;if(i.get(it,k)){const rt=j+q;C.set(rt,F)}}}}}return C}}class _o{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s){const a=s.getECBlocks();let u=0;const h=a.getECBlocks();for(let M of h)u+=M.getCount();const g=new Array(u);let x=0;for(let M of h)for(let k=0;k<M.getCount();k++){const F=M.getDataCodewords(),q=a.getECCodewords()+F;g[x++]=new _o(F,new Uint8Array(q))}const A=g[0].codewords.length-a.getECCodewords(),C=A-1;let T=0;for(let M=0;M<C;M++)for(let k=0;k<x;k++)g[k].codewords[M]=i[T++];const N=s.getVersionNumber()===24,U=N?8:x;for(let M=0;M<U;M++)g[M].codewords[A-1]=i[T++];const j=g[0].codewords.length;for(let M=A;M<j;M++)for(let k=0;k<x;k++){const F=N?(k+8)%x:k,q=N&&F>7?M-1:M;g[F].codewords[q]=i[T++]}if(T!==i.length)throw new y;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ps{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new y(""+i);let s=0,a=this.bitOffset,u=this.byteOffset;const h=this.bytes;if(a>0){const g=8-a,x=i<g?i:g,_=g-x,A=255>>8-x<<_;s=(h[u]&A)>>_,i-=x,a+=x,a===8&&(a=0,u++)}if(i>0){for(;i>=8;)s=s<<8|h[u]&255,u++,i-=8;if(i>0){const g=8-i,x=255>>g<<g;s=s<<i|(h[u]&x)>>g,a+=i}}return this.bitOffset=a,this.byteOffset=u,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Le;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(Le||(Le={}));class bi{static decode(i){const s=new Ps(i),a=new gt,u=new gt,h=new Array;let g=Le.ASCII_ENCODE;do if(g===Le.ASCII_ENCODE)g=this.decodeAsciiSegment(s,a,u);else{switch(g){case Le.C40_ENCODE:this.decodeC40Segment(s,a);break;case Le.TEXT_ENCODE:this.decodeTextSegment(s,a);break;case Le.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,a);break;case Le.EDIFACT_ENCODE:this.decodeEdifactSegment(s,a);break;case Le.BASE256_ENCODE:this.decodeBase256Segment(s,a,h);break;default:throw new Z}g=Le.ASCII_ENCODE}while(g!==Le.PAD_ENCODE&&s.available()>0);return u.length()>0&&a.append(u.toString()),new xi(i,a.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(i,s,a){let u=!1;do{let h=i.readBits(8);if(h===0)throw new Z;if(h<=128)return u&&(h+=128),s.append(String.fromCharCode(h-1)),Le.ASCII_ENCODE;if(h===129)return Le.PAD_ENCODE;if(h<=229){const g=h-130;g<10&&s.append("0"),s.append(""+g)}else switch(h){case 230:return Le.C40_ENCODE;case 231:return Le.BASE256_ENCODE;case 232:s.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:u=!0;break;case 236:s.append("[)>05"),a.insert(0,"");break;case 237:s.append("[)>06"),a.insert(0,"");break;case 238:return Le.ANSIX12_ENCODE;case 239:return Le.TEXT_ENCODE;case 240:return Le.EDIFACT_ENCODE;case 241:break;default:if(h!==254||i.available()!==0)throw new Z;break}}while(i.available()>0);return Le.ASCII_ENCODE}static decodeC40Segment(i,s){let a=!1;const u=[];let h=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),u);for(let x=0;x<3;x++){const _=u[x];switch(h){case 0:if(_<3)h=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){const A=this.C40_BASIC_SET_CHARS[_];a?(s.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):s.append(A)}else throw new Z;break;case 1:a?(s.append(String.fromCharCode(_+128)),a=!1):s.append(String.fromCharCode(_)),h=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[_];a?(s.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):s.append(A)}else switch(_){case 27:s.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new Z}h=0;break;case 3:a?(s.append(String.fromCharCode(_+224)),a=!1):s.append(String.fromCharCode(_+96)),h=0;break;default:throw new Z}}}while(i.available()>0)}static decodeTextSegment(i,s){let a=!1,u=[],h=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),u);for(let x=0;x<3;x++){const _=u[x];switch(h){case 0:if(_<3)h=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){const A=this.TEXT_BASIC_SET_CHARS[_];a?(s.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):s.append(A)}else throw new Z;break;case 1:a?(s.append(String.fromCharCode(_+128)),a=!1):s.append(String.fromCharCode(_)),h=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[_];a?(s.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):s.append(A)}else switch(_){case 27:s.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new Z}h=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){const A=this.TEXT_SHIFT3_SET_CHARS[_];a?(s.append(String.fromCharCode(A.charCodeAt(0)+128)),a=!1):s.append(A),h=0}else throw new Z;break;default:throw new Z}}}while(i.available()>0)}static decodeAnsiX12Segment(i,s){const a=[];do{if(i.available()===8)return;const u=i.readBits(8);if(u===254)return;this.parseTwoBytes(u,i.readBits(8),a);for(let h=0;h<3;h++){const g=a[h];switch(g){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(g<14)s.append(String.fromCharCode(g+44));else if(g<40)s.append(String.fromCharCode(g+51));else throw new Z;break}}}while(i.available()>0)}static parseTwoBytes(i,s,a){let u=(i<<8)+s-1,h=Math.floor(u/1600);a[0]=h,u-=h*1600,h=Math.floor(u/40),a[1]=h,a[2]=u-h*40}static decodeEdifactSegment(i,s){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let u=i.readBits(6);if(u===31){const h=8-i.getBitOffset();h!==8&&i.readBits(h);return}(u&32)===0&&(u|=64),s.append(String.fromCharCode(u))}}while(i.available()>0)}static decodeBase256Segment(i,s,a){let u=1+i.getByteOffset();const h=this.unrandomize255State(i.readBits(8),u++);let g;if(h===0?g=i.available()/8|0:h<250?g=h:g=250*(h-249)+this.unrandomize255State(i.readBits(8),u++),g<0)throw new Z;const x=new Uint8Array(g);for(let _=0;_<g;_++){if(i.available()<8)throw new Z;x[_]=this.unrandomize255State(i.readBits(8),u++)}a.push(x);try{s.append(yt.decode(x,ut.ISO88591))}catch(_){throw new Re("Platform does not support required encoding: "+_.message)}}static unrandomize255State(i,s){const a=149*s%255+1,u=i-a;return u>=0?u:u+256}}bi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],bi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],bi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],bi.TEXT_SHIFT2_SET_CHARS=bi.C40_SHIFT2_SET_CHARS,bi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class bo{constructor(){this.rsDecoder=new wi(Ht.DATA_MATRIX_FIELD_256)}decode(i){const s=new wo(i),a=s.getVersion(),u=s.readCodewords(),h=_o.getDataBlocks(u,a);let g=0;for(let A of h)g+=A.getNumDataCodewords();const x=new Uint8Array(g),_=h.length;for(let A=0;A<_;A++){const C=h[A],T=C.getCodewords(),N=C.getNumDataCodewords();this.correctErrors(T,N);for(let U=0;U<N;U++)x[U*_+A]=T[U]}return bi.decode(x)}correctErrors(i,s){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-s)}catch{throw new O}for(let u=0;u<s;u++)i[u]=a[u]}}class Oe{constructor(i){this.image=i,this.rectangleDetector=new Pn(this.image)}detect(){const i=this.rectangleDetector.detect();let s=this.detectSolid1(i);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new et;s=this.shiftToModuleCenter(s);const a=s[0],u=s[1],h=s[2],g=s[3];let x=this.transitionsBetween(a,g)+1,_=this.transitionsBetween(h,g)+1;(x&1)===1&&(x+=1),(_&1)===1&&(_+=1),4*x<7*_&&4*_<7*x&&(x=_=Math.max(x,_));let A=Oe.sampleGrid(this.image,a,u,h,g,x,_);return new xn(A,[a,u,h,g])}static shiftPoint(i,s,a){let u=(s.getX()-i.getX())/(a+1),h=(s.getY()-i.getY())/(a+1);return new _t(i.getX()+u,i.getY()+h)}static moveAway(i,s,a){let u=i.getX(),h=i.getY();return u<s?u-=1:u+=1,h<a?h-=1:h+=1,new _t(u,h)}detectSolid1(i){let s=i[0],a=i[1],u=i[3],h=i[2],g=this.transitionsBetween(s,a),x=this.transitionsBetween(a,u),_=this.transitionsBetween(u,h),A=this.transitionsBetween(h,s),C=g,T=[h,s,a,u];return C>x&&(C=x,T[0]=s,T[1]=a,T[2]=u,T[3]=h),C>_&&(C=_,T[0]=a,T[1]=u,T[2]=h,T[3]=s),C>A&&(T[0]=u,T[1]=h,T[2]=s,T[3]=a),T}detectSolid2(i){let s=i[0],a=i[1],u=i[2],h=i[3],g=this.transitionsBetween(s,h),x=Oe.shiftPoint(a,u,(g+1)*4),_=Oe.shiftPoint(u,a,(g+1)*4),A=this.transitionsBetween(x,s),C=this.transitionsBetween(_,h);return A<C?(i[0]=s,i[1]=a,i[2]=u,i[3]=h):(i[0]=a,i[1]=u,i[2]=h,i[3]=s),i}correctTopRight(i){let s=i[0],a=i[1],u=i[2],h=i[3],g=this.transitionsBetween(s,h),x=this.transitionsBetween(a,h),_=Oe.shiftPoint(s,a,(x+1)*4),A=Oe.shiftPoint(u,a,(g+1)*4);g=this.transitionsBetween(_,h),x=this.transitionsBetween(A,h);let C=new _t(h.getX()+(u.getX()-a.getX())/(g+1),h.getY()+(u.getY()-a.getY())/(g+1)),T=new _t(h.getX()+(s.getX()-a.getX())/(x+1),h.getY()+(s.getY()-a.getY())/(x+1));if(!this.isValid(C))return this.isValid(T)?T:null;if(!this.isValid(T))return C;let N=this.transitionsBetween(_,C)+this.transitionsBetween(A,C),U=this.transitionsBetween(_,T)+this.transitionsBetween(A,T);return N>U?C:T}shiftToModuleCenter(i){let s=i[0],a=i[1],u=i[2],h=i[3],g=this.transitionsBetween(s,h)+1,x=this.transitionsBetween(u,h)+1,_=Oe.shiftPoint(s,a,x*4),A=Oe.shiftPoint(u,a,g*4);g=this.transitionsBetween(_,h)+1,x=this.transitionsBetween(A,h)+1,(g&1)===1&&(g+=1),(x&1)===1&&(x+=1);let C=(s.getX()+a.getX()+u.getX()+h.getX())/4,T=(s.getY()+a.getY()+u.getY()+h.getY())/4;s=Oe.moveAway(s,C,T),a=Oe.moveAway(a,C,T),u=Oe.moveAway(u,C,T),h=Oe.moveAway(h,C,T);let N,U;return _=Oe.shiftPoint(s,a,x*4),_=Oe.shiftPoint(_,h,g*4),N=Oe.shiftPoint(a,s,x*4),N=Oe.shiftPoint(N,u,g*4),A=Oe.shiftPoint(u,h,x*4),A=Oe.shiftPoint(A,a,g*4),U=Oe.shiftPoint(h,u,x*4),U=Oe.shiftPoint(U,s,g*4),[_,N,A,U]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,s,a,u,h,g,x){return Bn.getInstance().sampleGrid(i,g,x,.5,.5,g-.5,.5,g-.5,x-.5,.5,x-.5,s.getX(),s.getY(),h.getX(),h.getY(),u.getX(),u.getY(),a.getX(),a.getY())}transitionsBetween(i,s){let a=Math.trunc(i.getX()),u=Math.trunc(i.getY()),h=Math.trunc(s.getX()),g=Math.trunc(s.getY()),x=Math.abs(g-u)>Math.abs(h-a);if(x){let M=a;a=u,u=M,M=h,h=g,g=M}let _=Math.abs(h-a),A=Math.abs(g-u),C=-_/2,T=u<g?1:-1,N=a<h?1:-1,U=0,j=this.image.get(x?u:a,x?a:u);for(let M=a,k=u;M!==h;M+=N){let F=this.image.get(x?k:M,x?M:k);if(F!==j&&(U++,j=F),C+=A,C>0){if(k===g)break;k+=T,C-=_}}return U}}class Ai{constructor(){this.decoder=new bo}decode(i,s=null){let a,u;if(s!=null&&s.has(tt.PURE_BARCODE)){const A=Ai.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(A),u=Ai.NO_POINTS}else{const A=new Oe(i.getBlackMatrix()).detect();a=this.decoder.decode(A.getBits()),u=A.getPoints()}const h=a.getRawBytes(),g=new ve(a.getText(),h,8*h.length,u,bt.DATA_MATRIX,D.currentTimeMillis()),x=a.getByteSegments();x!=null&&g.putMetadata(Ve.BYTE_SEGMENTS,x);const _=a.getECLevel();return _!=null&&g.putMetadata(Ve.ERROR_CORRECTION_LEVEL,_),g}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s==null||a==null)throw new et;const u=this.moduleSize(s,i);let h=s[1];const g=a[1];let x=s[0];const A=(a[0]-x+1)/u,C=(g-h+1)/u;if(A<=0||C<=0)throw new et;const T=u/2;h+=T,x+=T;const N=new Rt(A,C);for(let U=0;U<C;U++){const j=h+U*u;for(let M=0;M<A;M++)i.get(x+M*u,j)&&N.set(M,U)}return N}static moduleSize(i,s){const a=s.getWidth();let u=i[0];const h=i[1];for(;u<a&&s.get(u,h);)u++;if(u===a)throw new et;const g=u-i[0];if(g===0)throw new et;return g}}Ai.NO_POINTS=[];class Bs extends gn{constructor(i=500){super(new Ai,i)}}var ir;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(ir||(ir={}));class he{constructor(i,s,a){this.value=i,this.stringValue=s,this.bits=a,he.FOR_BITS.set(a,this),he.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return he.L;case"M":return he.M;case"Q":return he.Q;case"H":return he.H;default:throw new b(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof he))return!1;const s=i;return this.value===s.value}static forBits(i){if(i<0||i>=he.FOR_BITS.size)throw new y;return he.FOR_BITS.get(i)}}he.FOR_BITS=new Map,he.FOR_VALUE=new Map,he.L=new he(ir.L,"L",1),he.M=new he(ir.M,"M",0),he.Q=new he(ir.Q,"Q",3),he.H=new he(ir.H,"H",2);class qe{constructor(i){this.errorCorrectionLevel=he.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,s){return G.bitCount(i^s)}static decodeFormatInformation(i,s){const a=qe.doDecodeFormatInformation(i,s);return a!==null?a:qe.doDecodeFormatInformation(i^qe.FORMAT_INFO_MASK_QR,s^qe.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,s){let a=Number.MAX_SAFE_INTEGER,u=0;for(const h of qe.FORMAT_INFO_DECODE_LOOKUP){const g=h[0];if(g===i||g===s)return new qe(h[1]);let x=qe.numBitsDiffering(i,g);x<a&&(u=h[1],a=x),i!==s&&(x=qe.numBitsDiffering(s,g),x<a&&(u=h[1],a=x))}return a<=3?new qe(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof qe))return!1;const s=i;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}qe.FORMAT_INFO_MASK_QR=21522,qe.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(i,...s){this.ecCodewordsPerBlock=i,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const s=this.ecBlocks;for(const a of s)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ct{constructor(i,s,...a){this.versionNumber=i,this.alignmentPatternCenters=s,this.ecBlocks=a;let u=0;const h=a[0].getECCodewordsPerBlock(),g=a[0].getECBlocks();for(const x of g)u+=x.getCount()*(x.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new Z;try{return this.getVersionForNumber((i-17)/4)}catch{throw new Z}}static getVersionForNumber(i){if(i<1||i>40)throw new y;return Ct.VERSIONS[i-1]}static decodeVersionInformation(i){let s=Number.MAX_SAFE_INTEGER,a=0;for(let u=0;u<Ct.VERSION_DECODE_INFO.length;u++){const h=Ct.VERSION_DECODE_INFO[u];if(h===i)return Ct.getVersionForNumber(u+7);const g=qe.numBitsDiffering(i,h);g<s&&(a=u+7,s=g)}return s<=3?Ct.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),s=new Rt(i);s.setRegion(0,0,9,9),s.setRegion(i-8,0,8,9),s.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let u=0;u<a;u++){const h=this.alignmentPatternCenters[u]-2;for(let g=0;g<a;g++)u===0&&(g===0||g===a-1)||u===a-1&&g===0||s.setRegion(this.alignmentPatternCenters[g]-2,h,5,5)}return s.setRegion(6,9,1,i-17),s.setRegion(9,6,i-17,1),this.versionNumber>6&&(s.setRegion(i-11,0,3,6),s.setRegion(0,i-11,6,3)),s}toString(){return""+this.versionNumber}}Ct.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ct.VERSIONS=[new Ct(1,new Int32Array(0),new K(7,new B(1,19)),new K(10,new B(1,16)),new K(13,new B(1,13)),new K(17,new B(1,9))),new Ct(2,Int32Array.from([6,18]),new K(10,new B(1,34)),new K(16,new B(1,28)),new K(22,new B(1,22)),new K(28,new B(1,16))),new Ct(3,Int32Array.from([6,22]),new K(15,new B(1,55)),new K(26,new B(1,44)),new K(18,new B(2,17)),new K(22,new B(2,13))),new Ct(4,Int32Array.from([6,26]),new K(20,new B(1,80)),new K(18,new B(2,32)),new K(26,new B(2,24)),new K(16,new B(4,9))),new Ct(5,Int32Array.from([6,30]),new K(26,new B(1,108)),new K(24,new B(2,43)),new K(18,new B(2,15),new B(2,16)),new K(22,new B(2,11),new B(2,12))),new Ct(6,Int32Array.from([6,34]),new K(18,new B(2,68)),new K(16,new B(4,27)),new K(24,new B(4,19)),new K(28,new B(4,15))),new Ct(7,Int32Array.from([6,22,38]),new K(20,new B(2,78)),new K(18,new B(4,31)),new K(18,new B(2,14),new B(4,15)),new K(26,new B(4,13),new B(1,14))),new Ct(8,Int32Array.from([6,24,42]),new K(24,new B(2,97)),new K(22,new B(2,38),new B(2,39)),new K(22,new B(4,18),new B(2,19)),new K(26,new B(4,14),new B(2,15))),new Ct(9,Int32Array.from([6,26,46]),new K(30,new B(2,116)),new K(22,new B(3,36),new B(2,37)),new K(20,new B(4,16),new B(4,17)),new K(24,new B(4,12),new B(4,13))),new Ct(10,Int32Array.from([6,28,50]),new K(18,new B(2,68),new B(2,69)),new K(26,new B(4,43),new B(1,44)),new K(24,new B(6,19),new B(2,20)),new K(28,new B(6,15),new B(2,16))),new Ct(11,Int32Array.from([6,30,54]),new K(20,new B(4,81)),new K(30,new B(1,50),new B(4,51)),new K(28,new B(4,22),new B(4,23)),new K(24,new B(3,12),new B(8,13))),new Ct(12,Int32Array.from([6,32,58]),new K(24,new B(2,92),new B(2,93)),new K(22,new B(6,36),new B(2,37)),new K(26,new B(4,20),new B(6,21)),new K(28,new B(7,14),new B(4,15))),new Ct(13,Int32Array.from([6,34,62]),new K(26,new B(4,107)),new K(22,new B(8,37),new B(1,38)),new K(24,new B(8,20),new B(4,21)),new K(22,new B(12,11),new B(4,12))),new Ct(14,Int32Array.from([6,26,46,66]),new K(30,new B(3,115),new B(1,116)),new K(24,new B(4,40),new B(5,41)),new K(20,new B(11,16),new B(5,17)),new K(24,new B(11,12),new B(5,13))),new Ct(15,Int32Array.from([6,26,48,70]),new K(22,new B(5,87),new B(1,88)),new K(24,new B(5,41),new B(5,42)),new K(30,new B(5,24),new B(7,25)),new K(24,new B(11,12),new B(7,13))),new Ct(16,Int32Array.from([6,26,50,74]),new K(24,new B(5,98),new B(1,99)),new K(28,new B(7,45),new B(3,46)),new K(24,new B(15,19),new B(2,20)),new K(30,new B(3,15),new B(13,16))),new Ct(17,Int32Array.from([6,30,54,78]),new K(28,new B(1,107),new B(5,108)),new K(28,new B(10,46),new B(1,47)),new K(28,new B(1,22),new B(15,23)),new K(28,new B(2,14),new B(17,15))),new Ct(18,Int32Array.from([6,30,56,82]),new K(30,new B(5,120),new B(1,121)),new K(26,new B(9,43),new B(4,44)),new K(28,new B(17,22),new B(1,23)),new K(28,new B(2,14),new B(19,15))),new Ct(19,Int32Array.from([6,30,58,86]),new K(28,new B(3,113),new B(4,114)),new K(26,new B(3,44),new B(11,45)),new K(26,new B(17,21),new B(4,22)),new K(26,new B(9,13),new B(16,14))),new Ct(20,Int32Array.from([6,34,62,90]),new K(28,new B(3,107),new B(5,108)),new K(26,new B(3,41),new B(13,42)),new K(30,new B(15,24),new B(5,25)),new K(28,new B(15,15),new B(10,16))),new Ct(21,Int32Array.from([6,28,50,72,94]),new K(28,new B(4,116),new B(4,117)),new K(26,new B(17,42)),new K(28,new B(17,22),new B(6,23)),new K(30,new B(19,16),new B(6,17))),new Ct(22,Int32Array.from([6,26,50,74,98]),new K(28,new B(2,111),new B(7,112)),new K(28,new B(17,46)),new K(30,new B(7,24),new B(16,25)),new K(24,new B(34,13))),new Ct(23,Int32Array.from([6,30,54,78,102]),new K(30,new B(4,121),new B(5,122)),new K(28,new B(4,47),new B(14,48)),new K(30,new B(11,24),new B(14,25)),new K(30,new B(16,15),new B(14,16))),new Ct(24,Int32Array.from([6,28,54,80,106]),new K(30,new B(6,117),new B(4,118)),new K(28,new B(6,45),new B(14,46)),new K(30,new B(11,24),new B(16,25)),new K(30,new B(30,16),new B(2,17))),new Ct(25,Int32Array.from([6,32,58,84,110]),new K(26,new B(8,106),new B(4,107)),new K(28,new B(8,47),new B(13,48)),new K(30,new B(7,24),new B(22,25)),new K(30,new B(22,15),new B(13,16))),new Ct(26,Int32Array.from([6,30,58,86,114]),new K(28,new B(10,114),new B(2,115)),new K(28,new B(19,46),new B(4,47)),new K(28,new B(28,22),new B(6,23)),new K(30,new B(33,16),new B(4,17))),new Ct(27,Int32Array.from([6,34,62,90,118]),new K(30,new B(8,122),new B(4,123)),new K(28,new B(22,45),new B(3,46)),new K(30,new B(8,23),new B(26,24)),new K(30,new B(12,15),new B(28,16))),new Ct(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new B(3,117),new B(10,118)),new K(28,new B(3,45),new B(23,46)),new K(30,new B(4,24),new B(31,25)),new K(30,new B(11,15),new B(31,16))),new Ct(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new B(7,116),new B(7,117)),new K(28,new B(21,45),new B(7,46)),new K(30,new B(1,23),new B(37,24)),new K(30,new B(19,15),new B(26,16))),new Ct(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new B(5,115),new B(10,116)),new K(28,new B(19,47),new B(10,48)),new K(30,new B(15,24),new B(25,25)),new K(30,new B(23,15),new B(25,16))),new Ct(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new B(13,115),new B(3,116)),new K(28,new B(2,46),new B(29,47)),new K(30,new B(42,24),new B(1,25)),new K(30,new B(23,15),new B(28,16))),new Ct(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new B(17,115)),new K(28,new B(10,46),new B(23,47)),new K(30,new B(10,24),new B(35,25)),new K(30,new B(19,15),new B(35,16))),new Ct(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new B(17,115),new B(1,116)),new K(28,new B(14,46),new B(21,47)),new K(30,new B(29,24),new B(19,25)),new K(30,new B(11,15),new B(46,16))),new Ct(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new B(13,115),new B(6,116)),new K(28,new B(14,46),new B(23,47)),new K(30,new B(44,24),new B(7,25)),new K(30,new B(59,16),new B(1,17))),new Ct(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new B(12,121),new B(7,122)),new K(28,new B(12,47),new B(26,48)),new K(30,new B(39,24),new B(14,25)),new K(30,new B(22,15),new B(41,16))),new Ct(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new B(6,121),new B(14,122)),new K(28,new B(6,47),new B(34,48)),new K(30,new B(46,24),new B(10,25)),new K(30,new B(2,15),new B(64,16))),new Ct(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new B(17,122),new B(4,123)),new K(28,new B(29,46),new B(14,47)),new K(30,new B(49,24),new B(10,25)),new K(30,new B(24,15),new B(46,16))),new Ct(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new B(4,122),new B(18,123)),new K(28,new B(13,46),new B(32,47)),new K(30,new B(48,24),new B(14,25)),new K(30,new B(42,15),new B(32,16))),new Ct(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new B(20,117),new B(4,118)),new K(28,new B(40,47),new B(7,48)),new K(30,new B(43,24),new B(22,25)),new K(30,new B(10,15),new B(67,16))),new Ct(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new B(19,118),new B(6,119)),new K(28,new B(18,47),new B(31,48)),new K(30,new B(34,24),new B(34,25)),new K(30,new B(20,15),new B(61,16)))];var Fe;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(Fe||(Fe={}));class wn{constructor(i,s){this.value=i,this.isMasked=s}unmaskBitMatrix(i,s){for(let a=0;a<s;a++)for(let u=0;u<s;u++)this.isMasked(a,u)&&i.flip(u,a)}}wn.values=new Map([[Fe.DATA_MASK_000,new wn(Fe.DATA_MASK_000,(I,i)=>(I+i&1)===0)],[Fe.DATA_MASK_001,new wn(Fe.DATA_MASK_001,(I,i)=>(I&1)===0)],[Fe.DATA_MASK_010,new wn(Fe.DATA_MASK_010,(I,i)=>i%3===0)],[Fe.DATA_MASK_011,new wn(Fe.DATA_MASK_011,(I,i)=>(I+i)%3===0)],[Fe.DATA_MASK_100,new wn(Fe.DATA_MASK_100,(I,i)=>(Math.floor(I/2)+Math.floor(i/3)&1)===0)],[Fe.DATA_MASK_101,new wn(Fe.DATA_MASK_101,(I,i)=>I*i%6===0)],[Fe.DATA_MASK_110,new wn(Fe.DATA_MASK_110,(I,i)=>I*i%6<3)],[Fe.DATA_MASK_111,new wn(Fe.DATA_MASK_111,(I,i)=>(I+i+I*i%3&1)===0)]]);class Ao{constructor(i){const s=i.getHeight();if(s<21||(s&3)!==1)throw new Z;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let h=0;h<6;h++)i=this.copyBit(h,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let h=5;h>=0;h--)i=this.copyBit(8,h,i);const s=this.bitMatrix.getHeight();let a=0;const u=s-7;for(let h=s-1;h>=u;h--)a=this.copyBit(8,h,a);for(let h=s-8;h<s;h++)a=this.copyBit(h,8,a);if(this.parsedFormatInfo=qe.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),s=Math.floor((i-17)/4);if(s<=6)return Ct.getVersionForNumber(s);let a=0;const u=i-11;for(let g=5;g>=0;g--)for(let x=i-9;x>=u;x--)a=this.copyBit(x,g,a);let h=Ct.decodeVersionInformation(a);if(h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;a=0;for(let g=5;g>=0;g--)for(let x=i-9;x>=u;x--)a=this.copyBit(g,x,a);if(h=Ct.decodeVersionInformation(a),h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;throw new Z}copyBit(i,s,a){return(this.isMirror?this.bitMatrix.get(s,i):this.bitMatrix.get(i,s))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),s=this.readVersion(),a=wn.values.get(i.getDataMask()),u=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,u);const h=s.buildFunctionPattern();let g=!0;const x=new Uint8Array(s.getTotalCodewords());let _=0,A=0,C=0;for(let T=u-1;T>0;T-=2){T===6&&T--;for(let N=0;N<u;N++){const U=g?u-1-N:N;for(let j=0;j<2;j++)h.get(T-j,U)||(C++,A<<=1,this.bitMatrix.get(T-j,U)&&(A|=1),C===8&&(x[_++]=A,C=0,A=0))}g=!g}if(_!==s.getTotalCodewords())throw new Z;return x}remask(){if(this.parsedFormatInfo===null)return;const i=wn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,s)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let s=0,a=i.getWidth();s<a;s++)for(let u=s+1,h=i.getHeight();u<h;u++)i.get(s,u)!==i.get(u,s)&&(i.flip(u,s),i.flip(s,u))}}class Bi{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s,a){if(i.length!==s.getTotalCodewords())throw new y;const u=s.getECBlocksForLevel(a);let h=0;const g=u.getECBlocks();for(const j of g)h+=j.getCount();const x=new Array(h);let _=0;for(const j of g)for(let M=0;M<j.getCount();M++){const k=j.getDataCodewords(),F=u.getECCodewordsPerBlock()+k;x[_++]=new Bi(k,new Uint8Array(F))}const A=x[0].codewords.length;let C=x.length-1;for(;C>=0&&x[C].codewords.length!==A;)C--;C++;const T=A-u.getECCodewordsPerBlock();let N=0;for(let j=0;j<T;j++)for(let M=0;M<_;M++)x[M].codewords[j]=i[N++];for(let j=C;j<_;j++)x[j].codewords[T]=i[N++];const U=x[0].codewords.length;for(let j=T;j<U;j++)for(let M=0;M<_;M++){const k=M<C?j:j+1;x[M].codewords[k]=i[N++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var vn;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(vn||(vn={}));class St{constructor(i,s,a,u){this.value=i,this.stringValue=s,this.characterCountBitsForVersions=a,this.bits=u,St.FOR_BITS.set(u,this),St.FOR_VALUE.set(i,this)}static forBits(i){const s=St.FOR_BITS.get(i);if(s===void 0)throw new y;return s}getCharacterCountBits(i){const s=i.getVersionNumber();let a;return s<=9?a=0:s<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof St))return!1;const s=i;return this.value===s.value}toString(){return this.stringValue}}St.FOR_BITS=new Map,St.FOR_VALUE=new Map,St.TERMINATOR=new St(vn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),St.NUMERIC=new St(vn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),St.ALPHANUMERIC=new St(vn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),St.STRUCTURED_APPEND=new St(vn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),St.BYTE=new St(vn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),St.ECI=new St(vn.ECI,"ECI",Int32Array.from([0,0,0]),7),St.KANJI=new St(vn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),St.FNC1_FIRST_POSITION=new St(vn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),St.FNC1_SECOND_POSITION=new St(vn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),St.HANZI=new St(vn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ee{static decode(i,s,a,u){const h=new Ps(i);let g=new gt;const x=new Array;let _=-1,A=-1;try{let C=null,T=!1,N;do{if(h.available()<4)N=St.TERMINATOR;else{const U=h.readBits(4);N=St.forBits(U)}switch(N){case St.TERMINATOR:break;case St.FNC1_FIRST_POSITION:case St.FNC1_SECOND_POSITION:T=!0;break;case St.STRUCTURED_APPEND:if(h.available()<16)throw new Z;_=h.readBits(8),A=h.readBits(8);break;case St.ECI:const U=Ee.parseECIValue(h);if(C=J.getCharacterSetECIByValue(U),C===null)throw new Z;break;case St.HANZI:const j=h.readBits(4),M=h.readBits(N.getCharacterCountBits(s));j===Ee.GB2312_SUBSET&&Ee.decodeHanziSegment(h,g,M);break;default:const k=h.readBits(N.getCharacterCountBits(s));switch(N){case St.NUMERIC:Ee.decodeNumericSegment(h,g,k);break;case St.ALPHANUMERIC:Ee.decodeAlphanumericSegment(h,g,k,T);break;case St.BYTE:Ee.decodeByteSegment(h,g,k,C,x,u);break;case St.KANJI:Ee.decodeKanjiSegment(h,g,k);break;default:throw new Z}break}}while(N!==St.TERMINATOR)}catch{throw new Z}return new xi(i,g.toString(),x.length===0?null:x,a===null?null:a.toString(),_,A)}static decodeHanziSegment(i,s,a){if(a*13>i.available())throw new Z;const u=new Uint8Array(2*a);let h=0;for(;a>0;){const g=i.readBits(13);let x=g/96<<8&4294967295|g%96;x<959?x+=41377:x+=42657,u[h]=x>>8&255,u[h+1]=x&255,h+=2,a--}try{s.append(yt.decode(u,ut.GB2312))}catch(g){throw new Z(g)}}static decodeKanjiSegment(i,s,a){if(a*13>i.available())throw new Z;const u=new Uint8Array(2*a);let h=0;for(;a>0;){const g=i.readBits(13);let x=g/192<<8&4294967295|g%192;x<7936?x+=33088:x+=49472,u[h]=x>>8,u[h+1]=x,h+=2,a--}try{s.append(yt.decode(u,ut.SHIFT_JIS))}catch(g){throw new Z(g)}}static decodeByteSegment(i,s,a,u,h,g){if(8*a>i.available())throw new Z;const x=new Uint8Array(a);for(let A=0;A<a;A++)x[A]=i.readBits(8);let _;u===null?_=ut.guessEncoding(x,g):_=u.getName();try{s.append(yt.decode(x,_))}catch(A){throw new Z(A)}h.push(x)}static toAlphaNumericChar(i){if(i>=Ee.ALPHANUMERIC_CHARS.length)throw new Z;return Ee.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,s,a,u){const h=s.length();for(;a>1;){if(i.available()<11)throw new Z;const g=i.readBits(11);s.append(Ee.toAlphaNumericChar(Math.floor(g/45))),s.append(Ee.toAlphaNumericChar(g%45)),a-=2}if(a===1){if(i.available()<6)throw new Z;s.append(Ee.toAlphaNumericChar(i.readBits(6)))}if(u)for(let g=h;g<s.length();g++)s.charAt(g)==="%"&&(g<s.length()-1&&s.charAt(g+1)==="%"?s.deleteCharAt(g+1):s.setCharAt(g,String.fromCharCode(29)))}static decodeNumericSegment(i,s,a){for(;a>=3;){if(i.available()<10)throw new Z;const u=i.readBits(10);if(u>=1e3)throw new Z;s.append(Ee.toAlphaNumericChar(Math.floor(u/100))),s.append(Ee.toAlphaNumericChar(Math.floor(u/10)%10)),s.append(Ee.toAlphaNumericChar(u%10)),a-=3}if(a===2){if(i.available()<7)throw new Z;const u=i.readBits(7);if(u>=100)throw new Z;s.append(Ee.toAlphaNumericChar(Math.floor(u/10))),s.append(Ee.toAlphaNumericChar(u%10))}else if(a===1){if(i.available()<4)throw new Z;const u=i.readBits(4);if(u>=10)throw new Z;s.append(Ee.toAlphaNumericChar(u))}}static parseECIValue(i){const s=i.readBits(8);if((s&128)===0)return s&127;if((s&192)===128){const a=i.readBits(8);return(s&63)<<8&4294967295|a}if((s&224)===192){const a=i.readBits(16);return(s&31)<<16&4294967295|a}throw new Z}}Ee.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ee.GB2312_SUBSET=1;class yo{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const s=i[0];i[0]=i[2],i[2]=s}}class Ba{constructor(){this.rsDecoder=new wi(Ht.QR_CODE_FIELD_256)}decodeBooleanArray(i,s){return this.decodeBitMatrix(Rt.parseFromBooleanArray(i),s)}decodeBitMatrix(i,s){const a=new Ao(i);let u=null;try{return this.decodeBitMatrixParser(a,s)}catch(h){u=h}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const h=this.decodeBitMatrixParser(a,s);return h.setOther(new yo(!0)),h}catch(h){throw u!==null?u:h}}decodeBitMatrixParser(i,s){const a=i.readVersion(),u=i.readFormatInformation().getErrorCorrectionLevel(),h=i.readCodewords(),g=Bi.getDataBlocks(h,a,u);let x=0;for(const C of g)x+=C.getNumDataCodewords();const _=new Uint8Array(x);let A=0;for(const C of g){const T=C.getCodewords(),N=C.getNumDataCodewords();this.correctErrors(T,N);for(let U=0;U<N;U++)_[A++]=T[U]}return Ee.decode(_,a,u,s)}correctErrors(i,s){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-s)}catch{throw new O}for(let u=0;u<s;u++)i[u]=a[u]}}class ks extends _t{constructor(i,s,a){super(i,s),this.estimatedModuleSize=a}aboutEquals(i,s,a){if(Math.abs(s-this.getY())<=i&&Math.abs(a-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,s,a){const u=(this.getX()+s)/2,h=(this.getY()+i)/2,g=(this.estimatedModuleSize+a)/2;return new ks(u,h,g)}}class ns{constructor(i,s,a,u,h,g,x){this.image=i,this.startX=s,this.startY=a,this.width=u,this.height=h,this.moduleSize=g,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,s=this.height,a=this.width,u=i+a,h=this.startY+s/2,g=new Int32Array(3),x=this.image;for(let _=0;_<s;_++){const A=h+((_&1)===0?Math.floor((_+1)/2):-Math.floor((_+1)/2));g[0]=0,g[1]=0,g[2]=0;let C=i;for(;C<u&&!x.get(C,A);)C++;let T=0;for(;C<u;){if(x.get(C,A))if(T===1)g[1]++;else if(T===2){if(this.foundPatternCross(g)){const N=this.handlePossibleCenter(g,A,C);if(N!==null)return N}g[0]=g[2],g[1]=1,g[2]=0,T=1}else g[++T]++;else T===1&&T++,g[T]++;C++}if(this.foundPatternCross(g)){const N=this.handlePossibleCenter(g,A,u);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new et}static centerFromEnd(i,s){return s-i[2]-i[1]/2}foundPatternCross(i){const s=this.moduleSize,a=s/2;for(let u=0;u<3;u++)if(Math.abs(s-i[u])>=a)return!1;return!0}crossCheckVertical(i,s,a,u){const h=this.image,g=h.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let _=i;for(;_>=0&&h.get(s,_)&&x[1]<=a;)x[1]++,_--;if(_<0||x[1]>a)return NaN;for(;_>=0&&!h.get(s,_)&&x[0]<=a;)x[0]++,_--;if(x[0]>a)return NaN;for(_=i+1;_<g&&h.get(s,_)&&x[1]<=a;)x[1]++,_++;if(_===g||x[1]>a)return NaN;for(;_<g&&!h.get(s,_)&&x[2]<=a;)x[2]++,_++;if(x[2]>a)return NaN;const A=x[0]+x[1]+x[2];return 5*Math.abs(A-u)>=2*u?NaN:this.foundPatternCross(x)?ns.centerFromEnd(x,_):NaN}handlePossibleCenter(i,s,a){const u=i[0]+i[1]+i[2],h=ns.centerFromEnd(i,a),g=this.crossCheckVertical(s,h,2*i[1],u);if(!isNaN(g)){const x=(i[0]+i[1]+i[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(x,g,h))return A.combineEstimate(g,h,x);const _=new ks(h,g,x);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class Eo extends _t{constructor(i,s,a,u){super(i,s),this.estimatedModuleSize=a,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,s,a){if(Math.abs(s-this.getY())<=i&&Math.abs(a-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,s,a){const u=this.count+1,h=(this.count*this.getX()+s)/u,g=(this.count*this.getY()+i)/u,x=(this.count*this.estimatedModuleSize+a)/u;return new Eo(h,g,x,u)}}class Uc{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class je{constructor(i,s){this.image=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const s=i!=null&&i.get(tt.TRY_HARDER)!==void 0,a=i!=null&&i.get(tt.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),g=u.getWidth();let x=Math.floor(3*h/(4*je.MAX_MODULES));(x<je.MIN_SKIP||s)&&(x=je.MIN_SKIP);let _=!1;const A=new Int32Array(5);for(let T=x-1;T<h&&!_;T+=x){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let N=0;for(let U=0;U<g;U++)if(u.get(U,T))(N&1)===1&&N++,A[N]++;else if((N&1)===0)if(N===4)if(je.foundPatternCross(A)){if(this.handlePossibleCenter(A,T,U,a)===!0)if(x=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>A[2]&&(T+=M-A[2]-x,U=g-1)}else{A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,N=3;continue}N=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,N=3;else A[++N]++;else A[N]++;je.foundPatternCross(A)&&this.handlePossibleCenter(A,T,g,a)===!0&&(x=A[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return _t.orderBestPatterns(C),new Uc(C)}static centerFromEnd(i,s){return s-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let s=0;for(let h=0;h<5;h++){const g=i[h];if(g===0)return!1;s+=g}if(s<7)return!1;const a=s/7,u=a/2;return Math.abs(a-i[0])<u&&Math.abs(a-i[1])<u&&Math.abs(3*a-i[2])<3*u&&Math.abs(a-i[3])<u&&Math.abs(a-i[4])<u}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,s,a,u){const h=this.getCrossCheckStateCount();let g=0;const x=this.image;for(;i>=g&&s>=g&&x.get(s-g,i-g);)h[2]++,g++;if(i<g||s<g)return!1;for(;i>=g&&s>=g&&!x.get(s-g,i-g)&&h[1]<=a;)h[1]++,g++;if(i<g||s<g||h[1]>a)return!1;for(;i>=g&&s>=g&&x.get(s-g,i-g)&&h[0]<=a;)h[0]++,g++;if(h[0]>a)return!1;const _=x.getHeight(),A=x.getWidth();for(g=1;i+g<_&&s+g<A&&x.get(s+g,i+g);)h[2]++,g++;if(i+g>=_||s+g>=A)return!1;for(;i+g<_&&s+g<A&&!x.get(s+g,i+g)&&h[3]<a;)h[3]++,g++;if(i+g>=_||s+g>=A||h[3]>=a)return!1;for(;i+g<_&&s+g<A&&x.get(s+g,i+g)&&h[4]<a;)h[4]++,g++;if(h[4]>=a)return!1;const C=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(C-u)<2*u&&je.foundPatternCross(h)}crossCheckVertical(i,s,a,u){const h=this.image,g=h.getHeight(),x=this.getCrossCheckStateCount();let _=i;for(;_>=0&&h.get(s,_);)x[2]++,_--;if(_<0)return NaN;for(;_>=0&&!h.get(s,_)&&x[1]<=a;)x[1]++,_--;if(_<0||x[1]>a)return NaN;for(;_>=0&&h.get(s,_)&&x[0]<=a;)x[0]++,_--;if(x[0]>a)return NaN;for(_=i+1;_<g&&h.get(s,_);)x[2]++,_++;if(_===g)return NaN;for(;_<g&&!h.get(s,_)&&x[3]<a;)x[3]++,_++;if(_===g||x[3]>=a)return NaN;for(;_<g&&h.get(s,_)&&x[4]<a;)x[4]++,_++;if(x[4]>=a)return NaN;const A=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(A-u)>=2*u?NaN:je.foundPatternCross(x)?je.centerFromEnd(x,_):NaN}crossCheckHorizontal(i,s,a,u){const h=this.image,g=h.getWidth(),x=this.getCrossCheckStateCount();let _=i;for(;_>=0&&h.get(_,s);)x[2]++,_--;if(_<0)return NaN;for(;_>=0&&!h.get(_,s)&&x[1]<=a;)x[1]++,_--;if(_<0||x[1]>a)return NaN;for(;_>=0&&h.get(_,s)&&x[0]<=a;)x[0]++,_--;if(x[0]>a)return NaN;for(_=i+1;_<g&&h.get(_,s);)x[2]++,_++;if(_===g)return NaN;for(;_<g&&!h.get(_,s)&&x[3]<a;)x[3]++,_++;if(_===g||x[3]>=a)return NaN;for(;_<g&&h.get(_,s)&&x[4]<a;)x[4]++,_++;if(x[4]>=a)return NaN;const A=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(A-u)>=u?NaN:je.foundPatternCross(x)?je.centerFromEnd(x,_):NaN}handlePossibleCenter(i,s,a,u){const h=i[0]+i[1]+i[2]+i[3]+i[4];let g=je.centerFromEnd(i,a),x=this.crossCheckVertical(s,Math.floor(g),i[2],h);if(!isNaN(x)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(x),i[2],h),!isNaN(g)&&(!u||this.crossCheckDiagonal(Math.floor(x),Math.floor(g),i[2],h)))){const _=h/7;let A=!1;const C=this.possibleCenters;for(let T=0,N=C.length;T<N;T++){const U=C[T];if(U.aboutEquals(_,x,g)){C[T]=U.combineEstimate(x,g,_),A=!0;break}}if(!A){const T=new Eo(g,x,_);C.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const a of this.possibleCenters)if(a.getCount()>=je.CENTER_QUORUM)if(s==null)s=a;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-a.getX())-Math.abs(s.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,s=0;const a=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=je.CENTER_QUORUM&&(i++,s+=g.getEstimatedModuleSize());if(i<3)return!1;const u=s/a;let h=0;for(const g of this.possibleCenters)h+=Math.abs(g.getEstimatedModuleSize()-u);return h<=.05*s}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new et;const s=this.possibleCenters;let a;if(i>3){let u=0,h=0;for(const _ of this.possibleCenters){const A=_.getEstimatedModuleSize();u+=A,h+=A*A}a=u/i;let g=Math.sqrt(h/i-a*a);s.sort((_,A)=>{const C=Math.abs(A.getEstimatedModuleSize()-a),T=Math.abs(_.getEstimatedModuleSize()-a);return C<T?-1:C>T?1:0});const x=Math.max(.2*a,g);for(let _=0;_<s.length&&s.length>3;_++){const A=s[_];Math.abs(A.getEstimatedModuleSize()-a)>x&&(s.splice(_,1),_--)}}if(s.length>3){let u=0;for(const h of s)u+=h.getEstimatedModuleSize();a=u/s.length,s.sort((h,g)=>{if(g.getCount()===h.getCount()){const x=Math.abs(g.getEstimatedModuleSize()-a),_=Math.abs(h.getEstimatedModuleSize()-a);return x<_?1:x>_?-1:0}else return g.getCount()-h.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}je.CENTER_QUORUM=2,je.MIN_SKIP=3,je.MAX_MODULES=57;class Rr{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(tt.NEED_RESULT_POINT_CALLBACK);const a=new je(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const s=i.getTopLeft(),a=i.getTopRight(),u=i.getBottomLeft(),h=this.calculateModuleSize(s,a,u);if(h<1)throw new et("No pattern found in proccess finder.");const g=Rr.computeDimension(s,a,u,h),x=Ct.getProvisionalVersionForDimension(g),_=x.getDimensionForVersion()-7;let A=null;if(x.getAlignmentPatternCenters().length>0){const U=a.getX()-s.getX()+u.getX(),j=a.getY()-s.getY()+u.getY(),M=1-3/_,k=Math.floor(s.getX()+M*(U-s.getX())),F=Math.floor(s.getY()+M*(j-s.getY()));for(let q=4;q<=16;q<<=1)try{A=this.findAlignmentInRegion(h,k,F,q);break}catch(it){if(!(it instanceof et))throw it}}const C=Rr.createTransform(s,a,u,A,g),T=Rr.sampleGrid(this.image,C,g);let N;return A===null?N=[u,s,a]:N=[u,s,a,A],new xn(T,N)}static createTransform(i,s,a,u,h){const g=h-3.5;let x,_,A,C;return u!==null?(x=u.getX(),_=u.getY(),A=g-3,C=A):(x=s.getX()-i.getX()+a.getX(),_=s.getY()-i.getY()+a.getY(),A=g,C=g),cn.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,A,C,3.5,g,i.getX(),i.getY(),s.getX(),s.getY(),x,_,a.getX(),a.getY())}static sampleGrid(i,s,a){return Bn.getInstance().sampleGridWithTransform(i,a,a,s)}static computeDimension(i,s,a,u){const h=jt.round(_t.distance(i,s)/u),g=jt.round(_t.distance(i,a)/u);let x=Math.floor((h+g)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new et("Dimensions could be not found.")}return x}calculateModuleSize(i,s,a){return(this.calculateModuleSizeOneWay(i,s)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,s){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?u/7:isNaN(u)?a/7:(a+u)/14}sizeOfBlackWhiteBlackRunBothWays(i,s,a,u){let h=this.sizeOfBlackWhiteBlackRun(i,s,a,u),g=1,x=i-(a-i);x<0?(g=i/(i-x),x=0):x>=this.image.getWidth()&&(g=(this.image.getWidth()-1-i)/(x-i),x=this.image.getWidth()-1);let _=Math.floor(s-(u-s)*g);return g=1,_<0?(g=s/(s-_),_=0):_>=this.image.getHeight()&&(g=(this.image.getHeight()-1-s)/(_-s),_=this.image.getHeight()-1),x=Math.floor(i+(x-i)*g),h+=this.sizeOfBlackWhiteBlackRun(i,s,x,_),h-1}sizeOfBlackWhiteBlackRun(i,s,a,u){const h=Math.abs(u-s)>Math.abs(a-i);if(h){let U=i;i=s,s=U,U=a,a=u,u=U}const g=Math.abs(a-i),x=Math.abs(u-s);let _=-g/2;const A=i<a?1:-1,C=s<u?1:-1;let T=0;const N=a+A;for(let U=i,j=s;U!==N;U+=A){const M=h?j:U,k=h?U:j;if(T===1===this.image.get(M,k)){if(T===2)return jt.distance(U,j,i,s);T++}if(_+=x,_>0){if(j===u)break;j+=C,_-=g}}return T===2?jt.distance(a+A,u,i,s):NaN}findAlignmentInRegion(i,s,a,u){const h=Math.floor(u*i),g=Math.max(0,s-h),x=Math.min(this.image.getWidth()-1,s+h);if(x-g<i*3)throw new et("Alignment top exceeds estimated module size.");const _=Math.max(0,a-h),A=Math.min(this.image.getHeight()-1,a+h);if(A-_<i*3)throw new et("Alignment bottom exceeds estimated module size.");return new ns(this.image,g,_,x-g,A-_,i,this.resultPointCallback).find()}}class ki{constructor(){this.decoder=new Ba}getDecoder(){return this.decoder}decode(i,s){let a,u;if(s!=null&&s.get(tt.PURE_BARCODE)!==void 0){const _=ki.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(_,s),u=ki.NO_POINTS}else{const _=new Rr(i.getBlackMatrix()).detect(s);a=this.decoder.decodeBitMatrix(_.getBits(),s),u=_.getPoints()}a.getOther()instanceof yo&&a.getOther().applyMirroredCorrection(u);const h=new ve(a.getText(),a.getRawBytes(),void 0,u,bt.QR_CODE,void 0),g=a.getByteSegments();g!==null&&h.putMetadata(Ve.BYTE_SEGMENTS,g);const x=a.getECLevel();return x!==null&&h.putMetadata(Ve.ERROR_CORRECTION_LEVEL,x),a.hasStructuredAppend()&&(h.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),h.putMetadata(Ve.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),h}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s===null||a===null)throw new et;const u=this.moduleSize(s,i);let h=s[1],g=a[1],x=s[0],_=a[0];if(x>=_||h>=g)throw new et;if(g-h!==_-x&&(_=x+(g-h),_>=i.getWidth()))throw new et;const A=Math.round((_-x+1)/u),C=Math.round((g-h+1)/u);if(A<=0||C<=0)throw new et;if(C!==A)throw new et;const T=Math.floor(u/2);h+=T,x+=T;const N=x+Math.floor((A-1)*u)-_;if(N>0){if(N>T)throw new et;x-=N}const U=h+Math.floor((C-1)*u)-g;if(U>0){if(U>T)throw new et;h-=U}const j=new Rt(A,C);for(let M=0;M<C;M++){const k=h+Math.floor(M*u);for(let F=0;F<A;F++)i.get(x+Math.floor(F*u),k)&&j.set(F,M)}return j}static moduleSize(i,s){const a=s.getHeight(),u=s.getWidth();let h=i[0],g=i[1],x=!0,_=0;for(;h<u&&g<a;){if(x!==s.get(h,g)){if(++_===5)break;x=!x}h++,g++}if(h===u||g===a)throw new et;return(h-i[0])/7}}ki.NO_POINTS=new Array;class vt{PDF417Common(){}static getBitCountSum(i){return jt.sum(i)}static toIntArray(i){if(i==null||!i.length)return vt.EMPTY_INT_ARRAY;const s=new Int32Array(i.length);let a=0;for(const u of i)s[a++]=u;return s}static getCodeword(i){const s=H.binarySearch(vt.SYMBOL_TABLE,i&262143);return s<0?-1:(vt.CODEWORD_TABLE[s]-1)%vt.NUMBER_OF_CODEWORDS}}vt.NUMBER_OF_CODEWORDS=929,vt.MAX_CODEWORDS_IN_BARCODE=vt.NUMBER_OF_CODEWORDS-1,vt.MIN_ROWS_IN_BARCODE=3,vt.MAX_ROWS_IN_BARCODE=90,vt.MODULES_IN_CODEWORD=17,vt.MODULES_IN_STOP_PATTERN=18,vt.BARS_IN_MODULE=8,vt.EMPTY_INT_ARRAY=new Int32Array([]),vt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),vt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class zc{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Lt{static detectMultiple(i,s,a){let u=i.getBlackMatrix(),h=Lt.detect(a,u);return h.length||(u=u.clone(),u.rotate180(),h=Lt.detect(a,u)),new zc(u,h)}static detect(i,s){const a=new Array;let u=0,h=0,g=!1;for(;u<s.getHeight();){const x=Lt.findVertices(s,u,h);if(x[0]==null&&x[3]==null){if(!g)break;g=!1,h=0;for(const _ of a)_[1]!=null&&(u=Math.trunc(Math.max(u,_[1].getY()))),_[3]!=null&&(u=Math.max(u,Math.trunc(_[3].getY())));u+=Lt.ROW_STEP;continue}if(g=!0,a.push(x),!i)break;x[2]!=null?(h=Math.trunc(x[2].getX()),u=Math.trunc(x[2].getY())):(h=Math.trunc(x[4].getX()),u=Math.trunc(x[4].getY()))}return a}static findVertices(i,s,a){const u=i.getHeight(),h=i.getWidth(),g=new Array(8);return Lt.copyToResult(g,Lt.findRowsWithPattern(i,u,h,s,a,Lt.START_PATTERN),Lt.INDEXES_START_PATTERN),g[4]!=null&&(a=Math.trunc(g[4].getX()),s=Math.trunc(g[4].getY())),Lt.copyToResult(g,Lt.findRowsWithPattern(i,u,h,s,a,Lt.STOP_PATTERN),Lt.INDEXES_STOP_PATTERN),g}static copyToResult(i,s,a){for(let u=0;u<a.length;u++)i[a[u]]=s[u]}static findRowsWithPattern(i,s,a,u,h,g){const x=new Array(4);let _=!1;const A=new Int32Array(g.length);for(;u<s;u+=Lt.ROW_STEP){let T=Lt.findGuardPattern(i,h,u,a,!1,g,A);if(T!=null){for(;u>0;){const N=Lt.findGuardPattern(i,h,--u,a,!1,g,A);if(N!=null)T=N;else{u++;break}}x[0]=new _t(T[0],u),x[1]=new _t(T[1],u),_=!0;break}}let C=u+1;if(_){let T=0,N=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;C<s;C++){const U=Lt.findGuardPattern(i,N[0],C,a,!1,g,A);if(U!=null&&Math.abs(N[0]-U[0])<Lt.MAX_PATTERN_DRIFT&&Math.abs(N[1]-U[1])<Lt.MAX_PATTERN_DRIFT)N=U,T=0;else{if(T>Lt.SKIPPED_ROW_COUNT_MAX)break;T++}}C-=T+1,x[2]=new _t(N[0],C),x[3]=new _t(N[1],C)}return C-u<Lt.BARCODE_MIN_HEIGHT&&H.fill(x,null),x}static findGuardPattern(i,s,a,u,h,g,x){H.fillWithin(x,0,x.length,0);let _=s,A=0;for(;i.get(_,a)&&_>0&&A++<Lt.MAX_PIXEL_DRIFT;)_--;let C=_,T=0,N=g.length;for(let U=h;C<u;C++)if(i.get(C,a)!==U)x[T]++;else{if(T===N-1){if(Lt.patternMatchVariance(x,g,Lt.MAX_INDIVIDUAL_VARIANCE)<Lt.MAX_AVG_VARIANCE)return new Int32Array([_,C]);_+=x[0]+x[1],D.arraycopy(x,2,x,0,T-1),x[T-1]=0,x[T]=0,T--}else T++;x[T]=1,U=!U}return T===N-1&&Lt.patternMatchVariance(x,g,Lt.MAX_INDIVIDUAL_VARIANCE)<Lt.MAX_AVG_VARIANCE?new Int32Array([_,C-1]):null}static patternMatchVariance(i,s,a){let u=i.length,h=0,g=0;for(let A=0;A<u;A++)h+=i[A],g+=s[A];if(h<g)return 1/0;let x=h/g;a*=x;let _=0;for(let A=0;A<u;A++){let C=i[A],T=s[A]*x,N=C>T?C-T:T-C;if(N>a)return 1/0;_+=N}return _/h}}Lt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Lt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Lt.MAX_AVG_VARIANCE=.42,Lt.MAX_INDIVIDUAL_VARIANCE=.8,Lt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Lt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Lt.MAX_PIXEL_DRIFT=3,Lt.MAX_PATTERN_DRIFT=5,Lt.SKIPPED_ROW_COUNT_MAX=25,Lt.ROW_STEP=5,Lt.BARCODE_MIN_HEIGHT=10;class Ue{constructor(i,s){if(s.length===0)throw new y;this.field=i;let a=s.length;if(a>1&&s[0]===0){let u=1;for(;u<a&&s[u]===0;)u++;u===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-u),D.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let u=0;for(let h of this.coefficients)u=this.field.add(u,h);return u}let s=this.coefficients[0],a=this.coefficients.length;for(let u=1;u<a;u++)s=this.field.add(this.field.multiply(i,s),this.coefficients[u]);return s}add(i){if(!this.field.equals(i.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,a=i.coefficients;if(s.length>a.length){let g=s;s=a,a=g}let u=new Int32Array(a.length),h=a.length-s.length;D.arraycopy(a,0,u,0,h);for(let g=h;g<a.length;g++)u[g]=this.field.add(s[g-h],a[g]);return new Ue(this.field,u)}subtract(i){if(!this.field.equals(i.field))throw new y("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Ue?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Ue(this.field,new Int32Array([0]));let s=this.coefficients,a=s.length,u=i.coefficients,h=u.length,g=new Int32Array(a+h-1);for(let x=0;x<a;x++){let _=s[x];for(let A=0;A<h;A++)g[x+A]=this.field.add(g[x+A],this.field.multiply(_,u[A]))}return new Ue(this.field,g)}negative(){let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.subtract(0,this.coefficients[a]);return new Ue(this.field,s)}multiplyScalar(i){if(i===0)return new Ue(this.field,new Int32Array([0]));if(i===1)return this;let s=this.coefficients.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=this.field.multiply(this.coefficients[u],i);return new Ue(this.field,a)}multiplyByMonomial(i,s){if(i<0)throw new y;if(s===0)return new Ue(this.field,new Int32Array([0]));let a=this.coefficients.length,u=new Int32Array(a+i);for(let h=0;h<a;h++)u[h]=this.field.multiply(this.coefficients[h],s);return new Ue(this.field,u)}toString(){let i=new gt;for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(s===0||a!==1)&&i.append(a),s!==0&&(s===1?i.append("x"):(i.append("x^"),i.append(s))))}return i.toString()}}class Wc{add(i,s){return(i+s)%this.modulus}subtract(i,s){return(this.modulus+i-s)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new y;return this.logTable[i]}inverse(i){if(i===0)throw new Qi;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Co extends Wc{constructor(i,s){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let u=0;u<i;u++)this.expTable[u]=a,a=a*s%i;for(let u=0;u<i-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Ue(this,new Int32Array([0])),this.one=new Ue(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new y;if(s===0)return this.zero;let a=new Int32Array(i+1);return a[0]=s,new Ue(this,a)}}Co.PDF417_GF=new Co(vt.NUMBER_OF_CODEWORDS,3);class ka{constructor(){this.field=Co.PDF417_GF}decode(i,s,a){let u=new Ue(this.field,i),h=new Int32Array(s),g=!1;for(let j=s;j>0;j--){let M=u.evaluateAt(this.field.exp(j));h[s-j]=M,M!==0&&(g=!0)}if(!g)return 0;let x=this.field.getOne();if(a!=null)for(const j of a){let M=this.field.exp(i.length-1-j),k=new Ue(this.field,new Int32Array([this.field.subtract(0,M),1]));x=x.multiply(k)}let _=new Ue(this.field,h),A=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),_,s),C=A[0],T=A[1],N=this.findErrorLocations(C),U=this.findErrorMagnitudes(T,C,N);for(let j=0;j<N.length;j++){let M=i.length-1-this.field.log(N[j]);if(M<0)throw O.getChecksumInstance();i[M]=this.field.subtract(i[M],U[j])}return N.length}runEuclideanAlgorithm(i,s,a){if(i.getDegree()<s.getDegree()){let N=i;i=s,s=N}let u=i,h=s,g=this.field.getZero(),x=this.field.getOne();for(;h.getDegree()>=Math.round(a/2);){let N=u,U=g;if(u=h,g=x,u.isZero())throw O.getChecksumInstance();h=N;let j=this.field.getZero(),M=u.getCoefficient(u.getDegree()),k=this.field.inverse(M);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let F=h.getDegree()-u.getDegree(),q=this.field.multiply(h.getCoefficient(h.getDegree()),k);j=j.add(this.field.buildMonomial(F,q)),h=h.subtract(u.multiplyByMonomial(F,q))}x=j.multiply(g).subtract(U).negative()}let _=x.getCoefficient(0);if(_===0)throw O.getChecksumInstance();let A=this.field.inverse(_),C=x.multiply(A),T=h.multiply(A);return[C,T]}findErrorLocations(i){let s=i.getDegree(),a=new Int32Array(s),u=0;for(let h=1;h<this.field.getSize()&&u<s;h++)i.evaluateAt(h)===0&&(a[u]=this.field.inverse(h),u++);if(u!==s)throw O.getChecksumInstance();return a}findErrorMagnitudes(i,s,a){let u=s.getDegree(),h=new Int32Array(u);for(let A=1;A<=u;A++)h[u-A]=this.field.multiply(A,s.getCoefficient(A));let g=new Ue(this.field,h),x=a.length,_=new Int32Array(x);for(let A=0;A<x;A++){let C=this.field.inverse(a[A]),T=this.field.subtract(0,i.evaluateAt(C)),N=this.field.inverse(g.evaluateAt(C));_[A]=this.field.multiply(T,N)}return _}}class rr{constructor(i,s,a,u,h){i instanceof rr?this.constructor_2(i):this.constructor_1(i,s,a,u,h)}constructor_1(i,s,a,u,h){const g=s==null||a==null,x=u==null||h==null;if(g&&x)throw new et;g?(s=new _t(0,u.getY()),a=new _t(0,h.getY())):x&&(u=new _t(i.getWidth()-1,s.getY()),h=new _t(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=s,this.bottomLeft=a,this.topRight=u,this.bottomRight=h,this.minX=Math.trunc(Math.min(s.getX(),a.getX())),this.maxX=Math.trunc(Math.max(u.getX(),h.getX())),this.minY=Math.trunc(Math.min(s.getY(),u.getY())),this.maxY=Math.trunc(Math.max(a.getY(),h.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,s){return i==null?s:s==null?i:new rr(i.image,i.topLeft,i.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(i,s,a){let u=this.topLeft,h=this.bottomLeft,g=this.topRight,x=this.bottomRight;if(i>0){let _=a?this.topLeft:this.topRight,A=Math.trunc(_.getY()-i);A<0&&(A=0);let C=new _t(_.getX(),A);a?u=C:g=C}if(s>0){let _=a?this.bottomLeft:this.bottomRight,A=Math.trunc(_.getY()+s);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let C=new _t(_.getX(),A);a?h=C:x=C}return new rr(this.image,u,h,g,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Hc{constructor(i,s,a,u){this.columnCount=i,this.errorCorrectionLevel=u,this.rowCountUpperPart=s,this.rowCountLowerPart=a,this.rowCount=s+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class re{constructor(){this.buffer=""}static form(i,s){let a=-1;function u(g,x,_,A,C,T){if(g==="%%")return"%";if(s[++a]===void 0)return;g=A?parseInt(A.substr(1)):void 0;let N=C?parseInt(C.substr(1)):void 0,U;switch(T){case"s":U=s[a];break;case"c":U=s[a][0];break;case"f":U=parseFloat(s[a]).toFixed(g);break;case"p":U=parseFloat(s[a]).toPrecision(g);break;case"e":U=parseFloat(s[a]).toExponential(g);break;case"x":U=parseInt(s[a]).toString(N||16);break;case"d":U=parseFloat(parseInt(s[a],N||10).toPrecision(g)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(N);let j=parseInt(_),M=_&&_[0]+""=="0"?"0":" ";for(;U.length<j;)U=x!==void 0?U+M:M+U;return U}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,u)}format(i,...s){this.buffer+=re.form(i,s)}toString(){return this.buffer}}class $t{constructor(i){this.boundingBox=new rr(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let s=this.getCodeword(i);if(s!=null)return s;for(let a=1;a<$t.MAX_NEARBY_DISTANCE;a++){let u=this.imageRowToCodewordIndex(i)-a;if(u>=0&&(s=this.codewords[u],s!=null)||(u=this.imageRowToCodewordIndex(i)+a,u<this.codewords.length&&(s=this.codewords[u],s!=null)))return s}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,s){this.codewords[this.imageRowToCodewordIndex(i)]=s}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new re;let s=0;for(const a of this.codewords){if(a==null){i.format("%3d:    |   %n",s++);continue}i.format("%3d: %3d|%3d%n",s++,a.getRowNumber(),a.getValue())}return i.toString()}}$t.MAX_NEARBY_DISTANCE=5;class is{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let s=this.values.get(i);s==null&&(s=0),s++,this.values.set(i,s)}getValue(){let i=-1,s=new Array;for(const[a,u]of this.values.entries()){const h={getKey:()=>a,getValue:()=>u};h.getValue()>i?(i=h.getValue(),s=[],s.push(h.getKey())):h.getValue()===i&&s.push(h.getKey())}return vt.toIntArray(s)}getConfidence(i){return this.values.get(i)}}class Fa extends $t{constructor(i,s){super(i),this._isLeft=s}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,i);let a=this.getBoundingBox(),u=this._isLeft?a.getTopLeft():a.getTopRight(),h=this._isLeft?a.getBottomLeft():a.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),_=-1,A=1,C=0;for(let T=g;T<x;T++){if(s[T]==null)continue;let N=s[T],U=N.getRowNumber()-_;if(U===0)C++;else if(U===1)A=Math.max(A,C),C=1,_=N.getRowNumber();else if(U<0||N.getRowNumber()>=i.getRowCount()||U>T)s[T]=null;else{let j;A>2?j=(A-2)*U:j=U;let M=j>=T;for(let k=1;k<=j&&!M;k++)M=s[T-k]!=null;M?s[T]=null:(_=N.getRowNumber(),C=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let s=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let u=a.getRowNumber();if(u>=s.length)continue;s[u]++}return s}adjustIncompleteIndicatorColumnRowNumbers(i){let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.getCodewords(),_=-1;for(let A=h;A<g;A++){if(x[A]==null)continue;let C=x[A];C.setRowNumberAsRowIndicatorColumn();let T=C.getRowNumber()-_;T===0||(T===1?_=C.getRowNumber():C.getRowNumber()>=i.getRowCount()?x[A]=null:_=C.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),s=new is,a=new is,u=new is,h=new is;for(let x of i){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let _=x.getValue()%30,A=x.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:a.setValue(_*3+1);break;case 1:h.setValue(_/3),u.setValue(_%3);break;case 2:s.setValue(_+1);break}}if(s.getValue().length===0||a.getValue().length===0||u.getValue().length===0||h.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+u.getValue()[0]<vt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+u.getValue()[0]>vt.MAX_ROWS_IN_BARCODE)return null;let g=new Hc(s.getValue()[0],a.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(i,g),g}removeIncorrectCodewords(i,s){for(let a=0;a<i.length;a++){let u=i[a];if(i[a]==null)continue;let h=u.getValue()%30,g=u.getRowNumber();if(g>s.getRowCount()){i[a]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:h*3+1!==s.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(h/3)!==s.getErrorCorrectionLevel()||h%3!==s.getRowCountLowerPart())&&(i[a]=null);break;case 2:h+1!==s.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class rs{constructor(i,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=vt.MAX_CODEWORDS_IN_BARCODE,s;do s=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let a=this.detectionResultColumns[s].getCodewords();for(let u=0;u<a.length;u++)a[u]!=null&&(a[u].hasValidRowNumber()||this.adjustRowNumbers(s,u,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&s[a]!=null&&i[a].getRowNumber()===s[a].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let h=this.detectionResultColumns[u].getCodewords()[a];h!=null&&(h.setRowNumber(i[a].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let u=s[a].getRowNumber(),h=0;for(let g=this.barcodeColumnCount+1;g>0&&h<this.ADJUST_ROW_NUMBER_SKIP;g--){let x=this.detectionResultColumns[g].getCodewords()[a];x!=null&&(h=rs.adjustRowNumberIfValid(u,h,x),x.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,s=this.detectionResultColumns[0].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let u=s[a].getRowNumber(),h=0;for(let g=1;g<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;g++){let x=this.detectionResultColumns[g].getCodewords()[a];x!=null&&(h=rs.adjustRowNumberIfValid(u,h,x),x.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,s,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),s=0):++s),s}adjustRowNumbers(i,s,a){let u=a[s],h=this.detectionResultColumns[i-1].getCodewords(),g=h;this.detectionResultColumns[i+1]!=null&&(g=this.detectionResultColumns[i+1].getCodewords());let x=new Array(14);x[2]=h[s],x[3]=g[s],s>0&&(x[0]=a[s-1],x[4]=h[s-1],x[5]=g[s-1]),s>1&&(x[8]=a[s-2],x[10]=h[s-2],x[11]=g[s-2]),s<a.length-1&&(x[1]=a[s+1],x[6]=h[s+1],x[7]=g[s+1]),s<a.length-2&&(x[9]=a[s+2],x[12]=h[s+2],x[13]=g[s+2]);for(let _ of x)if(rs.adjustRowNumber(u,_))return}static adjustRowNumber(i,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===i.getBucket()?(i.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,s){this.detectionResultColumns[i]=s}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new re;for(let a=0;a<i.getCodewords().length;a++){s.format("CW %3d:",a);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){s.format("    |   ");continue}let h=this.detectionResultColumns[u].getCodewords()[a];if(h==null){s.format("    |   ");continue}s.format(" %3d|%3d",h.getRowNumber(),h.getValue())}s.format("%n")}return s.toString()}}class ss{constructor(i,s,a,u){this.rowNumber=ss.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(s),this.bucket=Math.trunc(a),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==ss.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}ss.BARCODE_ROW_UNKNOWN=-1;class _n{static initialize(){for(let i=0;i<vt.SYMBOL_TABLE.length;i++){let s=vt.SYMBOL_TABLE[i],a=s&1;for(let u=0;u<vt.BARS_IN_MODULE;u++){let h=0;for(;(s&1)===a;)h+=1,s>>=1;a=s&1,_n.RATIOS_TABLE[i]||(_n.RATIOS_TABLE[i]=new Array(vt.BARS_IN_MODULE)),_n.RATIOS_TABLE[i][vt.BARS_IN_MODULE-u-1]=Math.fround(h/vt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let s=_n.getDecodedCodewordValue(_n.sampleBitCounts(i));return s!==-1?s:_n.getClosestDecodedValue(i)}static sampleBitCounts(i){let s=jt.sum(i),a=new Int32Array(vt.BARS_IN_MODULE),u=0,h=0;for(let g=0;g<vt.MODULES_IN_CODEWORD;g++){let x=s/(2*vt.MODULES_IN_CODEWORD)+g*s/vt.MODULES_IN_CODEWORD;h+i[u]<=x&&(h+=i[u],u++),a[u]++}return a}static getDecodedCodewordValue(i){let s=_n.getBitValue(i);return vt.getCodeword(s)===-1?-1:s}static getBitValue(i){let s=0;for(let a=0;a<i.length;a++)for(let u=0;u<i[a];u++)s=s<<1|(a%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(i){let s=jt.sum(i),a=new Array(vt.BARS_IN_MODULE);if(s>1)for(let g=0;g<a.length;g++)a[g]=Math.fround(i[g]/s);let u=Os.MAX_VALUE,h=-1;this.bSymbolTableReady||_n.initialize();for(let g=0;g<_n.RATIOS_TABLE.length;g++){let x=0,_=_n.RATIOS_TABLE[g];for(let A=0;A<vt.BARS_IN_MODULE;A++){let C=Math.fround(_[A]-a[A]);if(x+=Math.fround(C*C),x>=u)break}x<u&&(u=x,h=vt.SYMBOL_TABLE[g])}return h}}_n.bSymbolTableReady=!1,_n.RATIOS_TABLE=new Array(vt.SYMBOL_TABLE.length).map(I=>new Array(vt.BARS_IN_MODULE));class Ua{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class So{static parseLong(i,s=void 0){return parseInt(i,s)}}class za extends m{}za.kind="NullPointerException";class Qe{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,s,a){if(i==null)throw new za;if(s<0||s>i.length||a<0||s+a>i.length||s+a<0)throw new V;if(a===0)return;for(let u=0;u<a;u++)this.write(i[s+u])}flush(){}close(){}}class Io extends m{}class sr extends Qe{constructor(i=32){if(super(),this.count=0,i<0)throw new y("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new Io;a=G.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,s,a){if(s<0||s>i.length||a<0||s+a-i.length>0)throw new V;this.ensureCapacity(this.count+a),D.arraycopy(i,s,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var se;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(se||(se={}));function Fs(){if(typeof window<"u")return window.BigInt||null;if(typeof Gi<"u")return Gi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let hn;function yi(I){if(typeof hn>"u"&&(hn=Fs()),hn===null)throw new Error("BigInt is not supported!");return hn(I)}function Wa(){let I=[];I[0]=yi(1);let i=yi(900);I[1]=i;for(let s=2;s<16;s++)I[s]=I[s-1]*i;return I}class nt{static decode(i,s){let a=new gt(""),u=J.ISO8859_1;a.enableDecoding(u);let h=1,g=i[h++],x=new Ua;for(;h<i[0];){switch(g){case nt.TEXT_COMPACTION_MODE_LATCH:h=nt.textCompaction(i,h,a);break;case nt.BYTE_COMPACTION_MODE_LATCH:case nt.BYTE_COMPACTION_MODE_LATCH_6:h=nt.byteCompaction(g,i,u,h,a);break;case nt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[h++]);break;case nt.NUMERIC_COMPACTION_MODE_LATCH:h=nt.numericCompaction(i,h,a);break;case nt.ECI_CHARSET:J.getCharacterSetECIByValue(i[h++]);break;case nt.ECI_GENERAL_PURPOSE:h+=2;break;case nt.ECI_USER_DEFINED:h++;break;case nt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=nt.decodeMacroBlock(i,h,x);break;case nt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case nt.MACRO_PDF417_TERMINATOR:throw new Z;default:h--,h=nt.textCompaction(i,h,a);break}if(h<i.length)g=i[h++];else throw Z.getFormatInstance()}if(a.length()===0)throw Z.getFormatInstance();let _=new xi(null,a.toString(),null,s);return _.setOther(x),_}static decodeMacroBlock(i,s,a){if(s+nt.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw Z.getFormatInstance();let u=new Int32Array(nt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<nt.NUMBER_OF_SEQUENCE_CODEWORDS;x++,s++)u[x]=i[s];a.setSegmentIndex(G.parseInt(nt.decodeBase900toBase10(u,nt.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new gt;s=nt.textCompaction(i,s,h),a.setFileId(h.toString());let g=-1;for(i[s]===nt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=s+1);s<i[0];)switch(i[s]){case nt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,i[s]){case nt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new gt;s=nt.textCompaction(i,s+1,x),a.setFileName(x.toString());break;case nt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new gt;s=nt.textCompaction(i,s+1,_),a.setSender(_.toString());break;case nt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new gt;s=nt.textCompaction(i,s+1,A),a.setAddressee(A.toString());break;case nt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new gt;s=nt.numericCompaction(i,s+1,C),a.setSegmentCount(G.parseInt(C.toString()));break;case nt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new gt;s=nt.numericCompaction(i,s+1,T),a.setTimestamp(So.parseLong(T.toString()));break;case nt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new gt;s=nt.numericCompaction(i,s+1,N),a.setChecksum(G.parseInt(N.toString()));break;case nt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new gt;s=nt.numericCompaction(i,s+1,U),a.setFileSize(So.parseLong(U.toString()));break;default:throw Z.getFormatInstance()}break;case nt.MACRO_PDF417_TERMINATOR:s++,a.setLastSegment(!0);break;default:throw Z.getFormatInstance()}if(g!==-1){let x=s-g;a.isLastSegment()&&x--,a.setOptionalData(H.copyOfRange(i,g,g+x))}return s}static textCompaction(i,s,a){let u=new Int32Array((i[0]-s)*2),h=new Int32Array((i[0]-s)*2),g=0,x=!1;for(;s<i[0]&&!x;){let _=i[s++];if(_<nt.TEXT_COMPACTION_MODE_LATCH)u[g]=_/30,u[g+1]=_%30,g+=2;else switch(_){case nt.TEXT_COMPACTION_MODE_LATCH:u[g++]=nt.TEXT_COMPACTION_MODE_LATCH;break;case nt.BYTE_COMPACTION_MODE_LATCH:case nt.BYTE_COMPACTION_MODE_LATCH_6:case nt.NUMERIC_COMPACTION_MODE_LATCH:case nt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case nt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case nt.MACRO_PDF417_TERMINATOR:s--,x=!0;break;case nt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[g]=nt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=i[s++],h[g]=_,g++;break}}return nt.decodeTextCompaction(u,h,g,a),s}static decodeTextCompaction(i,s,a,u){let h=se.ALPHA,g=se.ALPHA,x=0;for(;x<a;){let _=i[x],A="";switch(h){case se.ALPHA:if(_<26)A=String.fromCharCode(65+_);else switch(_){case 26:A=" ";break;case nt.LL:h=se.LOWER;break;case nt.ML:h=se.MIXED;break;case nt.PS:g=h,h=se.PUNCT_SHIFT;break;case nt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case nt.TEXT_COMPACTION_MODE_LATCH:h=se.ALPHA;break}break;case se.LOWER:if(_<26)A=String.fromCharCode(97+_);else switch(_){case 26:A=" ";break;case nt.AS:g=h,h=se.ALPHA_SHIFT;break;case nt.ML:h=se.MIXED;break;case nt.PS:g=h,h=se.PUNCT_SHIFT;break;case nt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case nt.TEXT_COMPACTION_MODE_LATCH:h=se.ALPHA;break}break;case se.MIXED:if(_<nt.PL)A=nt.MIXED_CHARS[_];else switch(_){case nt.PL:h=se.PUNCT;break;case 26:A=" ";break;case nt.LL:h=se.LOWER;break;case nt.AL:h=se.ALPHA;break;case nt.PS:g=h,h=se.PUNCT_SHIFT;break;case nt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case nt.TEXT_COMPACTION_MODE_LATCH:h=se.ALPHA;break}break;case se.PUNCT:if(_<nt.PAL)A=nt.PUNCT_CHARS[_];else switch(_){case nt.PAL:h=se.ALPHA;break;case nt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case nt.TEXT_COMPACTION_MODE_LATCH:h=se.ALPHA;break}break;case se.ALPHA_SHIFT:if(h=g,_<26)A=String.fromCharCode(65+_);else switch(_){case 26:A=" ";break;case nt.TEXT_COMPACTION_MODE_LATCH:h=se.ALPHA;break}break;case se.PUNCT_SHIFT:if(h=g,_<nt.PAL)A=nt.PUNCT_CHARS[_];else switch(_){case nt.PAL:h=se.ALPHA;break;case nt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x]);break;case nt.TEXT_COMPACTION_MODE_LATCH:h=se.ALPHA;break}break}A!==""&&u.append(A),x++}}static byteCompaction(i,s,a,u,h){let g=new sr,x=0,_=0,A=!1;switch(i){case nt.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),T=s[u++];for(;u<s[0]&&!A;)switch(C[x++]=T,_=900*_+T,T=s[u++],T){case nt.TEXT_COMPACTION_MODE_LATCH:case nt.BYTE_COMPACTION_MODE_LATCH:case nt.NUMERIC_COMPACTION_MODE_LATCH:case nt.BYTE_COMPACTION_MODE_LATCH_6:case nt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case nt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case nt.MACRO_PDF417_TERMINATOR:u--,A=!0;break;default:if(x%5===0&&x>0){for(let N=0;N<6;++N)g.write(Number(yi(_)>>yi(8*(5-N))));_=0,x=0}break}u===s[0]&&T<nt.TEXT_COMPACTION_MODE_LATCH&&(C[x++]=T);for(let N=0;N<x;N++)g.write(C[N]);break;case nt.BYTE_COMPACTION_MODE_LATCH_6:for(;u<s[0]&&!A;){let N=s[u++];if(N<nt.TEXT_COMPACTION_MODE_LATCH)x++,_=900*_+N;else switch(N){case nt.TEXT_COMPACTION_MODE_LATCH:case nt.BYTE_COMPACTION_MODE_LATCH:case nt.NUMERIC_COMPACTION_MODE_LATCH:case nt.BYTE_COMPACTION_MODE_LATCH_6:case nt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case nt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case nt.MACRO_PDF417_TERMINATOR:u--,A=!0;break}if(x%5===0&&x>0){for(let U=0;U<6;++U)g.write(Number(yi(_)>>yi(8*(5-U))));_=0,x=0}}break}return h.append(yt.decode(g.toByteArray(),a)),u}static numericCompaction(i,s,a){let u=0,h=!1,g=new Int32Array(nt.MAX_NUMERIC_CODEWORDS);for(;s<i[0]&&!h;){let x=i[s++];if(s===i[0]&&(h=!0),x<nt.TEXT_COMPACTION_MODE_LATCH)g[u]=x,u++;else switch(x){case nt.TEXT_COMPACTION_MODE_LATCH:case nt.BYTE_COMPACTION_MODE_LATCH:case nt.BYTE_COMPACTION_MODE_LATCH_6:case nt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case nt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case nt.MACRO_PDF417_TERMINATOR:s--,h=!0;break}(u%nt.MAX_NUMERIC_CODEWORDS===0||x===nt.NUMERIC_COMPACTION_MODE_LATCH||h)&&u>0&&(a.append(nt.decodeBase900toBase10(g,u)),u=0)}return s}static decodeBase900toBase10(i,s){let a=yi(0);for(let h=0;h<s;h++)a+=nt.EXP900[s-h-1]*yi(i[h]);let u=a.toString();if(u.charAt(0)!=="1")throw new Z;return u.substring(1)}}nt.TEXT_COMPACTION_MODE_LATCH=900,nt.BYTE_COMPACTION_MODE_LATCH=901,nt.NUMERIC_COMPACTION_MODE_LATCH=902,nt.BYTE_COMPACTION_MODE_LATCH_6=924,nt.ECI_USER_DEFINED=925,nt.ECI_GENERAL_PURPOSE=926,nt.ECI_CHARSET=927,nt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,nt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,nt.MACRO_PDF417_TERMINATOR=922,nt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,nt.MAX_NUMERIC_CODEWORDS=15,nt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,nt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,nt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,nt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,nt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,nt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,nt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,nt.PL=25,nt.LL=27,nt.AS=27,nt.ML=28,nt.AL=28,nt.PS=29,nt.PAL=29,nt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,nt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",nt.EXP900=Fs()?Wa():[],nt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Pt{constructor(){}static decode(i,s,a,u,h,g,x){let _=new rr(i,s,a,u,h),A=null,C=null,T;for(let j=!0;;j=!1){if(s!=null&&(A=Pt.getRowIndicatorColumn(i,_,s,!0,g,x)),u!=null&&(C=Pt.getRowIndicatorColumn(i,_,u,!1,g,x)),T=Pt.merge(A,C),T==null)throw et.getNotFoundInstance();let M=T.getBoundingBox();if(j&&M!=null&&(M.getMinY()<_.getMinY()||M.getMaxY()>_.getMaxY()))_=M;else break}T.setBoundingBox(_);let N=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,A),T.setDetectionResultColumn(N,C);let U=A!=null;for(let j=1;j<=N;j++){let M=U?j:N-j;if(T.getDetectionResultColumn(M)!==void 0)continue;let k;M===0||M===N?k=new Fa(_,M===0):k=new $t(_),T.setDetectionResultColumn(M,k);let F=-1,q=F;for(let it=_.getMinY();it<=_.getMaxY();it++){if(F=Pt.getStartColumn(T,M,it,U),F<0||F>_.getMaxX()){if(q===-1)continue;F=q}let rt=Pt.detectCodeword(i,_.getMinX(),_.getMaxX(),U,F,it,g,x);rt!=null&&(k.setCodeword(it,rt),q=F,g=Math.min(g,rt.getWidth()),x=Math.max(x,rt.getWidth()))}}return Pt.createDecoderResult(T)}static merge(i,s){if(i==null&&s==null)return null;let a=Pt.getBarcodeMetadata(i,s);if(a==null)return null;let u=rr.merge(Pt.adjustBoundingBox(i),Pt.adjustBoundingBox(s));return new rs(a,u)}static adjustBoundingBox(i){if(i==null)return null;let s=i.getRowHeights();if(s==null)return null;let a=Pt.getMax(s),u=0;for(let x of s)if(u+=a-x,x>0)break;let h=i.getCodewords();for(let x=0;u>0&&h[x]==null;x++)u--;let g=0;for(let x=s.length-1;x>=0&&(g+=a-s[x],!(s[x]>0));x--);for(let x=h.length-1;g>0&&h[x]==null;x--)g--;return i.getBoundingBox().addMissingRows(u,g,i.isLeft())}static getMax(i){let s=-1;for(let a of i)s=Math.max(s,a);return s}static getBarcodeMetadata(i,s){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let u;return s==null||(u=s.getBarcodeMetadata())==null?a:a.getColumnCount()!==u.getColumnCount()&&a.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&a.getRowCount()!==u.getRowCount()?null:a}static getRowIndicatorColumn(i,s,a,u,h,g){let x=new Fa(s,u);for(let _=0;_<2;_++){let A=_===0?1:-1,C=Math.trunc(Math.trunc(a.getX()));for(let T=Math.trunc(Math.trunc(a.getY()));T<=s.getMaxY()&&T>=s.getMinY();T+=A){let N=Pt.detectCodeword(i,0,i.getWidth(),u,C,T,h,g);N!=null&&(x.setCodeword(T,N),u?C=N.getStartX():C=N.getEndX())}}return x}static adjustCodewordCount(i,s){let a=s[0][1],u=a.getValue(),h=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Pt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(u.length===0){if(h<1||h>vt.MAX_CODEWORDS_IN_BARCODE)throw et.getNotFoundInstance();a.setValue(h)}else u[0]!==h&&a.setValue(h)}static createDecoderResult(i){let s=Pt.createBarcodeMatrix(i);Pt.adjustCodewordCount(i,s);let a=new Array,u=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),h=[],g=new Array;for(let _=0;_<i.getBarcodeRowCount();_++)for(let A=0;A<i.getBarcodeColumnCount();A++){let C=s[_][A+1].getValue(),T=_*i.getBarcodeColumnCount()+A;C.length===0?a.push(T):C.length===1?u[T]=C[0]:(g.push(T),h.push(C))}let x=new Array(h.length);for(let _=0;_<x.length;_++)x[_]=h[_];return Pt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),u,vt.toIntArray(a),vt.toIntArray(g),x)}static createDecoderResultFromAmbiguousValues(i,s,a,u,h){let g=new Int32Array(u.length),x=100;for(;x-- >0;){for(let _=0;_<g.length;_++)s[u[_]]=h[_][g[_]];try{return Pt.decodeCodewords(s,i,a)}catch(_){if(!(_ instanceof O))throw _}if(g.length===0)throw O.getChecksumInstance();for(let _=0;_<g.length;_++)if(g[_]<h[_].length-1){g[_]++;break}else if(g[_]=0,_===g.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(i){let s=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let u=0;u<s.length;u++)for(let h=0;h<s[u].length;h++)s[u][h]=new is;let a=0;for(let u of i.getDetectionResultColumns()){if(u!=null){for(let h of u.getCodewords())if(h!=null){let g=h.getRowNumber();if(g>=0){if(g>=s.length)continue;s[g][a].setValue(h.getValue())}}}a++}return s}static isValidBarcodeColumn(i,s){return s>=0&&s<=i.getBarcodeColumnCount()+1}static getStartColumn(i,s,a,u){let h=u?1:-1,g=null;if(Pt.isValidBarcodeColumn(i,s-h)&&(g=i.getDetectionResultColumn(s-h).getCodeword(a)),g!=null)return u?g.getEndX():g.getStartX();if(g=i.getDetectionResultColumn(s).getCodewordNearby(a),g!=null)return u?g.getStartX():g.getEndX();if(Pt.isValidBarcodeColumn(i,s-h)&&(g=i.getDetectionResultColumn(s-h).getCodewordNearby(a)),g!=null)return u?g.getEndX():g.getStartX();let x=0;for(;Pt.isValidBarcodeColumn(i,s-h);){s-=h;for(let _ of i.getDetectionResultColumn(s).getCodewords())if(_!=null)return(u?_.getEndX():_.getStartX())+h*x*(_.getEndX()-_.getStartX());x++}return u?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,s,a,u,h,g,x,_){h=Pt.adjustCodewordStartColumn(i,s,a,u,h,g);let A=Pt.getModuleBitCount(i,s,a,u,h,g);if(A==null)return null;let C,T=jt.sum(A);if(u)C=h+T;else{for(let j=0;j<A.length/2;j++){let M=A[j];A[j]=A[A.length-1-j],A[A.length-1-j]=M}C=h,h=C-T}if(!Pt.checkCodewordSkew(T,x,_))return null;let N=_n.getDecodedValue(A),U=vt.getCodeword(N);return U===-1?null:new ss(h,C,Pt.getCodewordBucketNumber(N),U)}static getModuleBitCount(i,s,a,u,h,g){let x=h,_=new Int32Array(8),A=0,C=u?1:-1,T=u;for(;(u?x<a:x>=s)&&A<_.length;)i.get(x,g)===T?(_[A]++,x+=C):(A++,T=!T);return A===_.length||x===(u?a:s)&&A===_.length-1?_:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,s,a,u,h,g){let x=h,_=u?-1:1;for(let A=0;A<2;A++){for(;(u?x>=s:x<a)&&u===i.get(x,g);){if(Math.abs(h-x)>Pt.CODEWORD_SKEW_SIZE)return h;x+=_}_=-_,u=!u}return x}static checkCodewordSkew(i,s,a){return s-Pt.CODEWORD_SKEW_SIZE<=i&&i<=a+Pt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,s,a){if(i.length===0)throw Z.getFormatInstance();let u=1<<s+1,h=Pt.correctErrors(i,a,u);Pt.verifyCodewordCount(i,u);let g=nt.decode(i,""+s);return g.setErrorsCorrected(h),g.setErasures(a.length),g}static correctErrors(i,s,a){if(s!=null&&s.length>a/2+Pt.MAX_ERRORS||a<0||a>Pt.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return Pt.errorCorrection.decode(i,a,s)}static verifyCodewordCount(i,s){if(i.length<4)throw Z.getFormatInstance();let a=i[0];if(a>i.length)throw Z.getFormatInstance();if(a===0)if(s<i.length)i[0]=i.length-s;else throw Z.getFormatInstance()}static getBitCountForCodeword(i){let s=new Int32Array(8),a=0,u=s.length-1;for(;!((i&1)!==a&&(a=i&1,u--,u<0));)s[u]++,i>>=1;return s}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Pt.getCodewordBucketNumber(Pt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let s=new re;for(let a=0;a<i.length;a++){s.format("Row %2d: ",a);for(let u=0;u<i[a].length;u++){let h=i[a][u];h.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}s.format("%n")}return s.toString()}}Pt.CODEWORD_SKEW_SIZE=2,Pt.MAX_ERRORS=3,Pt.MAX_EC_CODEWORDS=512,Pt.errorCorrection=new ka;class Ye{decode(i,s=null){let a=Ye.decode(i,s,!1);if(a==null||a.length===0||a[0]==null)throw et.getNotFoundInstance();return a[0]}decodeMultiple(i,s=null){try{return Ye.decode(i,s,!0)}catch(a){throw a instanceof Z||a instanceof O?et.getNotFoundInstance():a}}static decode(i,s,a){const u=new Array,h=Lt.detectMultiple(i,s,a);for(const g of h.getPoints()){const x=Pt.decode(h.getBits(),g[4],g[5],g[6],g[7],Ye.getMinCodewordWidth(g),Ye.getMaxCodewordWidth(g)),_=new ve(x.getText(),x.getRawBytes(),void 0,g,bt.PDF_417);_.putMetadata(Ve.ERROR_CORRECTION_LEVEL,x.getECLevel());const A=x.getOther();A!=null&&_.putMetadata(Ve.PDF417_EXTRA_METADATA,A),u.push(_)}return u.map(g=>g)}static getMaxWidth(i,s){return i==null||s==null?0:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMinWidth(i,s){return i==null||s==null?G.MAX_VALUE:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Ye.getMaxWidth(i[0],i[4]),Ye.getMaxWidth(i[6],i[2])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN),Math.max(Ye.getMaxWidth(i[1],i[5]),Ye.getMaxWidth(i[7],i[3])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Ye.getMinWidth(i[0],i[4]),Ye.getMinWidth(i[6],i[2])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN),Math.min(Ye.getMinWidth(i[1],i[5]),Ye.getMinWidth(i[7],i[3])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN)))}reset(){}}class os extends m{}os.kind="ReaderException";class bn{constructor(i,s){this.verbose=i===!0,s&&this.setHints(s)}decode(i,s){return s&&this.setHints(s),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const s=i!=null&&i.get(tt.TRY_HARDER)!==void 0,a=i==null?null:i.get(tt.POSSIBLE_FORMATS),u=new Array;if(a!=null){const h=a.some(g=>g===bt.UPC_A||g===bt.UPC_E||g===bt.EAN_13||g===bt.EAN_8||g===bt.CODABAR||g===bt.CODE_39||g===bt.CODE_93||g===bt.CODE_128||g===bt.ITF||g===bt.RSS_14||g===bt.RSS_EXPANDED);h&&!s&&u.push(new nr(i,this.verbose)),a.includes(bt.QR_CODE)&&u.push(new ki),a.includes(bt.DATA_MATRIX)&&u.push(new Ai),a.includes(bt.AZTEC)&&u.push(new vr),a.includes(bt.PDF_417)&&u.push(new Ye),h&&s&&u.push(new nr(i,this.verbose))}u.length===0&&(s||u.push(new nr(i,this.verbose)),u.push(new ki),u.push(new Ai),u.push(new vr),u.push(new Ye),s&&u.push(new nr(i,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new os("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(i,this.hints)}catch(a){if(a instanceof os)continue}throw new et("No MultiFormat Readers were able to detect the code.")}}class Vc extends gn{constructor(i=null,s=500){const a=new bn;a.setHints(i),super(a,s)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class Fn extends gn{constructor(i=500){super(new Ye,i)}}class jc extends gn{constructor(i=500){super(new ki,i)}}var Us;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(Us||(Us={}));var fe=Us;class Dr{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new pn(i,Int32Array.from([1])))}buildGenerator(i){const s=this.cachedGenerators;if(i>=s.length){let a=s[s.length-1];const u=this.field;for(let h=s.length;h<=i;h++){const g=a.multiply(new pn(u,Int32Array.from([1,u.exp(h-1+u.getGeneratorBase())])));s.push(g),a=g}}return s[i]}encode(i,s){if(s===0)throw new y("No error correction bytes");const a=i.length-s;if(a<=0)throw new y("No data bytes provided");const u=this.buildGenerator(s),h=new Int32Array(a);D.arraycopy(i,0,h,0,a);let g=new pn(this.field,h);g=g.multiplyByMonomial(s,1);const _=g.divide(u)[1].getCoefficients(),A=s-_.length;for(let C=0;C<A;C++)i[a+C]=0;D.arraycopy(_,0,i,a+A,_.length)}}class we{constructor(){}static applyMaskPenaltyRule1(i){return we.applyMaskPenaltyRule1Internal(i,!0)+we.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let s=0;const a=i.getArray(),u=i.getWidth(),h=i.getHeight();for(let g=0;g<h-1;g++){const x=a[g];for(let _=0;_<u-1;_++){const A=x[_];A===x[_+1]&&A===a[g+1][_]&&A===a[g+1][_+1]&&s++}}return we.N2*s}static applyMaskPenaltyRule3(i){let s=0;const a=i.getArray(),u=i.getWidth(),h=i.getHeight();for(let g=0;g<h;g++)for(let x=0;x<u;x++){const _=a[g];x+6<u&&_[x]===1&&_[x+1]===0&&_[x+2]===1&&_[x+3]===1&&_[x+4]===1&&_[x+5]===0&&_[x+6]===1&&(we.isWhiteHorizontal(_,x-4,x)||we.isWhiteHorizontal(_,x+7,x+11))&&s++,g+6<h&&a[g][x]===1&&a[g+1][x]===0&&a[g+2][x]===1&&a[g+3][x]===1&&a[g+4][x]===1&&a[g+5][x]===0&&a[g+6][x]===1&&(we.isWhiteVertical(a,x,g-4,g)||we.isWhiteVertical(a,x,g+7,g+11))&&s++}return s*we.N3}static isWhiteHorizontal(i,s,a){s=Math.max(s,0),a=Math.min(a,i.length);for(let u=s;u<a;u++)if(i[u]===1)return!1;return!0}static isWhiteVertical(i,s,a,u){a=Math.max(a,0),u=Math.min(u,i.length);for(let h=a;h<u;h++)if(i[h][s]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let s=0;const a=i.getArray(),u=i.getWidth(),h=i.getHeight();for(let _=0;_<h;_++){const A=a[_];for(let C=0;C<u;C++)A[C]===1&&s++}const g=i.getHeight()*i.getWidth();return Math.floor(Math.abs(s*2-g)*10/g)*we.N4}static getDataMaskBit(i,s,a){let u,h;switch(i){case 0:u=a+s&1;break;case 1:u=a&1;break;case 2:u=s%3;break;case 3:u=(a+s)%3;break;case 4:u=Math.floor(a/2)+Math.floor(s/3)&1;break;case 5:h=a*s,u=(h&1)+h%3;break;case 6:h=a*s,u=(h&1)+h%3&1;break;case 7:h=a*s,u=h%3+(a+s&1)&1;break;default:throw new y("Invalid mask pattern: "+i)}return u===0}static applyMaskPenaltyRule1Internal(i,s){let a=0;const u=s?i.getHeight():i.getWidth(),h=s?i.getWidth():i.getHeight(),g=i.getArray();for(let x=0;x<u;x++){let _=0,A=-1;for(let C=0;C<h;C++){const T=s?g[x][C]:g[C][x];T===A?_++:(_>=5&&(a+=we.N1+(_-5)),_=1,A=T)}_>=5&&(a+=we.N1+(_-5))}return a}}we.N1=3,we.N2=3,we.N3=40,we.N4=10;class ce{constructor(i,s){this.width=i,this.height=s;const a=new Array(s);for(let u=0;u!==s;u++)a[u]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,s){return this.bytes[s][i]}getArray(){return this.bytes}setNumber(i,s,a){this.bytes[s][i]=a}setBoolean(i,s,a){this.bytes[s][i]=a?1:0}clear(i){for(const s of this.bytes)H.fill(s,i)}equals(i){if(!(i instanceof ce))return!1;const s=i;if(this.width!==s.width||this.height!==s.height)return!1;for(let a=0,u=this.height;a<u;++a){const h=this.bytes[a],g=s.bytes[a];for(let x=0,_=this.width;x<_;++x)if(h[x]!==g[x])return!1}return!0}toString(){const i=new gt;for(let s=0,a=this.height;s<a;++s){const u=this.bytes[s];for(let h=0,g=this.width;h<g;++h)switch(u[h]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class An{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new gt;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<An.NUM_MASK_PATTERNS}}An.NUM_MASK_PATTERNS=8;class oe extends m{}oe.kind="WriterException";class Tt{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,s,a,u,h){Tt.clearMatrix(h),Tt.embedBasicPatterns(a,h),Tt.embedTypeInfo(s,u,h),Tt.maybeEmbedVersionInfo(a,h),Tt.embedDataBits(i,u,h)}static embedBasicPatterns(i,s){Tt.embedPositionDetectionPatternsAndSeparators(s),Tt.embedDarkDotAtLeftBottomCorner(s),Tt.maybeEmbedPositionAdjustmentPatterns(i,s),Tt.embedTimingPatterns(s)}static embedTypeInfo(i,s,a){const u=new $;Tt.makeTypeInfoBits(i,s,u);for(let h=0,g=u.getSize();h<g;++h){const x=u.get(u.getSize()-1-h),_=Tt.TYPE_INFO_COORDINATES[h],A=_[0],C=_[1];if(a.setBoolean(A,C,x),h<8){const T=a.getWidth()-h-1,N=8;a.setBoolean(T,N,x)}else{const N=a.getHeight()-7+(h-8);a.setBoolean(8,N,x)}}}static maybeEmbedVersionInfo(i,s){if(i.getVersionNumber()<7)return;const a=new $;Tt.makeVersionInfoBits(i,a);let u=6*3-1;for(let h=0;h<6;++h)for(let g=0;g<3;++g){const x=a.get(u);u--,s.setBoolean(h,s.getHeight()-11+g,x),s.setBoolean(s.getHeight()-11+g,h,x)}}static embedDataBits(i,s,a){let u=0,h=-1,g=a.getWidth()-1,x=a.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);x>=0&&x<a.getHeight();){for(let _=0;_<2;++_){const A=g-_;if(!Tt.isEmpty(a.get(A,x)))continue;let C;u<i.getSize()?(C=i.get(u),++u):C=!1,s!==255&&we.getDataMaskBit(s,A,x)&&(C=!C),a.setBoolean(A,x,C)}x+=h}h=-h,x+=h,g-=2}if(u!==i.getSize())throw new oe("Not all bits consumed: "+u+"/"+i.getSize())}static findMSBSet(i){return 32-G.numberOfLeadingZeros(i)}static calculateBCHCode(i,s){if(s===0)throw new y("0 polynomial");const a=Tt.findMSBSet(s);for(i<<=a-1;Tt.findMSBSet(i)>=a;)i^=s<<Tt.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,s,a){if(!An.isValidMaskPattern(s))throw new oe("Invalid mask pattern");const u=i.getBits()<<3|s;a.appendBits(u,5);const h=Tt.calculateBCHCode(u,Tt.TYPE_INFO_POLY);a.appendBits(h,10);const g=new $;if(g.appendBits(Tt.TYPE_INFO_MASK_PATTERN,15),a.xor(g),a.getSize()!==15)throw new oe("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,s){s.appendBits(i.getVersionNumber(),6);const a=Tt.calculateBCHCode(i.getVersionNumber(),Tt.VERSION_INFO_POLY);if(s.appendBits(a,12),s.getSize()!==18)throw new oe("should not happen but we got: "+s.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let s=8;s<i.getWidth()-8;++s){const a=(s+1)%2;Tt.isEmpty(i.get(s,6))&&i.setNumber(s,6,a),Tt.isEmpty(i.get(6,s))&&i.setNumber(6,s,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new oe;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,s,a){for(let u=0;u<8;++u){if(!Tt.isEmpty(a.get(i+u,s)))throw new oe;a.setNumber(i+u,s,0)}}static embedVerticalSeparationPattern(i,s,a){for(let u=0;u<7;++u){if(!Tt.isEmpty(a.get(i,s+u)))throw new oe;a.setNumber(i,s+u,0)}}static embedPositionAdjustmentPattern(i,s,a){for(let u=0;u<5;++u){const h=Tt.POSITION_ADJUSTMENT_PATTERN[u];for(let g=0;g<5;++g)a.setNumber(i+g,s+u,h[g])}}static embedPositionDetectionPattern(i,s,a){for(let u=0;u<7;++u){const h=Tt.POSITION_DETECTION_PATTERN[u];for(let g=0;g<7;++g)a.setNumber(i+g,s+u,h[g])}}static embedPositionDetectionPatternsAndSeparators(i){const s=Tt.POSITION_DETECTION_PATTERN[0].length;Tt.embedPositionDetectionPattern(0,0,i),Tt.embedPositionDetectionPattern(i.getWidth()-s,0,i),Tt.embedPositionDetectionPattern(0,i.getWidth()-s,i);const a=8;Tt.embedHorizontalSeparationPattern(0,a-1,i),Tt.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),Tt.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);const u=7;Tt.embedVerticalSeparationPattern(u,0,i),Tt.embedVerticalSeparationPattern(i.getHeight()-u-1,0,i),Tt.embedVerticalSeparationPattern(u,i.getHeight()-u,i)}static maybeEmbedPositionAdjustmentPatterns(i,s){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,u=Tt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let h=0,g=u.length;h!==g;h++){const x=u[h];if(x>=0)for(let _=0;_!==g;_++){const A=u[_];A>=0&&Tt.isEmpty(s.get(A,x))&&Tt.embedPositionAdjustmentPattern(A-2,x-2,s)}}}}Tt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Tt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Tt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Tt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Tt.VERSION_INFO_POLY=7973,Tt.TYPE_INFO_POLY=1335,Tt.TYPE_INFO_MASK_PATTERN=21522;class To{constructor(i,s){this.dataBytes=i,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ge{constructor(){}static calculateMaskPenalty(i){return we.applyMaskPenaltyRule1(i)+we.applyMaskPenaltyRule2(i)+we.applyMaskPenaltyRule3(i)+we.applyMaskPenaltyRule4(i)}static encode(i,s,a=null){let u=ge.DEFAULT_BYTE_MODE_ENCODING;const h=a!==null&&a.get(fe.CHARACTER_SET)!==void 0;h&&(u=a.get(fe.CHARACTER_SET).toString());const g=this.chooseMode(i,u),x=new $;if(g===St.BYTE&&(h||ge.DEFAULT_BYTE_MODE_ENCODING!==u)){const it=J.getCharacterSetECIByName(u);it!==void 0&&this.appendECI(it,x)}this.appendModeInfo(g,x);const _=new $;this.appendBytes(i,g,_,u);let A;if(a!==null&&a.get(fe.QR_VERSION)!==void 0){const it=Number.parseInt(a.get(fe.QR_VERSION).toString(),10);A=Ct.getVersionForNumber(it);const rt=this.calculateBitsNeeded(g,x,_,A);if(!this.willFit(rt,A,s))throw new oe("Data too big for requested version")}else A=this.recommendVersion(s,g,x,_);const C=new $;C.appendBitArray(x);const T=g===St.BYTE?_.getSizeInBytes():i.length;this.appendLengthInfo(T,A,g,C),C.appendBitArray(_);const N=A.getECBlocksForLevel(s),U=A.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(U,C);const j=this.interleaveWithECBytes(C,A.getTotalCodewords(),U,N.getNumBlocks()),M=new An;M.setECLevel(s),M.setMode(g),M.setVersion(A);const k=A.getDimensionForVersion(),F=new ce(k,k),q=this.chooseMaskPattern(j,s,A,F);return M.setMaskPattern(q),Tt.buildMatrix(j,s,A,q,F),M.setMatrix(F),M}static recommendVersion(i,s,a,u){const h=this.calculateBitsNeeded(s,a,u,Ct.getVersionForNumber(1)),g=this.chooseVersion(h,i),x=this.calculateBitsNeeded(s,a,u,g);return this.chooseVersion(x,i)}static calculateBitsNeeded(i,s,a,u){return s.getSize()+i.getCharacterCountBits(u)+a.getSize()}static getAlphanumericCode(i){return i<ge.ALPHANUMERIC_TABLE.length?ge.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,s=null){if(J.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(i))return St.KANJI;let a=!1,u=!1;for(let h=0,g=i.length;h<g;++h){const x=i.charAt(h);if(ge.isDigit(x))a=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)u=!0;else return St.BYTE}return u?St.ALPHANUMERIC:a?St.NUMERIC:St.BYTE}static isOnlyDoubleByteKanji(i){let s;try{s=yt.encode(i,J.SJIS)}catch{return!1}const a=s.length;if(a%2!==0)return!1;for(let u=0;u<a;u+=2){const h=s[u]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(i,s,a,u){let h=Number.MAX_SAFE_INTEGER,g=-1;for(let x=0;x<An.NUM_MASK_PATTERNS;x++){Tt.buildMatrix(i,s,a,x,u);let _=this.calculateMaskPenalty(u);_<h&&(h=_,g=x)}return g}static chooseVersion(i,s){for(let a=1;a<=40;a++){const u=Ct.getVersionForNumber(a);if(ge.willFit(i,u,s))return u}throw new oe("Data too big")}static willFit(i,s,a){const u=s.getTotalCodewords(),g=s.getECBlocksForLevel(a).getTotalECCodewords(),x=u-g,_=(i+7)/8;return x>=_}static terminateBits(i,s){const a=i*8;if(s.getSize()>a)throw new oe("data bits cannot fit in the QR Code"+s.getSize()+" > "+a);for(let g=0;g<4&&s.getSize()<a;++g)s.appendBit(!1);const u=s.getSize()&7;if(u>0)for(let g=u;g<8;g++)s.appendBit(!1);const h=i-s.getSizeInBytes();for(let g=0;g<h;++g)s.appendBits((g&1)===0?236:17,8);if(s.getSize()!==a)throw new oe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,s,a,u,h,g){if(u>=a)throw new oe("Block ID too large");const x=i%a,_=a-x,A=Math.floor(i/a),C=A+1,T=Math.floor(s/a),N=T+1,U=A-T,j=C-N;if(U!==j)throw new oe("EC bytes mismatch");if(a!==_+x)throw new oe("RS blocks mismatch");if(i!==(T+U)*_+(N+j)*x)throw new oe("Total bytes mismatch");u<_?(h[0]=T,g[0]=U):(h[0]=N,g[0]=j)}static interleaveWithECBytes(i,s,a,u){if(i.getSizeInBytes()!==a)throw new oe("Number of bits and data bytes does not match");let h=0,g=0,x=0;const _=new Array;for(let C=0;C<u;++C){const T=new Int32Array(1),N=new Int32Array(1);ge.getNumDataBytesAndNumECBytesForBlockID(s,a,u,C,T,N);const U=T[0],j=new Uint8Array(U);i.toBytes(8*h,j,0,U);const M=ge.generateECBytes(j,N[0]);_.push(new To(j,M)),g=Math.max(g,U),x=Math.max(x,M.length),h+=T[0]}if(a!==h)throw new oe("Data bytes does not match offset");const A=new $;for(let C=0;C<g;++C)for(const T of _){const N=T.getDataBytes();C<N.length&&A.appendBits(N[C],8)}for(let C=0;C<x;++C)for(const T of _){const N=T.getErrorCorrectionBytes();C<N.length&&A.appendBits(N[C],8)}if(s!==A.getSizeInBytes())throw new oe("Interleaving error: "+s+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(i,s){const a=i.length,u=new Int32Array(a+s);for(let g=0;g<a;g++)u[g]=i[g]&255;new Dr(Ht.QR_CODE_FIELD_256).encode(u,s);const h=new Uint8Array(s);for(let g=0;g<s;g++)h[g]=u[a+g];return h}static appendModeInfo(i,s){s.appendBits(i.getBits(),4)}static appendLengthInfo(i,s,a,u){const h=a.getCharacterCountBits(s);if(i>=1<<h)throw new oe(i+" is bigger than "+((1<<h)-1));u.appendBits(i,h)}static appendBytes(i,s,a,u){switch(s){case St.NUMERIC:ge.appendNumericBytes(i,a);break;case St.ALPHANUMERIC:ge.appendAlphanumericBytes(i,a);break;case St.BYTE:ge.append8BitBytes(i,a,u);break;case St.KANJI:ge.appendKanjiBytes(i,a);break;default:throw new oe("Invalid mode: "+s)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const s=ge.getDigit(i);return s>=0&&s<=9}static appendNumericBytes(i,s){const a=i.length;let u=0;for(;u<a;){const h=ge.getDigit(i.charAt(u));if(u+2<a){const g=ge.getDigit(i.charAt(u+1)),x=ge.getDigit(i.charAt(u+2));s.appendBits(h*100+g*10+x,10),u+=3}else if(u+1<a){const g=ge.getDigit(i.charAt(u+1));s.appendBits(h*10+g,7),u+=2}else s.appendBits(h,4),u++}}static appendAlphanumericBytes(i,s){const a=i.length;let u=0;for(;u<a;){const h=ge.getAlphanumericCode(i.charCodeAt(u));if(h===-1)throw new oe;if(u+1<a){const g=ge.getAlphanumericCode(i.charCodeAt(u+1));if(g===-1)throw new oe;s.appendBits(h*45+g,11),u+=2}else s.appendBits(h,6),u++}}static append8BitBytes(i,s,a){let u;try{u=yt.encode(i,a)}catch(h){throw new oe(h)}for(let h=0,g=u.length;h!==g;h++){const x=u[h];s.appendBits(x,8)}}static appendKanjiBytes(i,s){let a;try{a=yt.encode(i,J.SJIS)}catch(h){throw new oe(h)}const u=a.length;for(let h=0;h<u;h+=2){const g=a[h]&255,x=a[h+1]&255,_=g<<8&4294967295|x;let A=-1;if(_>=33088&&_<=40956?A=_-33088:_>=57408&&_<=60351&&(A=_-49472),A===-1)throw new oe("Invalid byte sequence");const C=(A>>8)*192+(A&255);s.appendBits(C,13)}}static appendECI(i,s){s.appendBits(St.ECI.getBits(),4),s.appendBits(i.getValue(),8)}}ge.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ge.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class or{write(i,s,a,u=null){if(i.length===0)throw new y("Found empty contents");if(s<0||a<0)throw new y("Requested dimensions are too small: "+s+"x"+a);let h=he.L,g=or.QUIET_ZONE_SIZE;u!==null&&(u.get(fe.ERROR_CORRECTION)!==void 0&&(h=he.fromString(u.get(fe.ERROR_CORRECTION).toString())),u.get(fe.MARGIN)!==void 0&&(g=Number.parseInt(u.get(fe.MARGIN).toString(),10)));const x=ge.encode(i,h,u);return this.renderResult(x,s,a,g)}writeToDom(i,s,a,u,h=null){typeof i=="string"&&(i=document.querySelector(i));const g=this.write(s,a,u,h);i&&i.appendChild(g)}renderResult(i,s,a,u){const h=i.getMatrix();if(h===null)throw new Re;const g=h.getWidth(),x=h.getHeight(),_=g+u*2,A=x+u*2,C=Math.max(s,_),T=Math.max(a,A),N=Math.min(Math.floor(C/_),Math.floor(T/A)),U=Math.floor((C-g*N)/2),j=Math.floor((T-x*N)/2),M=this.createSVGElement(C,T);for(let k=0,F=j;k<x;k++,F+=N)for(let q=0,it=U;q<g;q++,it+=N)if(h.get(q,k)===1){const rt=this.createSvgRectElement(it,F,N,N);M.appendChild(rt)}return M}createSVGElement(i,s){const a=document.createElementNS(or.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",s.toString()),a}createSvgRectElement(i,s,a,u){const h=document.createElementNS(or.SVG_NS,"rect");return h.setAttributeNS(null,"x",i.toString()),h.setAttributeNS(null,"y",s.toString()),h.setAttributeNS(null,"height",a.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}or.QUIET_ZONE_SIZE=4,or.SVG_NS="http://www.w3.org/2000/svg";class Lr{encode(i,s,a,u,h){if(i.length===0)throw new y("Found empty contents");if(s!==bt.QR_CODE)throw new y("Can only encode QR_CODE, but got "+s);if(a<0||u<0)throw new y(`Requested dimensions are too small: ${a}x${u}`);let g=he.L,x=Lr.QUIET_ZONE_SIZE;h!==null&&(h.get(fe.ERROR_CORRECTION)!==void 0&&(g=he.fromString(h.get(fe.ERROR_CORRECTION).toString())),h.get(fe.MARGIN)!==void 0&&(x=Number.parseInt(h.get(fe.MARGIN).toString(),10)));const _=ge.encode(i,g,h);return Lr.renderResult(_,a,u,x)}static renderResult(i,s,a,u){const h=i.getMatrix();if(h===null)throw new Re;const g=h.getWidth(),x=h.getHeight(),_=g+u*2,A=x+u*2,C=Math.max(s,_),T=Math.max(a,A),N=Math.min(Math.floor(C/_),Math.floor(T/A)),U=Math.floor((C-g*N)/2),j=Math.floor((T-x*N)/2),M=new Rt(C,T);for(let k=0,F=j;k<x;k++,F+=N)for(let q=0,it=U;q<g;q++,it+=N)h.get(q,k)===1&&M.setRegion(it,F,N,N);return M}}Lr.QUIET_ZONE_SIZE=4;class Ha{encode(i,s,a,u,h){let g;switch(s){case bt.QR_CODE:g=new Lr;break;default:throw new y("No encoder available for format "+s)}return g.encode(i,s,a,u,h)}}class Mn extends Ze{constructor(i,s,a,u,h,g,x,_){if(super(g,x),this.yuvData=i,this.dataWidth=s,this.dataHeight=a,this.left=u,this.top=h,u+g>s||h+x>a)throw new y("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(g,x)}getRow(i,s){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const u=(i+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,u,s,0,a),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.yuvData;const a=i*s,u=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return D.arraycopy(this.yuvData,h,u,0,a),u;for(let g=0;g<s;g++){const x=g*i;D.arraycopy(this.yuvData,h,u,x,i),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,s,a,u){return new Mn(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+s,a,u,!1)}renderThumbnail(){const i=this.getWidth()/Mn.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Mn.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*s),u=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let g=0;g<s;g++){const x=g*i;for(let _=0;_<i;_++){const A=u[h+_*Mn.THUMBNAIL_SCALE_FACTOR]&255;a[x+_]=4278190080|A*65793}h+=this.dataWidth*Mn.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Mn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Mn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,s){const a=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<s;u++,h+=this.dataWidth){const g=h+i/2;for(let x=h,_=h+i-1;x<g;x++,_--){const A=a[x];a[x]=a[_],a[_]=A}}}invert(){return new ye(this)}}Mn.THUMBNAIL_SCALE_FACTOR=2;class Fi extends Ze{constructor(i,s,a,u,h,g,x){if(super(s,a),this.dataWidth=u,this.dataHeight=h,this.left=g,this.top=x,i.BYTES_PER_ELEMENT===4){const _=s*a,A=new Uint8ClampedArray(_);for(let C=0;C<_;C++){const T=i[C],N=T>>16&255,U=T>>7&510,j=T&255;A[C]=(N+U+j)/4&255}this.luminances=A}else this.luminances=i;if(u===void 0&&(this.dataWidth=s),h===void 0&&(this.dataHeight=a),g===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+a>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(i,s){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const u=(i+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,u,s,0,a),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.luminances;const a=i*s,u=new Uint8ClampedArray(a);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return D.arraycopy(this.luminances,h,u,0,a),u;for(let g=0;g<s;g++){const x=g*i;D.arraycopy(this.luminances,h,u,x,i),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,s,a,u){return new Fi(this.luminances,a,u,this.dataWidth,this.dataHeight,this.left+i,this.top+s)}invert(){return new ye(this)}}class Va extends J{static forName(i){return this.getCharacterSetECIByName(i)}}class zs{}zs.ISO_8859_1=J.ISO8859_1;class vo{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class Ws{static singletonList(i){return[i]}static min(i,s){return i.sort(s)[0]}}class Mo{constructor(i){this.previous=i}getPrevious(){return this.previous}}class ar extends Mo{constructor(i,s,a){super(i),this.value=s,this.bitCount=a}appendTo(i,s){i.appendBits(this.value,this.bitCount)}add(i,s){return new ar(this,i,s)}addBinaryShift(i,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ar(this,i,s)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+G.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Oo extends ar{constructor(i,s,a){super(i,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=a}appendTo(i,s){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(s[this.binaryShiftStart+a],8)}addBinaryShift(i,s){return new Oo(this,i,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function No(I,i,s){return new Oo(I,i,s)}function lr(I,i,s){return new ar(I,i,s)}const Yc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ei=0,rn=1,yn=2,Pr=3,Gn=4,ja=new ar(null,0,0),Ro=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])];function Gc(I){for(let i of I)H.fill(i,-1);return I[Ei][Gn]=0,I[rn][Gn]=0,I[rn][Ei]=28,I[Pr][Gn]=0,I[yn][Gn]=0,I[yn][Ei]=15,I}const Ya=Gc(H.createInt32Array(6,6));class ri{constructor(i,s,a,u){this.token=i,this.mode=s,this.binaryShiftByteCount=a,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,s){let a=this.bitCount,u=this.token;if(i!==this.mode){let g=Ro[this.mode][i];u=lr(u,g&65535,g>>16),a+=g>>16}let h=i===yn?4:5;return u=lr(u,s,h),new ri(u,i,0,a+h)}shiftAndAppend(i,s){let a=this.token,u=this.mode===yn?4:5;return a=lr(a,Ya[this.mode][i],u),a=lr(a,s,5),new ri(a,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(i){let s=this.token,a=this.mode,u=this.bitCount;if(this.mode===Gn||this.mode===yn){let x=Ro[a][Ei];s=lr(s,x&65535,x>>16),u+=x>>16,a=Ei}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new ri(s,a,this.binaryShiftByteCount+1,u+h);return g.binaryShiftByteCount===2047+31&&(g=g.endBinaryShift(i+1)),g}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=No(s,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new ri(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let s=this.bitCount+(Ro[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?s+=ri.calculateBinaryShiftCost(i)-ri.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(s+=10),s<=i.bitCount}toBitArray(i){let s=[];for(let u=this.endBinaryShift(i.length).token;u!==null;u=u.getPrevious())s.unshift(u);let a=new $;for(const u of s)u.appendTo(a,i);return a}toString(){return ut.format("%s bits=%d bytes=%d",Yc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}ri.INITIAL_STATE=new ri(ja,Ei,0,0);function Xc(I){const i=ut.getCharCode(" "),s=ut.getCharCode("."),a=ut.getCharCode(",");I[Ei][i]=1;const u=ut.getCharCode("Z"),h=ut.getCharCode("A");for(let N=h;N<=u;N++)I[Ei][N]=N-h+2;I[rn][i]=1;const g=ut.getCharCode("z"),x=ut.getCharCode("a");for(let N=x;N<=g;N++)I[rn][N]=N-x+2;I[yn][i]=1;const _=ut.getCharCode("9"),A=ut.getCharCode("0");for(let N=A;N<=_;N++)I[yn][N]=N-A+2;I[yn][a]=12,I[yn][s]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let N=0;N<C.length;N++)I[Pr][ut.getCharCode(C[N])]=N;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<T.length;N++)ut.getCharCode(T[N])>0&&(I[Gn][ut.getCharCode(T[N])]=N);return I}const Ui=Xc(H.createInt32Array(5,256));class as{constructor(i){this.text=i}encode(){const i=ut.getCharCode(" "),s=ut.getCharCode(`
`);let a=Ws.singletonList(ri.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let g,x=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ut.getCharCode("\r"):g=x===s?2:0;break;case ut.getCharCode("."):g=x===i?3:0;break;case ut.getCharCode(","):g=x===i?4:0;break;case ut.getCharCode(":"):g=x===i?5:0;break;default:g=0}g>0?(a=as.updateStateListForPair(a,h,g),h++):a=this.updateStateListForChar(a,h)}return Ws.min(a,(h,g)=>h.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,s){const a=[];for(let u of i)this.updateStateForChar(u,s,a);return as.simplifyStates(a)}updateStateForChar(i,s,a){let u=this.text[s]&255,h=Ui[i.getMode()][u]>0,g=null;for(let x=0;x<=Gn;x++){let _=Ui[x][u];if(_>0){if(g==null&&(g=i.endBinaryShift(s)),!h||x===i.getMode()||x===yn){const A=g.latchAndAppend(x,_);a.push(A)}if(!h&&Ya[i.getMode()][x]>=0){const A=g.shiftAndAppend(x,_);a.push(A)}}}if(i.getBinaryShiftByteCount()>0||Ui[i.getMode()][u]===0){let x=i.addBinaryShiftChar(s);a.push(x)}}static updateStateListForPair(i,s,a){const u=[];for(let h of i)this.updateStateForPair(h,s,a,u);return this.simplifyStates(u)}static updateStateForPair(i,s,a,u){let h=i.endBinaryShift(s);if(u.push(h.latchAndAppend(Gn,a)),i.getMode()!==Gn&&u.push(h.shiftAndAppend(Gn,a)),a===3||a===4){let g=h.latchAndAppend(yn,16-a).latchAndAppend(yn,1);u.push(g)}if(i.getBinaryShiftByteCount()>0){let g=i.addBinaryShiftChar(s).addBinaryShiftChar(s+1);u.push(g)}}static simplifyStates(i){let s=[];for(const a of i){let u=!0;for(const h of s){if(h.isBetterThanOrEqualTo(a)){u=!1;break}a.isBetterThanOrEqualTo(h)&&(s=s.filter(g=>g!==h))}u&&s.push(a)}return s}}class Xt{constructor(){}static encodeBytes(i){return Xt.encode(i,Xt.DEFAULT_EC_PERCENT,Xt.DEFAULT_AZTEC_LAYERS)}static encode(i,s,a){let u=new as(i).encode(),h=G.truncDivision(u.getSize()*s,100)+11,g=u.getSize()+h,x,_,A,C,T;if(a!==Xt.DEFAULT_AZTEC_LAYERS){if(x=a<0,_=Math.abs(a),_>(x?Xt.MAX_NB_BITS_COMPACT:Xt.MAX_NB_BITS))throw new y(ut.format("Illegal value %s for layers",a));A=Xt.totalBitsInLayer(_,x),C=Xt.WORD_SIZE[_];let rt=A-A%C;if(T=Xt.stuffBits(u,C),T.getSize()+h>rt)throw new y("Data to large for user specified layer");if(x&&T.getSize()>C*64)throw new y("Data to large for user specified layer")}else{C=0,T=null;for(let rt=0;;rt++){if(rt>Xt.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(x=rt<=3,_=x?rt+1:rt,A=Xt.totalBitsInLayer(_,x),g>A)continue;(T==null||C!==Xt.WORD_SIZE[_])&&(C=Xt.WORD_SIZE[_],T=Xt.stuffBits(u,C));let It=A-A%C;if(!(x&&T.getSize()>C*64)&&T.getSize()+h<=It)break}}let N=Xt.generateCheckWords(T,A,C),U=T.getSize()/C,j=Xt.generateModeMessage(x,_,U),M=(x?11:14)+_*4,k=new Int32Array(M),F;if(x){F=M;for(let rt=0;rt<k.length;rt++)k[rt]=rt}else{F=M+1+2*G.truncDivision(G.truncDivision(M,2)-1,15);let rt=G.truncDivision(M,2),It=G.truncDivision(F,2);for(let xt=0;xt<rt;xt++){let sn=xt+G.truncDivision(xt,15);k[rt-xt-1]=It-sn-1,k[rt+xt]=It+sn+1}}let q=new Rt(F);for(let rt=0,It=0;rt<_;rt++){let xt=(_-rt)*4+(x?9:12);for(let sn=0;sn<xt;sn++){let Xn=sn*2;for(let pe=0;pe<2;pe++)N.get(It+Xn+pe)&&q.set(k[rt*2+pe],k[rt*2+sn]),N.get(It+xt*2+Xn+pe)&&q.set(k[rt*2+sn],k[M-1-rt*2-pe]),N.get(It+xt*4+Xn+pe)&&q.set(k[M-1-rt*2-pe],k[M-1-rt*2-sn]),N.get(It+xt*6+Xn+pe)&&q.set(k[M-1-rt*2-sn],k[rt*2+pe])}It+=xt*8}if(Xt.drawModeMessage(q,x,F,j),x)Xt.drawBullsEye(q,G.truncDivision(F,2),5);else{Xt.drawBullsEye(q,G.truncDivision(F,2),7);for(let rt=0,It=0;rt<G.truncDivision(M,2)-1;rt+=15,It+=16)for(let xt=G.truncDivision(F,2)&1;xt<F;xt+=2)q.set(G.truncDivision(F,2)-It,xt),q.set(G.truncDivision(F,2)+It,xt),q.set(xt,G.truncDivision(F,2)-It),q.set(xt,G.truncDivision(F,2)+It)}let it=new vo;return it.setCompact(x),it.setSize(F),it.setLayers(_),it.setCodeWords(U),it.setMatrix(q),it}static drawBullsEye(i,s,a){for(let u=0;u<a;u+=2)for(let h=s-u;h<=s+u;h++)i.set(h,s-u),i.set(h,s+u),i.set(s-u,h),i.set(s+u,h);i.set(s-a,s-a),i.set(s-a+1,s-a),i.set(s-a,s-a+1),i.set(s+a,s-a),i.set(s+a,s-a+1),i.set(s+a,s+a-1)}static generateModeMessage(i,s,a){let u=new $;return i?(u.appendBits(s-1,2),u.appendBits(a-1,6),u=Xt.generateCheckWords(u,28,4)):(u.appendBits(s-1,5),u.appendBits(a-1,11),u=Xt.generateCheckWords(u,40,4)),u}static drawModeMessage(i,s,a,u){let h=G.truncDivision(a,2);if(s)for(let g=0;g<7;g++){let x=h-3+g;u.get(g)&&i.set(x,h-5),u.get(g+7)&&i.set(h+5,x),u.get(20-g)&&i.set(x,h+5),u.get(27-g)&&i.set(h-5,x)}else for(let g=0;g<10;g++){let x=h-5+g+G.truncDivision(g,5);u.get(g)&&i.set(x,h-7),u.get(g+10)&&i.set(h+7,x),u.get(29-g)&&i.set(x,h+7),u.get(39-g)&&i.set(h-7,x)}}static generateCheckWords(i,s,a){let u=i.getSize()/a,h=new Dr(Xt.getGF(a)),g=G.truncDivision(s,a),x=Xt.bitsToWords(i,a,g);h.encode(x,g-u);let _=s%a,A=new $;A.appendBits(0,_);for(const C of Array.from(x))A.appendBits(C,a);return A}static bitsToWords(i,s,a){let u=new Int32Array(a),h,g;for(h=0,g=i.getSize()/s;h<g;h++){let x=0;for(let _=0;_<s;_++)x|=i.get(h*s+_)?1<<s-_-1:0;u[h]=x}return u}static getGF(i){switch(i){case 4:return Ht.AZTEC_PARAM;case 6:return Ht.AZTEC_DATA_6;case 8:return Ht.AZTEC_DATA_8;case 10:return Ht.AZTEC_DATA_10;case 12:return Ht.AZTEC_DATA_12;default:throw new y("Unsupported word size "+i)}}static stuffBits(i,s){let a=new $,u=i.getSize(),h=(1<<s)-2;for(let g=0;g<u;g+=s){let x=0;for(let _=0;_<s;_++)(g+_>=u||i.get(g+_))&&(x|=1<<s-1-_);(x&h)===h?(a.appendBits(x&h,s),g--):(x&h)===0?(a.appendBits(x|1,s),g--):a.appendBits(x,s)}return a}static totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}Xt.DEFAULT_EC_PERCENT=33,Xt.DEFAULT_AZTEC_LAYERS=0,Xt.MAX_NB_BITS=32,Xt.MAX_NB_BITS_COMPACT=4,Xt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Br{encode(i,s,a,u){return this.encodeWithHints(i,s,a,u,null)}encodeWithHints(i,s,a,u,h){let g=zs.ISO_8859_1,x=Xt.DEFAULT_EC_PERCENT,_=Xt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(fe.CHARACTER_SET)&&(g=Va.forName(h.get(fe.CHARACTER_SET).toString())),h.has(fe.ERROR_CORRECTION)&&(x=G.parseInt(h.get(fe.ERROR_CORRECTION).toString())),h.has(fe.AZTEC_LAYERS)&&(_=G.parseInt(h.get(fe.AZTEC_LAYERS).toString()))),Br.encodeLayers(i,s,a,u,g,x,_)}static encodeLayers(i,s,a,u,h,g,x){if(s!==bt.AZTEC)throw new y("Can only encode AZTEC, but got "+s);let _=Xt.encode(ut.getBytes(i,h),g,x);return Br.renderResult(_,a,u)}static renderResult(i,s,a){let u=i.getMatrix();if(u==null)throw new Re;let h=u.getWidth(),g=u.getHeight(),x=Math.max(s,h),_=Math.max(a,g),A=Math.min(x/h,_/g),C=(x-h*A)/2,T=(_-g*A)/2,N=new Rt(x,_);for(let U=0,j=T;U<g;U++,j+=A)for(let M=0,k=C;M<h;M++,k+=A)u.get(M,U)&&N.setRegion(k,j,A,A);return N}}n.ArgumentException=b,n.ArithmeticException=Qi,n.AztecCode=vo,n.AztecCodeReader=vr,n.AztecCodeWriter=Br,n.AztecDecoder=Vt,n.AztecDetector=Ns,n.AztecDetectorResult=Tr,n.AztecEncoder=Xt,n.AztecHighLevelEncoder=as,n.AztecPoint=De,n.BarcodeFormat=bt,n.Binarizer=L,n.BinaryBitmap=S,n.BitArray=$,n.BitMatrix=Rt,n.BitSource=Ps,n.BrowserAztecCodeReader=fo,n.BrowserBarcodeReader=Pa,n.BrowserCodeReader=gn,n.BrowserDatamatrixCodeReader=Bs,n.BrowserMultiFormatReader=Vc,n.BrowserPDF417Reader=Fn,n.BrowserQRCodeReader=jc,n.BrowserQRCodeSvgWriter=or,n.CharacterSetECI=J,n.ChecksumException=O,n.Code128Reader=ht,n.Code39Reader=Me,n.DataMatrixDecodedBitStreamParser=bi,n.DataMatrixReader=Ai,n.DecodeHintType=tt,n.DecoderResult=xi,n.DefaultGridSampler=Ra,n.DetectorResult=xn,n.EAN13Reader=Li,n.EncodeHintType=fe,n.Exception=m,n.FormatException=Z,n.GenericGF=Ht,n.GenericGFPoly=pn,n.GlobalHistogramBinarizer=Et,n.GridSampler=ho,n.GridSamplerInstance=Bn,n.HTMLCanvasElementLuminanceSource=dn,n.HybridBinarizer=pt,n.ITFReader=ie,n.IllegalArgumentException=y,n.IllegalStateException=Re,n.InvertedLuminanceSource=ye,n.LuminanceSource=Ze,n.MathUtils=jt,n.MultiFormatOneDReader=nr,n.MultiFormatReader=bn,n.MultiFormatWriter=Ha,n.NotFoundException=et,n.OneDReader=Ce,n.PDF417DecodedBitStreamParser=nt,n.PDF417DecoderErrorCorrection=ka,n.PDF417Reader=Ye,n.PDF417ResultMetadata=Ua,n.PerspectiveTransform=cn,n.PlanarYUVLuminanceSource=Mn,n.QRCodeByteMatrix=ce,n.QRCodeDataMask=wn,n.QRCodeDecodedBitStreamParser=Ee,n.QRCodeDecoderErrorCorrectionLevel=he,n.QRCodeDecoderFormatInformation=qe,n.QRCodeEncoder=ge,n.QRCodeEncoderQRCode=An,n.QRCodeMaskUtil=we,n.QRCodeMatrixUtil=Tt,n.QRCodeMode=St,n.QRCodeReader=ki,n.QRCodeVersion=Ct,n.QRCodeWriter=Lr,n.RGBLuminanceSource=Fi,n.RSS14Reader=Se,n.RSSExpandedReader=lt,n.ReaderException=os,n.ReedSolomonDecoder=wi,n.ReedSolomonEncoder=Dr,n.ReedSolomonException=Ji,n.Result=ve,n.ResultMetadataType=Ve,n.ResultPoint=_t,n.StringUtils=ut,n.UnsupportedOperationException=dt,n.VideoInputDevice=Ln,n.WhiteRectangleDetector=Pn,n.WriterException=oe,n.ZXingArrays=H,n.ZXingCharset=Va,n.ZXingInteger=G,n.ZXingStandardCharsets=zs,n.ZXingStringBuilder=gt,n.ZXingStringEncoding=yt,n.ZXingSystem=D,Object.defineProperty(n,"__esModule",{value:!0})})})(_e,_e.exports);const j4=Og(_e.exports),Y4=cy({__proto__:null,default:j4},[_e.exports]);var G4=function(){function e(t,n,r){if(this.formatMap=new Map([[wt.QR_CODE,_e.exports.BarcodeFormat.QR_CODE],[wt.AZTEC,_e.exports.BarcodeFormat.AZTEC],[wt.CODABAR,_e.exports.BarcodeFormat.CODABAR],[wt.CODE_39,_e.exports.BarcodeFormat.CODE_39],[wt.CODE_93,_e.exports.BarcodeFormat.CODE_93],[wt.CODE_128,_e.exports.BarcodeFormat.CODE_128],[wt.DATA_MATRIX,_e.exports.BarcodeFormat.DATA_MATRIX],[wt.MAXICODE,_e.exports.BarcodeFormat.MAXICODE],[wt.ITF,_e.exports.BarcodeFormat.ITF],[wt.EAN_13,_e.exports.BarcodeFormat.EAN_13],[wt.EAN_8,_e.exports.BarcodeFormat.EAN_8],[wt.PDF_417,_e.exports.BarcodeFormat.PDF_417],[wt.RSS_14,_e.exports.BarcodeFormat.RSS_14],[wt.RSS_EXPANDED,_e.exports.BarcodeFormat.RSS_EXPANDED],[wt.UPC_A,_e.exports.BarcodeFormat.UPC_A],[wt.UPC_E,_e.exports.BarcodeFormat.UPC_E],[wt.UPC_EAN_EXTENSION,_e.exports.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Y4)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(t),c=new Map;c.set(_e.exports.DecodeHintType.POSSIBLE_FORMATS,o),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,o){try{r(n.decode(t))}catch(c){o(c)}})},e.prototype.decode=function(t){var n=new _e.exports.MultiFormatReader(this.verbose,this.hints),r=new _e.exports.HTMLCanvasElementLuminanceSource(t),o=new _e.exports.BinaryBitmap(new _e.exports.HybridBinarizer(r)),c=n.decode(o);return{text:c.text,format:e2.create(this.toHtml5QrcodeSupportedFormats(c.format))}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have "+t;return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var c=o[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError(c+" is not supported byZXingHtml5QrcodeShim")}return n},e}(),X4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function p(y){try{b(r.next(y))}catch(S){f(S)}}function m(y){try{b(r.throw(y))}catch(S){f(S)}}function b(y){y.done?c(y.value):o(y.value).then(p,m)}b((r=r.apply(e,t||[])).next())})},Z4=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,o,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(b){return function(y){return m([b,y])}}function m(b){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(c=b[0]&2?o.return:b[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,b[1])).done)return c;switch(o=0,c&&(b=[b[0]&2,c.value]),b[0]){case 0:case 1:c=b;break;case 4:return n.label++,{value:b[1],done:!1};case 5:n.label++,o=b[1],b=[0];continue;case 7:b=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(b[0]===6||b[0]===2)){n=0;continue}if(b[0]===3&&(!c||b[1]>c[0]&&b[1]<c[3])){n.label=b[1];break}if(b[0]===6&&n.label<c[1]){n.label=c[1],c=b;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(b);break}c[2]&&n.ops.pop(),n.trys.pop();continue}b=t.call(e,n)}catch(y){b=[6,y],o=0}finally{r=c=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Sg=function(){function e(t,n,r){if(this.formatMap=new Map([[wt.QR_CODE,"qr_code"],[wt.AZTEC,"aztec"],[wt.CODABAR,"codabar"],[wt.CODE_39,"code_39"],[wt.CODE_93,"code_93"],[wt.CODE_128,"code_128"],[wt.DATA_MATRIX,"data_matrix"],[wt.ITF,"itf"],[wt.EAN_13,"ean_13"],[wt.EAN_8,"ean_8"],[wt.PDF_417,"pdf417"],[wt.UPC_A,"upc_a"],[wt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return X4(this,void 0,void 0,function(){var n,r;return Z4(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:e2.create(this.toHtml5QrcodeSupportedFormats(r.format))}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,o=0,c=t;o<c.length;o++){var f=c[o],p=f.boundingBox.width*f.boundingBox.height;p>r&&(r=p,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var c=o[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn(c+" is not supported byBarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have "+t;return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e}(),K4=function(){function e(t,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=n,o.useBarCodeDetectorIfSupported===!0&&Sg.isSupported()?this.decoder=new Sg(t,n,r):this.decoder=new G4(t,n,r)}return e.prototype.decodeAsync=function(t){var n=this,r=performance.now();return this.decoder.decodeAsync(t).finally(function(){if(n.verbose){var o=performance.now()-r;n.executionResults.push(o),n.executions++,n.possiblyFlushPerformanceReport()}})},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];t+=o}var c=t/this.executionResults.length;console.log(c+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},e}(),q4=function(){function e(){}return e.createExperimentalFeaturesConfig=function(t){return t?(t.useBarCodeDetectorIfSupported!==!0&&(t.useBarCodeDetectorIfSupported=!1),t):{useBarCodeDetectorIfSupported:!1}},e}(),Be;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Be||(Be={}));var Q4=function(){function e(){this.state=Be.NOT_STARTED,this.onGoingTransactionNewState=Be.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Be.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Be.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Be.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Be.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Be.UNKNOWN)throw"Cannnot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Be.UNKNOWN:throw"Transition from unknown is not allowed";case Be.NOT_STARTED:this.failIfNewStateIs(t,[Be.PAUSED]);break;case Be.SCANNING:break;case Be.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,o=n;r<o.length;r++){var c=o[r];if(t===c)throw"Cannot transition from "+this.state+" to "+t}},e}(),J4=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Be.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Be.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Be.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Be.PAUSED},e}(),$4=function(){function e(){}return e.create=function(){return new J4(new Q4)},e}(),tT=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fi=function(e){tT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Yi),eT=function(){function e(t,n){this.logger=n,this.fps=fi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=fi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?r2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!to(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Ig=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id="+t+" not found";this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(this.verbose=n.verbose===!0,r=n.experimentalFeatures),this.logger=new i2(this.verbose),this.qrcode=new K4(this.getSupportedFormats(n),this.verbose,this.logger,q4.createExperimentalFeaturesConfig(r)),this.foreverScanTimeout,this.localMediaStream,this.shouldScan=!0,this.stateManagerProxy=$4.create()}return e.prototype.start=function(t,n,r,o){if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";o||(o=this.verbose?this.logger.log:function(){});var c=eT.create(n,this.logger);this.clearElement();var f=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=f;c.isShadedBoxEnabled();var m=document.getElementById(this.elementId),b=m.clientWidth?m.clientWidth:fi.DEFAULT_WIDTH;m.style.position="relative",this.shouldScan=!0,this.element=m;var y=this,S=this.stateManagerProxy.startTransition(Be.SCANNING);return new Promise(function(O,L){var D=p?c.videoConstraints:y.createVideoConstraints(t);if(!D){S.cancel(),L("videoConstraints should be defined");return}navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!1,video:D}).then(function(V){y.onMediaStreamReceived(V,c,p,b,r,o).then(function(z){S.execute(),y.isScanning=!0,O(null)}).catch(function(z){S.cancel(),L(z)})}).catch(function(V){S.cancel(),L(ea.errorGettingUserMedia(V))}):(S.cancel(),L(ea.cameraStreamingNotSupported()))})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Be.PAUSED),this.showPausedState(),(to(t)||t!==!0)&&(t=!1),t&&this.videoElement&&this.videoElement.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.videoElement)throw"VideoElement doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Be.SCANNING),t.hidePausedState()},r=this.videoElement.paused;if(!r){n();return}var o=function(){var c;setTimeout(n,200),(c=t.videoElement)===null||c===void 0||c.removeEventListener("playing",o)};this.videoElement.addEventListener("playing",o),this.videoElement.play()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Be.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(!!t.element){var o=document.getElementById(fi.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}};return new Promise(function(o,c){var f=function(){t.localMediaStream=null,t.element&&(t.element.removeChild(t.videoElement),t.element.removeChild(t.canvasElement)),r(),t.qrRegion&&(t.qrRegion=null),t.context&&(t.context=null),n.execute(),t.hidePausedState(),t.isScanning=!1,o()};t.localMediaStream||f();var p=t.localMediaStream.getVideoTracks().length,m=0;t.localMediaStream.getVideoTracks().forEach(function(b){t.localMediaStream.removeTrack(b),b.stop(),++m,m>=p&&f()})})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(to(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,c){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var p=f.width,m=f.height,b=document.getElementById(r.elementId),y=b.clientWidth?b.clientWidth:fi.DEFAULT_WIDTH,S=Math.max(b.clientHeight?b.clientHeight:m,fi.FILE_SCAN_MIN_HEIGHT),O=r.computeCanvasDrawConfig(p,m,y,S);if(n){var L=r.createCanvasElement(y,S,"qr-canvas-visible");L.style.display="inline-block",b.appendChild(L);var D=L.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=y,D.canvas.height=S,D.drawImage(f,0,0,p,m,O.x,O.y,O.width,O.height)}var V=r.createCanvasElement(O.width,O.height);b.appendChild(V);var z=V.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=O.width,z.canvas.height=O.height,z.drawImage(f,0,0,p,m,0,0,O.width,O.height);try{r.qrcode.decodeAsync(V).then(function(H){o(Eg.createFromQrcodeResult(H))}).catch(c)}catch(H){c("QR code parse error, error = "+H)}},f.onerror=c,f.onabort=c,f.onstalled=c,f.onsuspend=c,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;if(MediaStreamTrack&&t.getSources)return e.getCamerasFromMediaStreamTrack();var n=function(){if(location.protocol==="https:")return!0;var o=location.host.split(":")[0];return o==="127.0.0.1"||o==="localhost"},r=ea.unableToQuerySupportedDevices();return n()||(r=ea.insecureContextCameraQueryError()),Promise.reject(r)},e.prototype.getRunningTrackCapabilities=function(){if(this.localMediaStream==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";var t=this.localMediaStream.getVideoTracks()[0];return t.getCapabilities()},e.prototype.applyVideoConstraints=function(t){var n=this;if(t){if(!r2.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";if(this.localMediaStream===null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";return new Promise(function(r,o){if("aspectRatio"in t){o("Chaning 'aspectRatio' in run-time is not yet supported.");return}var c=n.localMediaStream.getVideoTracks()[0];c.applyConstraints(t).then(function(f){r(f)}).catch(function(f){o(f)})})},e.getCamerasFromMediaDevices=function(){return new Promise(function(t,n){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(r){var o=function(c){for(var f=c.getVideoTracks(),p=0,m=f;p<m.length;p++){var b=m[p];b.enabled=!1,b.stop(),c.removeTrack(b)}};navigator.mediaDevices.enumerateDevices().then(function(c){for(var f=[],p=0,m=c;p<m.length;p++){var b=m[p];b.kind==="videoinput"&&f.push({id:b.deviceId,label:b.label})}o(r),t(f)}).catch(function(c){n(c.name+" : "+c.message)})}).catch(function(r){n(r.name+" : "+r.message)})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(c){for(var f=[],p=0,m=c;p<m.length;p++){var b=m[p];b.kind==="video"&&f.push({id:b.id,label:b.label})}t(f)},o=MediaStreamTrack;o.getSources(r)})},e.prototype.getSupportedFormats=function(t){var n=[wt.QR_CODE,wt.AZTEC,wt.CODABAR,wt.CODE_39,wt.CODE_93,wt.CODE_128,wt.DATA_MATRIX,wt.MAXICODE,wt.ITF,wt.EAN_13,wt.EAN_8,wt.PDF_417,wt.RSS_14,wt.RSS_EXPANDED,wt.UPC_A,wt.UPC_E,wt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,c=t.formatsToSupport;o<c.length;o++){var f=c[o];V4(f)?r.push(f):this.logger.warn("Invalid format: "+f+" passed in config, ignoring.")}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.validateQrboxSize=function(t,n,r){var o=this,c=r.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(t,n,c),p=function(b){if(b<fi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+(" "+fi.MIN_QR_BOX_SIZE+"px.")},m=function(b){return b>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),b=t),b};p(f.width),p(f.height),f.width=m(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var o=to(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(o);var c=this.toQrdimensions(t,n,o);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&c.height<=n,p={x:0,y:0,width:t,height:n},m=f?this.getShadedRegionBounds(t,n,c):p,b=this.createCanvasElement(m.width,m.height),y=b.getContext("2d");y.canvas.width=m.width,y.canvas.height=m.height,this.element.append(b),f&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=y,this.canvasElement=b},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText="Scanner paused",n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="yellow",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,Eg.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var c=ea.codeParseError(o);return n(c,n2.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,r){var o=this;if(!!this.shouldScan&&!!this.localMediaStream){var c=this.videoElement,f=c.videoWidth/c.clientWidth,p=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*f,b=this.qrRegion.height*p,y=this.qrRegion.x*f,S=this.qrRegion.y*p;this.context.drawImage(c,y,S,m,b,0,0,this.qrRegion.width,this.qrRegion.height);var O=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,r)},o.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(L){!L&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){O()})):O()}).catch(function(L){o.logger.logError("Error happend while scanning context",L),O()})}},e.prototype.onMediaStreamReceived=function(t,n,r,o,c,f){var p=this,m=this;return new Promise(function(b,y){var S=function(){var D=p.createVideoElement(o);m.element.append(D),D.onabort=y,D.onerror=y;var V=function(){var z=D.clientWidth,H=D.clientHeight;m.setupUi(z,H,n),m.foreverScan(n,c,f),D.removeEventListener("playing",V),b(null)};D.addEventListener("playing",V),D.srcObject=t,D.play(),m.videoElement=D};if(m.localMediaStream=t,r||!n.aspectRatio)S();else{var O={aspectRatio:n.aspectRatio},L=t.getVideoTracks()[0];L.applyConstraints(O).then(function(D){return S()}).catch(function(D){m.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",D]),S()})}})},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},c="exact",f=function(D){if(D in o)return!0;throw"config has invalid 'facingMode' value = "+("'"+D+"'")},p=Object.keys(t);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+(" if passed as an object, found "+p.length+" keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '"+n+"' and '"+r+"'  are supported for 'cameraIdOrConfig'";if(m===n){var b=t.facingMode;if(typeof b=="string"){if(f(b))return{facingMode:b}}else if(typeof b=="object")if(c in b){if(f(b[""+c]))return{facingMode:{exact:b[""+c]}}}else throw"'facingMode' should be string or object with"+(" "+c+" as key.");else{var y=typeof b;throw"Invalid type of 'facingMode' = "+y}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(c in S)return{deviceId:{exact:S[""+c]}};throw"'deviceId' should be string or object with"+(" "+c+" as key.")}else{var O=typeof S;throw"Invalid type of 'deviceId' = "+O}}}var L=typeof t;throw"Invalid type of 'cameraIdOrConfig' = "+L},e.prototype.computeCanvasDrawConfig=function(t,n,r,o){if(t<=r&&n<=o){var c=(r-t)/2,f=(o-n)/2;return{x:c,y:f,width:t,height:n}}else{var p=t,m=n;return t>r&&(n=r/t*n,t=r),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+(p+"X"+m)+(" to "+t+"X"+n+".")),this.computeCanvasDrawConfig(t,n,r,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width=t+"px",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?fi.BORDER_SHADER_MATCH_COLOR:fi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var o=t,c=n,f=document.createElement("canvas");return f.style.width=o+"px",f.style.height=c+"px",f.style.display="none",f.id=to(r)?"qr-canvas":r,f},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,o){if(!(n-o.width<1||r-o.height<1)){var c=document.createElement("div");c.style.position="absolute";var f=(n-o.width)/2,p=(r-o.height)/2;if(c.style.borderLeft=f+"px solid #0000007a",c.style.borderRight=f+"px solid #0000007a",c.style.borderTop=p+"px solid #0000007a",c.style.borderBottom=p+"px solid #0000007a",c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id=""+fi.SHADED_REGION_ELEMENT_ID,n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var m=5,b=40;this.insertShaderBorders(c,b,m,-m,0,!0),this.insertShaderBorders(c,b,m,-m,0,!1),this.insertShaderBorders(c,b,m,o.height+m,0,!0),this.insertShaderBorders(c,b,m,o.height+m,0,!1),this.insertShaderBorders(c,m,b+m,-m,-m,!0),this.insertShaderBorders(c,m,b+m,o.height+m-b,-m,!0),this.insertShaderBorders(c,m,b+m,-m,-m,!1),this.insertShaderBorders(c,m,b+m,o.height+m-b,-m,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,r,o,c,f){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=fi.BORDER_SHADER_DEFAULT_COLOR,p.style.width=n+"px",p.style.height=r+"px",p.style.top=o+"px",f?p.style.left=c+"px":p.style.right=c+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Wf="data:image/svg+xml;base64,",nT=Wf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",iT=Wf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Tg=Wf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",rT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",vg=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),sT=function(){function e(){this.data=vg.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=vg.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),oT=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid silver",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(248 248 248)",this.infoDiv.innerText=Cg.builtUsing();var n=document.createElement("a");n.innerText="html5-qrcode",n.href="https://github.com/mebjas/html5-qrcode",n.target="new",this.infoDiv.appendChild(n);var r=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(o);var c=document.createElement("a");c.innerText=Cg.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),aT=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Tg,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=rT,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Tg,this.infoIcon.style.opacity="0.6")},e}(),lT=function(){function e(){var t=this;this.infoDiv=new oT,this.infoIcon=new aT(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),Mg=function(){function e(){}return e.hasCameraPermissions=function(){return new Promise(function(t,n){navigator.mediaDevices.enumerateDevices().then(function(r){r.forEach(function(o){o.kind==="videoinput"&&o.label&&t(!0)}),t(!1)})})},e}(),_r=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Ir.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Ir.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Yi.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Yi.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max "+n+" values expected for supportedScanTypes";for(var r=0,o=t;r<o.length;r++){var c=o[r];if(!Yi.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type "+c}return t},e}(),di;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(di||(di={}));function cT(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function uT(e,t){return{formatsToSupport:e.formatsToSupport,experimentalFeatures:e.experimentalFeatures,verbose:t}}var hT=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id="+t+" not found";this.scanTypeSelector=new _r(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new i2(this.verbose),this.persistedDataManager=new sT,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,f){if(t)t(c,f);else{if(r.lastMatchFound===c)return;r.lastMatchFound=c,r.setHeaderMessage(Mi.lastMatch(c),di.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,f){n&&n(c,f)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id="+this.elementId+" not found";o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new Ig(this.getScanRegionId(),uT(this.config,this.verbose))},e.prototype.pause=function(t){if(!this.html5Qrcode)throw"Code scanner not initialized.";(to(t)||t!==!0)&&(t=!1),this.html5Qrcode.pause(t)},e.prototype.resume=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";this.html5Qrcode.resume()},e.prototype.getState=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,o){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),o(c)}):(t.html5Qrcode.clear(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getRunningTrackCapabilities()},e.prototype.applyVideoConstraints=function(t){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.applyVideoConstraints(t)},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Yi.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Yi.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Yi.DEFAULT_REMEMBER_LAST_CAMERA_USED),t):{fps:Yi.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Yi.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Yi.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),_r.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),c=this.getDashboardId();o.id=c,o.style.width="100%",t.appendChild(o),this.setupInitialDashboard(o)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new lT;r.renderInto(n);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",n.appendChild(o)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var o=this;o.setHeaderMessage(Mi.cameraPermissionRequesting());var c=function(){r||o.createPermissionButton(t,n)};Ig.getCameras().then(function(f){o.persistedDataManager.setHasPermission(!0),o.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),o.renderCameraSelection(f)):(o.setHeaderMessage(Mi.noCameraFound(),di.STATUS_WARNING),c())}).catch(function(f){o.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:c(),o.setHeaderMessage(f,di.STATUS_WARNING)})},e.prototype.createPermissionButton=function(t,n){var r=this,o=document.createElement("button");o.id=this.getCameraPermissionButtonId(),o.innerText=Mi.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,r.createCameraListUi(t,n,o)}),n.appendChild(o)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(_r.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Mg.hasCameraPermissions().then(function(o){o?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(o){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=_r.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var o=document.createElement("div");o.style.textAlign="center",r.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,o),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=this,r=document.createElement("div");r.id=this.getDashboardSectionFileScanRegionId(),r.style.textAlign="center",r.style.display=_r.isCameraScanType(this.currentScanType)?"none":"block",t.appendChild(r);var o=document.createElement("input");o.id=this.getFileScanInputId(),o.accept="image/*",o.type="file",o.style.width="200px",o.disabled=_r.isCameraScanType(this.currentScanType);var c=document.createElement("span");c.innerText=" Select Image",r.appendChild(o),r.appendChild(c),o.addEventListener("change",function(f){if(!n.html5Qrcode)throw"html5Qrcode not defined";if(!(f==null||f.target==null)&&!!_r.isFileScanType(n.currentScanType)&&f.target.files.length!==0){var p=f.target.files[0];n.html5Qrcode.scanFileV2(p,!0).then(function(m){n.resetHeaderMessage(),n.qrCodeSuccessCallback(m.decodedText,m)}).catch(function(m){n.setHeaderMessage(m,di.STATUS_WARNING),n.qrCodeErrorCallback(m,n2.createFrom(m))})}})},e.prototype.renderCameraSelection=function(t){var n=this,r=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var c=document.createElement("span");c.style.marginRight="10px";var f=t.length,p=document.createElement("select");if(f===1)p.style.display="none";else{var m=Mi.selectCamera();c.innerText=m+" ("+t.length+")  "}p.id=this.getCameraSelectionId();for(var b=[],y=0,S=t;y<S.length;y++){var O=S[y],L=O.id,D=O.label==null?L:O.label,V=document.createElement("option");V.value=L,V.innerText=D,b.push(V),p.appendChild(V)}c.appendChild(p),o.appendChild(c);var z=document.createElement("span"),H=document.createElement("button");H.innerText=Mi.scanButtonStartScanningText(),z.appendChild(H);var G=document.createElement("button");G.innerText=Mi.scanButtonStopScanningText(),G.style.display="none",G.disabled=!0,z.appendChild(G),o.appendChild(z);var $=function(J){J||(H.style.display="none"),H.innerText=Mi.scanButtonStartScanningText(),H.style.opacity="1",H.disabled=!1,J&&(H.style.display="inline-block")};if(H.addEventListener("click",function(J){H.innerText=Mi.scanButtonScanningStarting(),p.disabled=!0,H.disabled=!0,H.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var dt=p.value;r.persistedDataManager.setLastUsedCameraId(dt),r.html5Qrcode.start(dt,cT(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(yt){G.disabled=!1,G.style.display="inline-block",$(!1)}).catch(function(yt){r.showHideScanTypeSwapLink(!0),p.disabled=!1,$(!0),r.setHeaderMessage(yt,di.STATUS_WARNING)})}),f===1&&H.click(),G.addEventListener("click",function(J){if(!r.html5Qrcode)throw"html5Qrcode not defined";G.disabled=!0,r.html5Qrcode.stop().then(function(dt){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),p.disabled=!1,H.disabled=!1,G.style.display="none",H.style.display="inline-block",r.insertCameraScanImageToScanRegion()}).catch(function(dt){G.disabled=!1,r.setHeaderMessage(dt,di.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){for(var Q=r.persistedDataManager.getLastUsedCameraId(),tt=!1,Z=0,at=b;Z<at.length;Z++){var V=at[Z];if(V.value===Q){tt=!0;break}}tt?(p.value=Q,H.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Mi.textIfCameraScanSelected(),r=Mi.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var f=document.createElement("a");f.style.textDecoration="underline",f.id=this.getDashboardSectionSwapLinkId(),f.innerText=_r.isCameraScanType(this.currentScanType)?n:r,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.getFileScanInput().value="",t.sectionSwapAllowed=!1,_r.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getFileScanInput().disabled=!1,t.getCameraScanRegion().style.display="none",t.getFileScanRegion().style.display="block",f.innerText=r,t.currentScanType=Ir.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getFileScanInput().disabled=!0,t.getCameraScanRegion().style.display="block",t.getFileScanRegion().style.display="none",f.innerText=n,t.currentScanType=Ir.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(f),o.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Mg.hasCameraPermissions().then(function(r){if(r){var o=document.getElementById(n.getCameraPermissionButtonId());if(!o)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=di.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case di.STATUS_SUCCESS:r.style.background="#6aaf5042",r.style.color="#477735";break;case di.STATUS_WARNING:r.style.background="#cb243124",r.style.color="#cb2431";break;case di.STATUS_DEFAULT:default:r.style.background="#00000000",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none"},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=nT},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=iT},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},e.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},e.prototype.getDashboardSectionFileScanRegionId=function(){return this.elementId+"__dashboard_section_fsr"},e.prototype.getDashboardSectionSwapLinkId=function(){return this.elementId+"__dashboard_section_swaplink"},e.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},e.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},e.prototype.getFileScanInputId=function(){return this.elementId+"__filescan_input"},e.prototype.getStatusSpanId=function(){return this.elementId+"__status_span"},e.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},e.prototype.getCameraSelectionId=function(){return this.elementId+"__camera_selection"},e.prototype.getCameraPermissionButtonId=function(){return this.elementId+"__camera_permission_button"},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getFileScanRegion=function(){return document.getElementById(this.getDashboardSectionFileScanRegionId())},e.prototype.getFileScanInput=function(){return document.getElementById(this.getFileScanInputId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();window.Alpine=sx;window.Chart=Mc;window.Html5QrcodeScanner=hT;window.Html5QrcodeSupportedFormats=wt;window.Html5QrcodeScanType=Ir;sx.start();
